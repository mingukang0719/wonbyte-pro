"use strict";(self.webpackChunkwonbyte_pro=self.webpackChunkwonbyte_pro||[]).push([[166],{166:(n,t,e)=>{e.r(t),e.d(t,{default:()=>o});const o=class{constructor(){this.A4_WIDTH="210mm",this.A4_HEIGHT="297mm"}generatePDF(n){const{title:t="한국어 학습 자료",blocks:e=[]}=n;try{return{success:!0,htmlContent:this.generateHTML(t,e),title:t}}catch(n){throw console.error("PDF Generation Error:",n),new Error(`PDF 생성에 실패했습니다: ${n.message}`)}}generateHTML(n,t){const e=t.map(n=>"text"===n.type?this.generateTextBlockHTML(n):"").join("\n");return`<!DOCTYPE html>\n<html lang="ko">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>${n}</title>\n  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n\n    body {\n      font-family: 'Noto Sans KR', sans-serif;\n      background: #f5f5f5;\n      padding: 20px;\n    }\n\n    .page {\n      width: ${this.A4_WIDTH};\n      min-height: ${this.A4_HEIGHT};\n      background: white;\n      margin: 0 auto;\n      padding: 20mm;\n      box-shadow: 0 0 10px rgba(0,0,0,0.1);\n      position: relative;\n    }\n\n    .block {\n      position: absolute;\n      word-wrap: break-word;\n      overflow-wrap: break-word;\n    }\n\n    .text-block {\n      white-space: pre-wrap;\n      line-height: 1.6;\n    }\n\n    @page {\n      size: A4;\n      margin: 0;\n    }\n\n    @media print {\n      body {\n        background: white;\n        padding: 0;\n      }\n      \n      .page {\n        box-shadow: none;\n        margin: 0;\n        width: 100%;\n        min-height: 100vh;\n      }\n    }\n\n    /* 인쇄용 스타일 */\n    .no-print {\n      display: none !important;\n    }\n\n    @media print {\n      .no-print {\n        display: none !important;\n      }\n    }\n\n    .print-controls {\n      text-align: center;\n      margin-top: 20px;\n      padding: 20px;\n      background: white;\n      border-radius: 8px;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    }\n\n    .print-button {\n      background: #3b82f6;\n      color: white;\n      border: none;\n      padding: 12px 24px;\n      border-radius: 6px;\n      font-size: 16px;\n      cursor: pointer;\n      font-family: 'Noto Sans KR', sans-serif;\n      margin: 0 8px;\n      transition: background-color 0.2s;\n    }\n\n    .print-button:hover {\n      background: #2563eb;\n    }\n\n    .close-button {\n      background: #6b7280;\n      color: white;\n      border: none;\n      padding: 12px 24px;\n      border-radius: 6px;\n      font-size: 16px;\n      cursor: pointer;\n      font-family: 'Noto Sans KR', sans-serif;\n      margin: 0 8px;\n      transition: background-color 0.2s;\n    }\n\n    .close-button:hover {\n      background: #4b5563;\n    }\n  </style>\n</head>\n<body>\n  <div class="page">\n    ${e}\n    \n    \x3c!-- 페이지 정보 --\x3e\n    <div style="position: absolute; bottom: 10px; right: 10px; font-size: 10px; color: #999;">\n      ${n} - 생성일: ${(new Date).toLocaleDateString("ko-KR")}\n    </div>\n  </div>\n\n  \x3c!-- 인쇄 컨트롤 (화면에서만 보임) --\x3e\n  <div class="print-controls no-print">\n    <h2 style="margin-bottom: 16px; color: #1f2937;">PDF 내보내기</h2>\n    <p style="margin-bottom: 20px; color: #666; font-size: 14px;">\n      브라우저의 인쇄 기능을 사용하여 PDF로 저장할 수 있습니다.\n    </p>\n    <button class="print-button" onclick="window.print()">\n      📄 PDF로 저장 / 인쇄\n    </button>\n    <button class="close-button" onclick="window.close()">\n      ✕ 닫기\n    </button>\n  </div>\n\n  <script>\n    // 인쇄 완료 후 처리\n    window.addEventListener('afterprint', function() {\n      console.log('인쇄 완료');\n    });\n\n    // 키보드 단축키\n    document.addEventListener('keydown', function(e) {\n      if (e.ctrlKey && e.key === 'p') {\n        e.preventDefault();\n        window.print();\n      }\n      if (e.key === 'Escape') {\n        window.close();\n      }\n    });\n  <\/script>\n</body>\n</html>`}generateTextBlockHTML(n){const{x:t=0,y:e=0,width:o=200,height:r=100,text:i="",fontSize:s=16,fontFamily:a="Noto Sans KR",color:p="#333333"}=n;return`\n    <div class="block text-block" style="\n      left: ${t}px;\n      top: ${e}px;\n      width: ${o}px;\n      height: ${r}px;\n      font-size: ${s}px;\n      font-family: '${a}', sans-serif;\n      color: ${p};\n    ">${this.escapeHtml(i)}</div>`}escapeHtml(n){return n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\n/g,"<br>"):""}openPDFPreview(n,t){const e=this.generatePDF({title:n,blocks:t});if(e.success){const n=window.open("","_blank","width=900,height=1200,scrollbars=yes");return n.document.write(e.htmlContent),n.document.close(),!0}return!1}}}}]);
//# sourceMappingURL=166.2ee03ff1993f09ed25b2.js.map