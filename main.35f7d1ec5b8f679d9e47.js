(()=>{"use strict";var e,s,t,a,l,r={280:(e,s,t)=>{var a=t(540),l=t(338),r=t(648),n=t(521),i=t(628),o=t(848);function c(){return(0,o.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,o.jsx)("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:(0,o.jsx)(i.iUU,{className:"h-6 w-6 text-white"})}),(0,o.jsx)("h1",{className:"ml-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"원바이트 PRO"}),(0,o.jsx)("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:"문해력 훈련"})]}),(0,o.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,o.jsx)("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"기능"}),(0,o.jsx)(r.N_,{to:"/reading-trainer",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"문해력 훈련"}),(0,o.jsx)(r.N_,{to:"/editor",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"학습자료 제작"}),(0,o.jsx)(r.N_,{to:"/admin/login",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"관리자"}),(0,o.jsx)(r.N_,{to:"/reading-trainer",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-200",children:"시작하기"})]})]})})}),(0,o.jsxs)("main",{className:"relative",children:[(0,o.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,o.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-200 rounded-full opacity-20 blur-3xl"}),(0,o.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-200 rounded-full opacity-20 blur-3xl"})]}),(0,o.jsx)("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["AI 기반 맞춤형",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"한국어 문해력 훈련"})]}),(0,o.jsxs)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:["아이들이 좋아하는 주제로 흥미롭게 읽기 실력을 키워요!",(0,o.jsx)("br",{}),"AI가 학년별 맞춤 지문과 문제를 자동으로 생성합니다"]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[(0,o.jsxs)(r.N_,{to:"/reading-trainer",className:"group bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:shadow-xl transition-all duration-300 flex items-center",children:["문해력 훈련 시작하기",(0,o.jsx)(i.Qpb,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),(0,o.jsx)(r.N_,{to:"/editor",className:"border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-xl text-lg font-semibold hover:border-blue-300 hover:text-blue-600 transition-all duration-300",children:"학습자료 제작하기"})]}),(0,o.jsx)("div",{className:"relative max-w-4xl mx-auto",children:(0,o.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-200",children:(0,o.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"문해력 훈련 3단계 프로세스"}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,o.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,o.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),(0,o.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-inner",children:(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{className:"text-center p-4 border-2 border-blue-200 rounded-lg bg-blue-50",children:[(0,o.jsx)("div",{className:"text-blue-600 font-bold text-2xl mb-2",children:"1"}),(0,o.jsx)("p",{className:"font-semibold",children:"지문 준비"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"AI 생성 또는 직접 입력"})]}),(0,o.jsxs)("div",{className:"text-center p-4 border-2 border-purple-200 rounded-lg bg-purple-50",children:[(0,o.jsx)("div",{className:"text-purple-600 font-bold text-2xl mb-2",children:"2"}),(0,o.jsx)("p",{className:"font-semibold",children:"문해력 분석"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"5가지 기준 난이도 평가"})]}),(0,o.jsxs)("div",{className:"text-center p-4 border-2 border-green-200 rounded-lg bg-green-50",children:[(0,o.jsx)("div",{className:"text-green-600 font-bold text-2xl mb-2",children:"3"}),(0,o.jsx)("p",{className:"font-semibold",children:"문제 풀이"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"어휘·독해 문제 자동 생성"})]})]})})]})})})]})}),(0,o.jsx)("section",{id:"features",className:"relative py-20 bg-white",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"text-center mb-16",children:[(0,o.jsx)("h3",{className:"text-4xl font-bold text-gray-900 mb-4",children:"강력한 기능"}),(0,o.jsx)("p",{className:"text-xl text-gray-600",children:"체계적인 한국어 문해력 향상을 위한 핵심 기능"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.sUz,{className:"h-8 w-8 text-blue-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"맞춤형 지문 생성"}),(0,o.jsx)("p",{className:"text-gray-600",children:"아이의 관심사와 학년에 맞춘 AI 기반 읽기 지문 자동 생성"})]}),(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.esB,{className:"h-8 w-8 text-purple-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"문해력 난이도 분석"}),(0,o.jsx)("p",{className:"text-gray-600",children:"5가지 기준으로 지문의 난이도를 정밀하게 분석"})]}),(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.KqI,{className:"h-8 w-8 text-green-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"자동 문제 생성"}),(0,o.jsx)("p",{className:"text-gray-600",children:"어휘, 독해, 비판적 사고 문제를 AI가 자동으로 생성"})]}),(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-orange-100 to-orange-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.f5X,{className:"h-8 w-8 text-orange-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"학습 문제집 출력"}),(0,o.jsx)("p",{className:"text-gray-600",children:"완성된 학습 자료를 PDF로 다운로드하여 활용"})]})]})]})}),(0,o.jsx)("section",{className:"relative py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,o.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,o.jsx)("h3",{className:"text-4xl font-bold text-white mb-6",children:"아이의 읽기 실력을 키워주세요"}),(0,o.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"흥미로운 주제로 시작하는 체계적인 문해력 훈련"}),(0,o.jsxs)(r.N_,{to:"/reading-trainer",className:"inline-flex items-center bg-white text-blue-600 px-8 py-4 rounded-xl text-lg font-semibold hover:shadow-xl transition-all duration-300 group",children:["문해력 훈련 시작하기",(0,o.jsx)(i.Qpb,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})})]}),(0,o.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center mb-4 md:mb-0",children:[(0,o.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:(0,o.jsx)(i.iUU,{className:"h-5 w-5 text-white"})}),(0,o.jsx)("span",{className:"ml-2 text-lg font-semibold",children:"원바이트 PRO - 문해력 훈련 프로그램"})]}),(0,o.jsx)("div",{className:"text-gray-400",children:(0,o.jsx)("p",{children:"© 2025 원바이트 PRO. All rights reserved."})})]})})})]})}const d=({id:e,x:s=100,y:t=100,width:l=200,height:r=100,text:n="텍스트를 입력하세요",fontSize:c=16,fontFamily:d="Noto Sans KR",color:m="#333333",isSelected:x=!1,onSelect:u,onUpdate:h,onDelete:g})=>{const[p,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[f,N]=(0,a.useState)({x:0,y:0}),[v,w]=(0,a.useState)(n),C=(0,a.useRef)(null),k=s=>{if(!y)return;const t=s.clientX-f.x,a=s.clientY-f.y;h?.(e,{x:t,y:a})},S=()=>{j(!1)},A=()=>{b(!1),v!==n&&h?.(e,{text:v})};return(0,a.useEffect)(()=>{if(y)return document.addEventListener("mousemove",k),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",S)}},[y,f]),(0,a.useEffect)(()=>{p&&C.current&&(C.current.focus(),C.current.select())},[p]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:`\n          absolute border-2 transition-all duration-200 cursor-move bg-white\n          ${x?"border-blue-500 shadow-lg":"border-transparent hover:border-gray-300"}\n          ${y?"cursor-grabbing shadow-xl z-50":"cursor-grab"}\n        `,style:{left:`${s}px`,top:`${t}px`,width:`${l}px`,height:`${r}px`,fontFamily:d,fontSize:`${c}px`,color:m},onMouseDown:a=>{"TEXTAREA"!==a.target.tagName&&(a.preventDefault(),j(!0),N({x:a.clientX-s,y:a.clientY-t}),u?.(e))},onDoubleClick:()=>{b(!0)},children:[p?(0,o.jsx)("textarea",{ref:C,value:v,onChange:e=>{w(e.target.value)},onBlur:A,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&(w(n),b(!1)):(e.preventDefault(),A())},className:"w-full h-full p-2 resize-none border-none outline-none bg-transparent",style:{fontFamily:d,fontSize:`${c}px`,color:m},placeholder:"텍스트를 입력하세요..."}):(0,o.jsx)("div",{className:"w-full h-full p-2 overflow-hidden",style:{fontFamily:d,fontSize:`${c}px`,color:m,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:n||"텍스트를 입력하세요"}),x&&!p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-blue-500 border border-white cursor-se-resize"}),(0,o.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 border border-white cursor-ne-resize"}),(0,o.jsx)("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-blue-500 border border-white cursor-nw-resize"}),(0,o.jsx)("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-blue-500 border border-white cursor-sw-resize"}),(0,o.jsxs)("div",{className:"absolute -top-8 right-0 flex space-x-1",children:[(0,o.jsx)("button",{onClick:()=>b(!0),className:"p-1 bg-blue-500 text-white rounded shadow hover:bg-blue-600",title:"편집",children:(0,o.jsx)(i.ZUJ,{className:"w-3 h-3"})}),(0,o.jsx)("button",{onClick:()=>g?.(e),className:"p-1 bg-red-500 text-white rounded shadow hover:bg-red-600",title:"삭제",children:(0,o.jsx)(i.TBR,{className:"w-3 h-3"})})]})]})]}),x&&(0,o.jsx)("div",{className:"absolute bg-blue-500 text-white text-xs px-2 py-1 rounded shadow",style:{left:`${s}px`,top:t-24+"px"},children:"텍스트 블록"})]})};function m(){const e=(0,r.Zp)(),[s,l]=(0,a.useState)(100),[n,c]=(0,a.useState)(!0),[m,x]=(0,a.useState)("select"),[u,h]=(0,a.useState)("gemini"),[g,p]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[j,f]=(0,a.useState)(""),[N,v]=(0,a.useState)("reading"),[w,C]=(0,a.useState)("intermediate"),[k,S]=(0,a.useState)("elem1"),[A,E]=(0,a.useState)("400"),[I,T]=(0,a.useState)(null),[$,P]=(0,a.useState)([]),[L,_]=(0,a.useState)(null),[O,R]=(0,a.useState)(!1),[D,q]=(0,a.useState)(null),[M,F]=(0,a.useState)([]),[U,z]=(0,a.useState)(!1),[G,V]=(0,a.useState)(!1),[J,B]=(0,a.useState)(null),[K,X]=(0,a.useState)([]),[H,W]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)("main"),[Q,ee]=(0,a.useState)({main:[],vocabulary:[],questions:[],answers:[]}),[se,te]=(0,a.useState)(!1),[ae,le]=(0,a.useState)(null),re=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),ne=(e,s)=>{P(t=>t.map(t=>t.id===e?{...t,...s}:t))},ie=e=>{P(s=>s.filter(s=>s.id!==e)),L===e&&_(null)},oe=e=>{_(e)},ce={elem1:"초등학교 1학년",elem2:"초등학교 2학년",elem3:"초등학교 3학년",elem4:"초등학교 4학년",elem5:"초등학교 5학년",elem6:"초등학교 6학년",middle1:"중학교 1학년",middle2:"중학교 2학년",middle3:"중학교 3학년",high1:"고등학교 1학년",high2:"고등학교 2학년",high3:"고등학교 3학년"};return(0,o.jsxs)("div",{className:"h-screen flex flex-col bg-gray-100",children:[(0,o.jsxs)("header",{className:"bg-white border-b border-gray-300 px-4 py-2 flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,o.jsx)(i.ww0,{className:"w-5 h-5"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"홈으로"})]}),(0,o.jsx)("div",{className:"w-px h-6 bg-gray-300"}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-600",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-600",children:(0,o.jsx)(i.VnB,{className:"w-4 h-4"})}),(0,o.jsx)("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-600",children:(0,o.jsx)(i.Bal,{className:"w-4 h-4"})})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{id:"main",label:"지문",icon:"📄"},{id:"vocabulary",label:"어휘",icon:"📚"},{id:"questions",label:"문제",icon:"❓"},{id:"answers",label:"해설",icon:"💡"}].map(e=>(0,o.jsxs)("button",{onClick:()=>{return s=e.id,ee(e=>({...e,[Y]:$})),Z(s),P(Q[s]||[]),void _(null);var s},className:`\n                  px-3 py-1 rounded text-sm font-medium transition-colors flex items-center space-x-1\n                  ${Y===e.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}\n                `,children:[(0,o.jsx)("span",{children:e.icon}),(0,o.jsx)("span",{children:e.label}),Q[e.id]?.length>0&&(0,o.jsx)("span",{className:"ml-1 bg-blue-100 text-blue-600 text-xs px-1 rounded",children:Q[e.id].length})]},e.id))}),(0,o.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:"저장됨"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,o.jsx)("button",{onClick:()=>l(e=>Math.max(50,e-10)),className:"p-1 rounded hover:bg-white",children:(0,o.jsx)(i.enP,{className:"w-4 h-4"})}),(0,o.jsxs)("span",{className:"text-sm text-gray-600 min-w-12 text-center",children:[s,"%"]}),(0,o.jsx)("button",{onClick:()=>l(e=>Math.min(200,e+10)),className:"p-1 rounded hover:bg-white",children:(0,o.jsx)(i.$Zd,{className:"w-4 h-4"})})]}),(0,o.jsx)("button",{onClick:()=>c(!n),className:"p-2 rounded "+(n?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-600"),children:(0,o.jsx)(i.xA9,{className:"w-4 h-4"})}),(0,o.jsxs)("button",{onClick:async()=>{try{const e={...Q,[Y]:$},s=Object.entries(e).filter(([e,s])=>s.length>0).map(([e,s])=>({title:"main"===e?"지문":"vocabulary"===e?"어휘":"questions"===e?"문제":"해설",blocks:s}));if(0===s.length)return void alert("내보낼 내용이 없습니다.");if(!(new(0,(await t.e(166).then(t.bind(t,166))).default)).openPDFPreview("한국어 학습 자료",s))throw new Error("PDF 생성에 실패했습니다")}catch(e){console.error("PDF 내보내기 실패:",e),alert(`PDF 내보내기에 실패했습니다: ${e.message}`)}},className:"px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 bg-blue-600 text-white hover:bg-blue-700",children:[(0,o.jsx)(i.f5X,{className:"w-4 h-4"}),(0,o.jsx)("span",{children:"PDF 내보내기"})]})]})]}),(0,o.jsxs)("div",{className:"flex-1 flex",children:[(0,o.jsxs)("div",{className:"w-16 bg-white border-r border-gray-300 flex flex-col items-center py-4 space-y-2",children:[[{id:"select",icon:"🔘",label:"선택"},{id:"text",icon:(0,o.jsx)(i.ZUJ,{className:"w-5 h-5"}),label:"텍스트"},{id:"image",icon:(0,o.jsx)(i._V3,{className:"w-5 h-5"}),label:"이미지"},{id:"table",icon:(0,o.jsx)(i.XIK,{className:"w-5 h-5"}),label:"표"},{id:"quiz",icon:(0,o.jsx)(i.mNh,{className:"w-5 h-5"}),label:"퀴즈"}].map(e=>(0,o.jsx)("button",{onClick:()=>{return s=e.id,x(s),void("text"===s&&(()=>{const e={id:re(),type:"text",x:50+100*Math.random(),y:50+100*Math.random(),width:200,height:80,text:"새 텍스트 블록",fontSize:16,fontFamily:"Noto Sans KR",color:"#333333"};P(s=>[...s,e]),_(e.id)})());var s},className:`\n                w-12 h-12 rounded-lg flex items-center justify-center transition-colors\n                ${m===e.id?"bg-blue-100 text-blue-600 border-2 border-blue-300":"hover:bg-gray-100 text-gray-600"}\n              `,title:e.label,children:"string"==typeof e.icon?(0,o.jsx)("span",{className:"text-lg",children:e.icon}):e.icon},e.id)),(0,o.jsx)("div",{className:"h-px w-8 bg-gray-300 my-2"}),(0,o.jsx)("button",{onClick:()=>y(!b),className:`\n              w-12 h-12 rounded-lg flex items-center justify-center transition-colors\n              ${b?"bg-purple-100 text-purple-600 border-2 border-purple-300":"hover:bg-gray-100 text-gray-600"}\n            `,title:"AI 생성",children:(0,o.jsx)(i.sUz,{className:"w-5 h-5"})})]}),(0,o.jsx)("div",{className:"flex-1 relative overflow-auto",children:(0,o.jsx)("div",{className:"min-h-full flex items-center justify-center p-8",style:{backgroundColor:"#f8f9fa",backgroundImage:n?"radial-gradient(circle, #e9ecef 1px, transparent 1px)":"none",backgroundSize:n?"20px 20px":"auto"},children:(0,o.jsxs)("div",{className:"bg-white shadow-lg relative overflow-hidden",style:{width:s/100*794+"px",height:s/100*1123+"px",transform:"scale(1)",transformOrigin:"center center"},onClick:e=>{e.target===e.currentTarget&&_(null)},children:[(0,o.jsxs)("div",{className:"absolute inset-4 border border-dashed border-gray-300 rounded",style:{transform:`scale(${s/100})`,transformOrigin:"top left"},children:[$.map(e=>"text"===e.type?(0,o.jsx)(d,{id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,color:e.color,isSelected:L===e.id,onSelect:oe,onUpdate:ne,onDelete:ie},e.id):null),0===$.length&&(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center text-gray-400",children:[(0,o.jsx)(i.ZUJ,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,o.jsxs)("p",{className:"text-lg mb-2",children:["빈 ","main"===Y?"지문":"vocabulary"===Y?"어휘":"questions"===Y?"문제":"해설"," 페이지"]}),(0,o.jsx)("p",{className:"text-sm",children:"main"===Y?"좌측 도구에서 텍스트 블록을 선택하거나 AI 도구로 지문을 생성하세요":"vocabulary"===Y?"먼저 지문을 생성한 후 어휘 페이지를 생성하세요":"questions"===Y?"먼저 지문을 생성한 후 문제를 생성하세요":"먼저 문제를 생성한 후 해설을 생성하세요"})]})})]}),(0,o.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:["A4 (210mm × 297mm) - ",Y," 페이지 - ",$.length,"개 블록"]})]})})}),(0,o.jsx)("div",{className:"w-80 bg-white border-l border-gray-300",children:O?(0,o.jsxs)("div",{className:"h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"어휘 선택"}),(0,o.jsx)("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"어휘를 선택하여 페이지에 추가하세요"})]}),(0,o.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[D?.vocabularyList?.map((e,s)=>(0,o.jsxs)("div",{className:"mb-4 p-3 border border-gray-200 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-900",children:e.word}),(0,o.jsx)("input",{type:"checkbox",checked:M.includes(s),onChange:e=>{e.target.checked?F([...M,s]):F(M.filter(e=>e!==s))},className:"ml-2"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.meaning}),(0,o.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[(0,o.jsx)("span",{className:"font-medium",children:"유의어:"})," ",e.synonyms?.join(", ")||"없음"]}),(0,o.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[(0,o.jsx)("span",{className:"font-medium",children:"반의어:"})," ",e.antonyms?.join(", ")||"없음"]}),(0,o.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[(0,o.jsx)("span",{className:"font-medium",children:"난이도:"})," ",e.difficulty]}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,o.jsx)("span",{className:"font-medium",children:"예문:"})," ",e.example]})]},s)),(0,o.jsx)("div",{className:"mt-4 p-3 border-2 border-dashed border-gray-300 rounded-lg",children:(0,o.jsx)("button",{className:"w-full text-center text-gray-600 hover:text-gray-800",children:"+ 사용자 직접 추가"})})]}),(0,o.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,o.jsxs)("button",{onClick:()=>{console.log("선택된 어휘:",M),R(!1)},disabled:0===M.length,className:"w-full bg-orange-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["선택한 어휘 페이지 추가 (",M.length,"개)"]})})]}):G?(0,o.jsxs)("div",{className:"h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"문제 선택"}),(0,o.jsx)("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"문제를 선택하여 페이지에 추가하세요"})]}),(0,o.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:J?.questions?.map((e,s)=>(0,o.jsxs)("div",{className:"mb-4 p-3 border border-gray-200 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded mb-2",children:e.type}),(0,o.jsx)("p",{className:"text-sm text-gray-900",children:e.question})]}),(0,o.jsx)("input",{type:"checkbox",checked:K.includes(s),onChange:e=>{e.target.checked?X([...K,s]):X(K.filter(e=>e!==s))},className:"ml-2"})]}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:["답안 줄 수: ",e.answerSpace,"줄 | 배점: ",e.points,"점"]})]},s))}),(0,o.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("button",{onClick:()=>{console.log("선택된 문제:",K),V(!1)},disabled:0===K.length,className:"w-full bg-teal-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["선택한 문제 페이지 추가 (",K.length,"개)"]}),(0,o.jsx)("button",{onClick:async()=>{if(J?.questions&&0!==K.length){te(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=K.map(e=>J.questions[e]),a=await e.generateContent({provider:u,contentType:"answers",difficulty:w,targetAge:k,prompt:`다음 문제들에 대한 상세한 해설을 작성해주세요. ${ce[k]} 수준에 맞게 설명해주세요:\n        \n        ${s.map((e,s)=>`\n        문제 ${s+1}: ${e.question}\n        유형: ${e.type}\n        `).join("\n")}\n        \n        각 문제에 대해:\n        1. 정답 또는 예시 답안\n        2. 해설 (왜 그런 답이 나오는지 단계별 설명)\n        3. 채점 기준\n        4. 유사 문제 해결 팁`});le(a.content)}catch(e){console.error("해설 생성 실패:",e),alert(`해설 생성에 실패했습니다: ${e.message}`)}finally{te(!1)}}else alert("먼저 문제를 선택해주세요.")},disabled:0===K.length||se,className:"w-full bg-purple-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:se?"해설 생성 중...":"해설 추가"})]})})]}):b?(0,o.jsxs)("div",{className:"h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"AI 콘텐츠 생성"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI 제공업체"}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)("button",{onClick:()=>h("gemini"),className:`\n                        flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors\n                        ${"gemini"===u?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}\n                      `,children:"Gemini"}),(0,o.jsx)("button",{onClick:()=>h("claude"),className:`\n                        flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors\n                        ${"claude"===u?"bg-purple-100 text-purple-700 border-2 border-purple-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}\n                      `,children:"Claude"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"콘텐츠 유형"}),(0,o.jsx)("select",{value:N,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:(0,o.jsx)("option",{value:"reading",children:"지문 생성"})})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"난이도"}),(0,o.jsxs)("select",{value:w,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,o.jsx)("option",{value:"beginner",children:"초급"}),(0,o.jsx)("option",{value:"intermediate",children:"중급"}),(0,o.jsx)("option",{value:"advanced",children:"고급"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"대상 연령"}),(0,o.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,o.jsx)("option",{value:"elem1",children:"초등학교 1학년"}),(0,o.jsx)("option",{value:"elem2",children:"초등학교 2학년"}),(0,o.jsx)("option",{value:"elem3",children:"초등학교 3학년"}),(0,o.jsx)("option",{value:"elem4",children:"초등학교 4학년"}),(0,o.jsx)("option",{value:"elem5",children:"초등학교 5학년"}),(0,o.jsx)("option",{value:"elem6",children:"초등학교 6학년"}),(0,o.jsx)("option",{value:"middle1",children:"중학교 1학년"}),(0,o.jsx)("option",{value:"middle2",children:"중학교 2학년"}),(0,o.jsx)("option",{value:"middle3",children:"중학교 3학년"}),(0,o.jsx)("option",{value:"high1",children:"고등학교 1학년"}),(0,o.jsx)("option",{value:"high2",children:"고등학교 2학년"}),(0,o.jsx)("option",{value:"high3",children:"고등학교 3학년"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"글의 길이"}),(0,o.jsxs)("select",{value:A,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,o.jsx)("option",{value:"400",children:"400자"}),(0,o.jsx)("option",{value:"800",children:"800자"}),(0,o.jsx)("option",{value:"1200",children:"1200자"})]})]})]}),(0,o.jsx)("div",{className:"flex-1 p-4 flex flex-col",children:I?(0,o.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"생성된 콘텐츠"}),(0,o.jsx)("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-gray-600",children:(0,o.jsx)("span",{className:"text-sm",children:"새로 생성"})})]}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 text-sm",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h5",{className:"font-semibold text-gray-900 mb-2",children:I?.title||"제목 없음"}),(0,o.jsx)("p",{className:"text-gray-600 text-xs mb-3",children:I?.description})]}),I?.mainContent&&(0,o.jsxs)("div",{className:"mb-4",children:[I.mainContent.introduction&&(0,o.jsx)("p",{className:"text-gray-700 mb-3",children:I.mainContent.introduction}),I.mainContent.keyPoints&&(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"주요 포인트:"}),(0,o.jsx)("ul",{className:"list-disc list-inside space-y-1",children:I.mainContent.keyPoints.map((e,s)=>(0,o.jsx)("li",{className:"text-gray-700",children:e},s))})]}),I.mainContent.examples&&(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"예시:"}),(0,o.jsx)("div",{className:"space-y-2",children:I.mainContent.examples.map((e,s)=>(0,o.jsxs)("div",{className:"bg-white p-2 rounded border",children:[(0,o.jsx)("p",{className:"font-medium",children:e.korean}),e.english&&(0,o.jsx)("p",{className:"text-gray-600 text-xs",children:e.english}),e.explanation&&(0,o.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:e.explanation})]},s))})]})]}),I?.exercises&&I.exercises.length>0&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"연습 문제:"}),(0,o.jsx)("div",{className:"space-y-2",children:I.exercises.map((e,s)=>(0,o.jsxs)("div",{className:"bg-white p-2 rounded border",children:[(0,o.jsx)("p",{className:"font-medium mb-1",children:e.question}),e.options&&(0,o.jsx)("div",{className:"text-xs space-y-1",children:e.options.map((s,t)=>(0,o.jsxs)("div",{className:`\n                                        ${t===e.correctAnswer?"text-green-600 font-medium":"text-gray-600"}\n                                      `,children:[t+1,". ",s]},t))}),e.explanation&&(0,o.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:e.explanation})]},s))})]})]}),(0,o.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,o.jsx)("button",{onClick:()=>{if(!I)return;let e=50;const s=120;if(I.title){const t={id:re(),type:"text",x:50,y:e,width:500,height:60,text:I.title,fontSize:24,fontFamily:"Noto Sans KR",color:"#1f2937"};P(e=>[...e,t]),e+=s}if(I.description){const t={id:re(),type:"text",x:50,y:e,width:500,height:80,text:I.description,fontSize:14,fontFamily:"Noto Sans KR",color:"#6b7280"};P(e=>[...e,t]),e+=s}if(I.mainContent){const{introduction:t,keyPoints:a,examples:l}=I.mainContent;if(t){const a={id:re(),type:"text",x:50,y:e,width:500,height:100,text:t,fontSize:16,fontFamily:"Noto Sans KR",color:"#374151"};P(e=>[...e,a]),e+=s}if(a&&a.length>0){const t="주요 포인트:\n"+a.map((e,s)=>`${s+1}. ${e}`).join("\n"),l={id:re(),type:"text",x:50,y:e,width:500,height:Math.max(100,25*a.length+40),text:t,fontSize:14,fontFamily:"Noto Sans KR",color:"#374151"};P(e=>[...e,l]),e+=Math.max(s,25*a.length+60)}l&&l.length>0&&l.forEach((t,a)=>{const l=`예시 ${a+1}:\n${t.korean}${t.english?`\n(${t.english})`:""}${t.explanation?`\n→ ${t.explanation}`:""}`,r={id:re(),type:"text",x:50,y:e,width:500,height:100,text:l,fontSize:14,fontFamily:"Noto Sans KR",color:"#059669"};P(e=>[...e,r]),e+=s})}T(null),y(!1),x("select")},className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-green-700 transition-colors",children:"페이지에 추가"}),(0,o.jsx)("button",{onClick:()=>T(null),className:"flex-1 border border-gray-300 text-gray-700 py-2 px-3 rounded-lg text-sm hover:bg-gray-50 transition-colors",children:"다시 생성"})]}),(0,o.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,o.jsx)("button",{onClick:async()=>{if(I?.mainContent?.introduction){z(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=await e.generateContent({provider:u,contentType:"vocabulary",difficulty:w,targetAge:k,prompt:`다음 지문에서 ${ce[k]}이 모를만한 어려운 어휘 3-5개를 추출하고 분석해주세요:\n        \n        ${I.mainContent.introduction}\n        \n        각 어휘에 대해:\n        1. 한자어 기반으로 쉽게 풀이\n        2. 유의어와 반의어 제시\n        3. 난이도를 별표(★) 1-5개로 표시 (5개가 가장 어려움)\n        4. 반드시 어려운 어휘만 포함`});q(s.content),R(!0)}catch(e){console.error("어휘 생성 실패:",e),alert(`어휘 생성에 실패했습니다: ${e.message}`)}finally{z(!1)}}else alert("먼저 지문을 생성해주세요.")},disabled:U,className:"w-full bg-orange-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:U?"어휘 생성 중...":"어휘 페이지 생성"}),(0,o.jsx)("button",{onClick:async()=>{if(I?.mainContent?.introduction){W(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=await e.generateContent({provider:u,contentType:"questions",difficulty:w,targetAge:k,prompt:`다음 지문을 바탕으로 ${ce[k]} 수준의 서술형 문제 6문제를 만들어주세요:\n        \n        ${I.mainContent.introduction}\n        \n        문제 유형:\n        - 맥락 추론형 3문제\n        - 내용 이해형 3문제\n        \n        각 문제는 해당 학년 수준에 맞는 난이도로 작성해주세요.`});B(s.content),V(!0)}catch(e){console.error("문제 생성 실패:",e),alert(`문제 생성에 실패했습니다: ${e.message}`)}finally{W(!1)}}else alert("먼저 지문을 생성해주세요.")},disabled:H,className:"w-full bg-teal-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:H?"문제 생성 중...":"문제 페이지 생성"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"생성할 내용 설명"}),(0,o.jsx)("textarea",{value:j,onChange:e=>f(e.target.value),placeholder:"예: 한국어 인사말에 대한 학습 자료를 만들어주세요. 존댓말과 반말의 차이를 포함해서...",className:"flex-1 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,o.jsx)("button",{onClick:async()=>{if(j.trim()){p(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=await e.generateContent({provider:u,contentType:N,difficulty:w,targetAge:k,contentLength:A,prompt:j});T(s.content),console.log("생성된 콘텐츠:",s),f("")}catch(e){console.error("AI 생성 실패:",e),alert(`AI 생성에 실패했습니다: ${e.message}`)}finally{p(!1)}}},disabled:g||!j.trim(),className:`\n                        mt-4 w-full py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2\n                        ${g||!j.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"gemini"===u?"bg-blue-600 text-white hover:bg-blue-700":"bg-purple-600 text-white hover:bg-purple-700"}\n                      `,children:g?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,o.jsx)("span",{children:"생성 중..."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.sUz,{className:"w-4 h-4"}),(0,o.jsxs)("span",{children:["gemini"===u?"Gemini로":"Claude로"," 생성"]})]})})]})})]}):(0,o.jsxs)("div",{className:"h-full p-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"속성"}),(0,o.jsx)("div",{className:"text-gray-500 text-center py-8",children:"블록을 선택하면 속성을 편집할 수 있습니다."})]})})]}),(0,o.jsxs)("footer",{className:"bg-white border-t border-gray-300 px-4 py-2 flex items-center justify-between text-sm text-gray-600",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("span",{children:["선택된 도구: ",m]}),(0,o.jsxs)("span",{children:["줌: ",s,"%"]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("span",{children:"A4 (210 × 297mm)"}),(0,o.jsx)("span",{children:"원바이트 Print 모드"})]})]})]})}var x=t(607);const u=Object.freeze({API_PROVIDERS:{OPENAI:"openai",CLAUDE:"claude",GEMINI:"gemini"},CONTENT_TYPES:{READING:"reading",VOCABULARY:"vocabulary",GRAMMAR:"grammar",QUESTIONS:"questions",ANSWERS:"answers"},DIFFICULTY_LEVELS:{BEGINNER:"beginner",INTERMEDIATE:"intermediate",ADVANCED:"advanced"},TEXT_LENGTH:{SHORT:400,MEDIUM:800,LONG:1200,MIN:200,MAX:2e3},PROBLEM_COUNT:{VOCABULARY:{MIN:5,DEFAULT:10,MAX:20},READING:{MIN:3,DEFAULT:5,MAX:10}},FILE_UPLOAD:{ACCEPTED_TYPES:[".txt",".docx",".pdf"],MAX_SIZE:5242880,MIME_TYPES:{TXT:"text/plain",DOCX:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",PDF:"application/pdf"}},ERROR_MESSAGES:{GENERIC:"오류가 발생했습니다. 다시 시도해주세요.",NETWORK:"네트워크 연결을 확인해주세요.",API_KEY:"API 키가 설정되지 않았습니다.",FILE_TYPE:"지원하지 않는 파일 형식입니다.",FILE_SIZE:"파일 크기가 너무 큽니다. (최대 5MB)",EMPTY_TEXT:"텍스트를 입력해주세요.",MIN_LENGTH:"최소 200자 이상 입력해주세요.",MAX_LENGTH:"최대 2000자까지 입력 가능합니다."},SUCCESS_MESSAGES:{TEXT_GENERATED:"지문이 성공적으로 생성되었습니다.",ANALYSIS_COMPLETE:"분석이 완료되었습니다.",PROBLEMS_GENERATED:"문제가 성공적으로 생성되었습니다.",PDF_CREATED:"PDF가 생성되었습니다."},LOADING_MESSAGES:{GENERATING_TEXT:"지문을 생성하고 있습니다...",ANALYZING:"문해력을 분석하고 있습니다...",GENERATING_PROBLEMS:"문제를 생성하고 있습니다...",PROCESSING_FILE:"파일을 처리하고 있습니다..."}}),h=Object.freeze([{id:"game",label:"🎮 게임 & 기술",keywords:["게임","인공지능","로봇","메타버스"]},{id:"sports",label:"⚽ 스포츠",keywords:["축구","야구","올림픽","스포츠 선수"]},{id:"music",label:"🎵 음악 & 엔터테인먼트",keywords:["K-pop","아이돌","영화","드라마"]},{id:"animal",label:"🐾 동물 & 자연",keywords:["동물의 생태","환경보호","자연현상"]},{id:"science",label:"🚀 과학 & 우주",keywords:["우주탐험","과학실험","발명품","미래기술"]},{id:"food",label:"🍕 음식 & 요리",keywords:["세계 음식","요리법","건강한 식단"]},{id:"art",label:"🎨 예술 & 창작",keywords:["미술","만화","공예","창작 활동"]},{id:"daily",label:"📱 일상 & 학교생활",keywords:["친구 관계","가족","학교 이야기","성장"]},{id:"custom",label:"📚 사용자 정의",keywords:[]}]),g=[{value:"elem1",label:"초등학교 1학년",age:7},{value:"elem2",label:"초등학교 2학년",age:8},{value:"elem3",label:"초등학교 3학년",age:9},{value:"elem4",label:"초등학교 4학년",age:10},{value:"elem5",label:"초등학교 5학년",age:11},{value:"elem6",label:"초등학교 6학년",age:12},{value:"middle1",label:"중학교 1학년",age:13},{value:"middle2",label:"중학교 2학년",age:14},{value:"middle3",label:"중학교 3학년",age:15}],p=[{value:"400",label:"기초 (400자)"},{value:"800",label:"표준 (800자)"},{value:"1200",label:"심화 (1200자)"},{value:"custom",label:"직접 입력"}];t(755);var b=t(493);function y({title:e="오류",message:s,onClose:t,type:a="error"}){const l={error:{bg:"bg-red-50",border:"border-red-400",icon:"text-red-600",title:"text-red-800",message:"text-red-700"},warning:{bg:"bg-yellow-50",border:"border-yellow-400",icon:"text-yellow-600",title:"text-yellow-800",message:"text-yellow-700"},info:{bg:"bg-blue-50",border:"border-blue-400",icon:"text-blue-600",title:"text-blue-800",message:"text-blue-700"}}[a];return(0,o.jsx)("div",{className:`${l.bg} ${l.border} border rounded-lg p-4 mb-4`,children:(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)(i.RIJ,{className:`${l.icon} h-5 w-5 mt-0.5 flex-shrink-0`}),(0,o.jsxs)("div",{className:"ml-3 flex-1",children:[(0,o.jsx)("h3",{className:`text-sm font-medium ${l.title}`,children:e}),s&&(0,o.jsx)("p",{className:`mt-1 text-sm ${l.message}`,children:s})]}),t&&(0,o.jsx)("button",{onClick:t,className:`ml-3 -mr-1 -mt-1 ${l.icon} hover:opacity-70 transition-opacity`,children:(0,o.jsx)(i.X,{className:"h-5 w-5"})})]})})}function j({value:e=0,max:s=100,label:t,showValue:a=!0,color:l="blue",size:r="medium"}){const n=Math.min(100,Math.max(0,e/s*100)),i={small:"text-xs",medium:"text-sm",large:"text-base"};return(0,o.jsxs)("div",{className:"w-full",children:[(t||a)&&(0,o.jsxs)("div",{className:"flex justify-between mb-1",children:[t&&(0,o.jsx)("span",{className:`font-medium text-gray-700 ${i[r]}`,children:t}),a&&(0,o.jsx)("span",{className:`text-gray-600 ${i[r]}`,children:100===s?`${Math.round(n)}%`:`${e}/${s}`})]}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:`${{blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",red:"bg-red-600",purple:"bg-purple-600"}[l]} ${{small:"h-1",medium:"h-2",large:"h-3"}[r]} rounded-full transition-all duration-500 ease-out`,style:{width:`${n}%`},role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":s})})]})}const f=(0,a.memo)(function({analysisResult:e}){if(!e)return null;const s=[{label:"지문 길이",score:e.textLength},{label:"어휘 수준",score:e.vocabularyLevel},{label:"문장 구조 복잡성",score:e.sentenceComplexity},{label:"내용 구성 수준",score:e.contentLevel},{label:"배경지식 의존도",score:e.backgroundKnowledge}];return(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold",children:"문해력 난이도 분석 결과"}),(0,o.jsx)("div",{className:"space-y-3",children:s.map((e,s)=>(0,o.jsx)(j,{label:e.label,value:e.score,max:10,color:"blue",size:"medium"},s))}),(0,o.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"font-semibold text-lg",children:"종합 난이도"}),(0,o.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[e.totalScore,"/10"]})]})})]})}),N=(0,a.memo)(function({problem:e,index:s,type:t,onAnswerSelect:a}){return(0,o.jsxs)("div",{className:"mb-4 p-4 border rounded-lg hover:shadow-md transition-shadow",children:[(0,o.jsxs)("p",{className:"font-medium mb-3",children:[s+1,". ",e.question]}),(0,o.jsx)("div",{className:"space-y-2",children:e.options.map((s,l)=>(0,o.jsxs)("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors",children:[(0,o.jsx)("input",{type:"radio",name:`${t}-${e.id}`,className:"mr-3 text-blue-600 focus:ring-blue-500",onChange:()=>{return s=l,void(a&&a(e.id,s));var s}}),(0,o.jsxs)("span",{className:"text-gray-700",children:[l+1,") ",s]})]},l))})]})});function v({value:e,onSave:s,onCancel:t,placeholder:l="텍스트를 입력하세요...",type:r="text",options:n=[],className:c="",editClassName:d="",displayClassName:m="",disabled:x=!1,maxLength:u,rows:h=3,autoFocus:g=!0,validator:p,formatDisplay:b,renderDisplay:y,editable:j=!0,children:f}){const[N,v]=(0,a.useState)(!1),[w,C]=(0,a.useState)(e||""),[k,S]=(0,a.useState)(""),A=(0,a.useRef)(null),E=(0,a.useCallback)(()=>{!x&&j&&(v(!0),C(e||""),S(""))},[x,j,e]),I=(0,a.useCallback)(()=>{if(p){const e=p(w);if(e)return void S(e)}w!==e&&s?.(w),v(!1),S("")},[w,e,p,s]),T=(0,a.useCallback)(()=>{v(!1),C(e||""),S(""),t?.()},[e,t]),$=(0,a.useCallback)(e=>{"Enter"===e.key&&"textarea"!==r?(e.preventDefault(),I()):"Escape"===e.key&&(e.preventDefault(),T())},[r,I,T]);(0,a.useEffect)(()=>{N&&g&&A.current&&(A.current.focus(),"text"!==r&&"textarea"!==r||A.current.select())},[N,g,r]);const P=b?b(e):e;return N?(0,o.jsx)("div",{className:`inline-block w-full ${c}`,children:(0,o.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,o.jsxs)("div",{className:"flex-1",children:["textarea"===r?(0,o.jsx)("textarea",{ref:A,value:w,onChange:e=>C(e.target.value),onKeyDown:$,placeholder:l,maxLength:u,rows:h,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ${d}`}):"select"===r?(0,o.jsx)("select",{ref:A,value:w,onChange:e=>C(e.target.value),onKeyDown:$,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${d}`,children:n.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,o.jsx)("input",{ref:A,type:"text",value:w,onChange:e=>C(e.target.value),onKeyDown:$,placeholder:l,maxLength:u,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${d}`}),k&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k}),u&&(0,o.jsxs)("p",{className:"mt-1 text-xs text-gray-500 text-right",children:[w.length,"/",u]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o.jsx)("button",{onClick:I,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"저장",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:T,className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"취소",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]})]})}):(0,o.jsx)("div",{className:`group inline-block w-full ${c}`,children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsx)("div",{className:`flex-1 ${m}`,children:y?y(P):f||(0,o.jsx)("span",{className:P?"":"text-gray-400 italic",children:P||l})}),j&&!x&&(0,o.jsx)("button",{onClick:E,className:"ml-2 p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded opacity-0 group-hover:opacity-100 transition-all",title:"편집",children:(0,o.jsx)(i.W7n,{className:"w-4 h-4"})})]})})}const w=(0,a.memo)(function({text:e="",title:s="읽기 지문",showCharCount:t=!0,className:l="",editable:r=!1,onTextChange:n}){const i=(0,a.useMemo)(()=>e.length,[e]),c=(0,a.useMemo)(()=>e.split(/[.!?]/).filter(e=>e.trim()).length,[e]);return(0,o.jsxs)("div",{className:`mb-6 ${l}`,children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-3",children:s}),(0,o.jsx)("div",{className:"bg-gray-50 rounded-lg",children:r?(0,o.jsx)(v,{value:e,onSave:n,type:"textarea",rows:10,placeholder:"지문을 입력하세요...",className:"w-full",editClassName:"text-lg leading-relaxed",displayClassName:"p-4",renderDisplay:e=>(0,o.jsx)("p",{className:"text-lg leading-relaxed whitespace-pre-wrap p-4",children:e})}):(0,o.jsx)("p",{className:"text-lg leading-relaxed whitespace-pre-wrap p-4",children:e})}),t&&(0,o.jsxs)("div",{className:"mt-2 flex items-center justify-between text-sm text-gray-600",children:[(0,o.jsxs)("span",{children:["글자 수: ",i,"자"]}),(0,o.jsxs)("span",{children:["문장 수: ",c,"개"]})]})]})});function C({text:e,gradeLevel:s,onVocabularyChange:t}){const[l,r]=(0,a.useState)([]),[n,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[g,p]=(0,a.useState)(null),[b,y]=(0,a.useState)({}),[j,f]=(0,a.useState)(null),N=(0,a.useCallback)(async()=>{if(e?.trim()){c(!0),f(null);try{const a=await x.default.extractVocabulary(e,s,5);if(!a.success||!a.content?.vocabularyList)throw new Error("어휘 추출 응답이 올바르지 않습니다.");{const e=a.content.vocabularyList.map((e,s)=>({id:`extracted_${Date.now()}_${s}`,...e,isChecked:!1,isCustom:!1}));r(e),t?.(e)}}catch(e){console.error("어휘 추출 오류:",e),f("어휘 추출 중 오류가 발생했습니다: "+e.message),r([{id:"sample_1",word:"관찰",meaning:"자세히 살펴보는 것",etymology:"觀(볼 관) + 察(살필 찰)",synonyms:["구경","살피기"],antonyms:["무시","소홀"],difficulty:"★★★☆☆",example:"과학자는 현미경으로 세포를 관찰했습니다.",gradeAppropriate:!0,isChecked:!1,isCustom:!1},{id:"sample_2",word:"발전",meaning:"더 나은 상태로 나아가는 것",etymology:"發(발할 발) + 展(펼 전)",synonyms:["성장","진보"],antonyms:["퇴보","후퇴"],difficulty:"★★☆☆☆",example:"기술의 발전으로 우리 생활이 편리해졌습니다.",gradeAppropriate:!0,isChecked:!1,isCustom:!1}])}finally{c(!1)}}else f("분석할 지문이 없습니다.")},[e,s,t]),v=(0,a.useCallback)(async()=>{if(u.trim()){m(!0),f(null);try{const e=`다음 어휘에 대한 상세 정보를 제공해주세요: "${u}"`,a=await x.default.generateContent({contentType:"vocabulary_extraction",prompt:e,gradeLevel:s,count:1});let n;n=a.success&&a.content?.vocabularyList?.[0]?a.content.vocabularyList[0]:{word:u,meaning:`${u}의 의미를 설명합니다.`,etymology:"",synonyms:[],antonyms:[],difficulty:"★★★☆☆",example:`${u}을(를) 사용한 예문입니다.`,gradeAppropriate:!0};const i={id:`custom_${Date.now()}`,...n,isChecked:!0,isCustom:!0},o=[...l,i];r(o),t?.(o),h("")}catch(e){console.error("어휘 생성 오류:",e),f("어휘 정보 생성 중 오류가 발생했습니다: "+e.message)}finally{m(!1)}}},[u,s,l,t]),w=(0,a.useCallback)(e=>{const s=l.map(s=>s.id===e?{...s,isChecked:!s.isChecked}:s);r(s),t?.(s)},[l,t]),C=(0,a.useCallback)(e=>{p(e.id),y({...e})},[]),k=(0,a.useCallback)(()=>{const e=l.map(e=>e.id===g?{...b}:e);r(e),t?.(e),p(null),y({})},[l,g,b,t]),S=(0,a.useCallback)(()=>{p(null),y({})},[]),A=(0,a.useCallback)(e=>{const s=l.filter(s=>s.id!==e);r(s),t?.(s)},[l,t]),E=l.filter(e=>e.isChecked).length;return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.Gyj,{className:"w-6 h-6 text-blue-600 mr-2"}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"핵심 어휘 분석"}),E>0&&(0,o.jsxs)("span",{className:"ml-3 px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:[E,"개 선택됨"]})]}),(0,o.jsx)("button",{onClick:N,disabled:n||!e?.trim(),className:"flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Hbd,{className:"w-4 h-4 mr-2 animate-spin"}),"분석 중..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.sUz,{className:"w-4 h-4 mr-2"}),"어휘 추출"]})})]}),j&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-sm text-red-700",children:j})}),(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"추가할 어휘를 입력하세요...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:e=>"Enter"===e.key&&v()}),(0,o.jsx)("button",{onClick:v,disabled:!u.trim()||d,className:"flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Hbd,{className:"w-4 h-4 mr-2 animate-spin"}),"생성 중..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.FWt,{className:"w-4 h-4 mr-2"}),"추가"]})})]}),(0,o.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"어휘를 추가하면 AI가 자동으로 의미, 예문, 유의어/반의어를 생성합니다."})]}),(0,o.jsx)("div",{className:"space-y-4",children:0===l.length?(0,o.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,o.jsx)(i.Gyj,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,o.jsx)("p",{children:"어휘 추출 버튼을 클릭하여 핵심 어휘를 분석해보세요."})]}):l.map(e=>(0,o.jsxs)("div",{className:"border rounded-lg p-4 transition-all "+(e.isChecked?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("button",{onClick:()=>w(e.id),className:"w-6 h-6 rounded-md border-2 flex items-center justify-center transition-colors "+(e.isChecked?"border-blue-500 bg-blue-500 text-white":"border-gray-300 hover:border-blue-300"),children:e.isChecked&&(0,o.jsx)(i.Jlk,{className:"w-4 h-4"})}),(0,o.jsxs)("div",{children:[g===e.id?(0,o.jsx)("input",{type:"text",value:b.word||"",onChange:e=>y({...b,word:e.target.value}),className:"text-lg font-semibold border border-gray-300 rounded px-2 py-1"}):(0,o.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.word}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,o.jsx)("span",{className:"text-sm text-yellow-600",children:e.difficulty}),e.isCustom&&(0,o.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"사용자 추가"}),e.gradeAppropriate&&(0,o.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"학년 적합"})]})]})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:g===e.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:k,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"저장",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:S,className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"취소",children:(0,o.jsx)(i.Hbd,{className:"w-4 h-4"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>C(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"편집",children:(0,o.jsx)(i.W7n,{className:"w-4 h-4"})}),e.isCustom&&(0,o.jsx)("button",{onClick:()=>A(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"삭제",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]})})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"의미: "}),g===e.id?(0,o.jsx)("input",{type:"text",value:b.meaning||"",onChange:e=>y({...b,meaning:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded px-2 py-1"}):(0,o.jsx)("span",{className:"text-gray-900",children:e.meaning})]}),e.etymology&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"한자어 풀이: "}),g===e.id?(0,o.jsx)("input",{type:"text",value:b.etymology||"",onChange:e=>y({...b,etymology:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded px-2 py-1"}):(0,o.jsx)("span",{className:"text-blue-700 font-medium",children:e.etymology})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"예문: "}),g===e.id?(0,o.jsx)("textarea",{value:b.example||"",onChange:e=>y({...b,example:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded px-2 py-1",rows:"2"}):(0,o.jsxs)("span",{className:"text-gray-900 italic",children:['"',e.example,'"']})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.synonyms&&e.synonyms.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"유의어: "}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.synonyms.map((e,s)=>(0,o.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-sm rounded",children:e},s))})]}),e.antonyms&&e.antonyms.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"반의어: "}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.antonyms.map((e,s)=>(0,o.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded",children:e},s))})]})]})]})]},e.id))}),E>0&&(0,o.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.Jlk,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,o.jsxs)("span",{className:"text-blue-800 font-medium",children:[E,"개 어휘가 학습 목록에 추가되었습니다."]})]}),(0,o.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"선택된 어휘들은 PDF 생성 시 어휘 페이지에 포함됩니다."})]})]})}function k({text:e,gradeLevel:s,onProblemsChange:t}){const[l,r]=(0,a.useState)([]),[n,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),g=(0,a.useCallback)(async()=>{if(e?.trim()){c(!0),m(null);try{const s=await x.default.generateReadingProblems(e,"mixed",5);if(!s.success||!s.content?.problems)throw new Error("문제 생성 응답이 올바르지 않습니다.");{const e=s.content.problems.map((e,s)=>({id:`generated_${Date.now()}_${s}`,...e,isCustom:!1}));r(e),t?.(e)}}catch(e){console.error("문제 생성 오류:",e),m("문제 생성 중 오류가 발생했습니다: "+e.message),r([{id:"sample_1",type:"multiple_choice",question:"이 글의 주제로 가장 적절한 것은?",options:["환경 보호의 중요성","기술 발전의 문제점","교육의 필요성","건강한 생활 습관"],correctAnswer:0,explanation:"글 전체에서 환경을 보호해야 한다는 내용이 반복적으로 나타나므로 주제는 '환경 보호의 중요성'입니다.",isCustom:!1},{id:"sample_2",type:"multiple_choice",question:"글에서 '관찰'의 의미로 가장 적절한 것은?",options:["대충 보기","자세히 살펴보기","빨리 훑어보기","멀리서 보기"],correctAnswer:1,explanation:"'관찰'은 어떤 대상을 자세히 살펴보고 연구하는 행위를 의미합니다.",isCustom:!1},{id:"sample_3",type:"short_answer",question:"환경을 보호하기 위해 우리가 할 수 있는 일을 두 가지 쓰시오.",expectedLength:"1-2문장",sampleAnswer:"쓰레기 분리수거를 하고, 일회용품 사용을 줄인다.",gradingCriteria:["환경 보호와 관련된 구체적인 행동 제시","두 가지 이상의 방법 언급"],explanation:"환경 보호를 위한 실천 방안으로는 재활용, 에너지 절약, 대중교통 이용 등이 있습니다.",isCustom:!1}])}finally{c(!1)}}else m("분석할 지문이 없습니다.")},[e,s,t]),p=(0,a.useCallback)(e=>{h({...e})},[]),b=(0,a.useCallback)(()=>{const e=l.map(e=>e.id===u.id?{...u}:e);r(e),t?.(e),h(null)},[l,u,t]),y=(0,a.useCallback)(()=>{h(null)},[]),j=(0,a.useCallback)(()=>{const e={id:`custom_${Date.now()}`,type:"multiple_choice",question:"새 문제를 입력하세요.",options:["선택지 1","선택지 2","선택지 3","선택지 4"],correctAnswer:0,explanation:"정답 해설을 입력하세요.",isCustom:!0},s=[...l,e];r(s),t?.(s),h({...e})},[l,t]),f=(0,a.useCallback)(e=>{const s=l.filter(s=>s.id!==e);r(s),t?.(s)},[l,t]),N=(0,a.useCallback)(e=>{h("short_answer"===e?{...u,type:e,expectedLength:"1-2문장",sampleAnswer:"",gradingCriteria:[],options:void 0,correctAnswer:void 0}:{...u,type:e,options:["선택지 1","선택지 2","선택지 3","선택지 4"],correctAnswer:0,expectedLength:void 0,sampleAnswer:void 0,gradingCriteria:void 0})},[u]);return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.$4L,{className:"w-6 h-6 text-purple-600 mr-2"}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"문해력 훈련 문제"}),l.length>0&&(0,o.jsxs)("span",{className:"ml-3 px-3 py-1 bg-purple-100 text-purple-700 text-sm font-medium rounded-full",children:[l.length,"개 문제"]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("button",{onClick:j,className:"flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:[(0,o.jsx)(i.FWt,{className:"w-4 h-4 mr-2"}),"문제 추가"]}),(0,o.jsx)("button",{onClick:g,disabled:n||!e?.trim(),className:"flex items-center px-4 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.e9t,{className:"w-4 h-4 mr-2 animate-spin"}),"생성 중..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.$4L,{className:"w-4 h-4 mr-2"}),"문제 생성"]})})]})]}),d&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-sm text-red-700",children:d})}),(0,o.jsx)("div",{className:"space-y-6",children:0===l.length?(0,o.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,o.jsx)(i.$4L,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,o.jsx)("p",{children:"문제 생성 버튼을 클릭하여 문해력 훈련 문제를 만들어보세요."}),(0,o.jsx)("p",{className:"text-sm mt-2",children:"객관식 3-4개, 서술형 1-2개가 생성됩니다."})]}):l.map((e,s)=>(0,o.jsxs)("div",{className:"border rounded-lg p-6 bg-white hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("span",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-700 font-semibold rounded-full",children:s+1}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full "+("multiple_choice"===e.type?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:"multiple_choice"===e.type?"객관식":"서술형"}),e.isCustom&&(0,o.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded",children:"사용자 추가"})]})})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:u?.id===e.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:b,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"저장",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:y,className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"취소",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>p(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"편집",children:(0,o.jsx)(i.W7n,{className:"w-4 h-4"})}),e.isCustom&&(0,o.jsx)("button",{onClick:()=>f(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"삭제",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]})})]}),u?.id===e.id?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"문제 타입"}),(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"problemType",value:"multiple_choice",checked:"multiple_choice"===u.type,onChange:e=>N(e.target.value),className:"mr-2"}),"객관식"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"problemType",value:"short_answer",checked:"short_answer"===u.type,onChange:e=>N(e.target.value),className:"mr-2"}),"서술형"]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"문제"}),(0,o.jsx)("textarea",{value:u.question,onChange:e=>h({...u,question:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2"})]}),"multiple_choice"===u.type&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"선택지"}),(0,o.jsx)("div",{className:"space-y-2",children:u.options?.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"radio",name:"correctAnswer",checked:u.correctAnswer===s,onChange:()=>h({...u,correctAnswer:s}),className:"text-purple-600"}),(0,o.jsxs)("span",{className:"w-6 text-sm text-gray-600",children:[s+1,"."]}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>{const t=[...u.options];t[s]=e.target.value,h({...u,options:t})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]},s))})]}),"short_answer"===u.type&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예상 답안 길이"}),(0,o.jsx)("input",{type:"text",value:u.expectedLength||"1-2문장",onChange:e=>h({...u,expectedLength:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예시 답안"}),(0,o.jsx)("textarea",{value:u.sampleAnswer||"",onChange:e=>h({...u,sampleAnswer:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"채점 기준 (쉼표로 구분)"}),(0,o.jsx)("textarea",{value:u.gradingCriteria?.join(", ")||"",onChange:e=>h({...u,gradingCriteria:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"정답 해설"}),(0,o.jsx)("textarea",{value:u.explanation,onChange:e=>h({...u,explanation:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"3"})]})]}):(0,o.jsx)("div",{className:"space-y-4",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-3",children:e.question}),"multiple_choice"===e.type&&(0,o.jsx)("div",{className:"space-y-2 mb-4",children:e.options?.map((s,t)=>(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium "+(e.correctAnswer===t?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:t+1}),(0,o.jsx)("span",{className:e.correctAnswer===t?"font-medium text-green-700":"",children:s}),e.correctAnswer===t&&(0,o.jsx)(i.Jlk,{className:"w-4 h-4 text-green-600"})]},t))}),"short_answer"===e.type&&(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"예상 답안 길이:"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:e.expectedLength})]}),e.sampleAnswer&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"예시 답안:"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.sampleAnswer,'"']})]})]}),e.gradingCriteria&&e.gradingCriteria.length>0&&(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"채점 기준:"}),(0,o.jsx)("ul",{className:"text-sm text-gray-600 list-disc list-inside mt-1",children:e.gradingCriteria.map((e,s)=>(0,o.jsx)("li",{children:e},s))})]})]}),(0,o.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-blue-700 mr-2",children:"해설:"}),(0,o.jsx)("p",{className:"text-sm text-blue-800",children:e.explanation})]})})]})})]},e.id))}),l.length>0&&(0,o.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.$4L,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,o.jsxs)("span",{className:"text-purple-800 font-medium",children:["총 ",l.length,"개 문제가 생성되었습니다."]})]}),(0,o.jsxs)("p",{className:"text-sm text-purple-700 mt-1",children:["객관식: ",l.filter(e=>"multiple_choice"===e.type).length,"개, 서술형: ",l.filter(e=>"short_answer"===e.type).length,"개"]})]})]})}function S(){const[e,s]=(0,a.useState)("generate"),[t,l]=(0,a.useState)(1),[r,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[j,v]=(0,a.useState)("elem4"),[S,A]=(0,a.useState)("800"),[E,I]=(0,a.useState)(""),[T,$]=(0,a.useState)("claude"),P=(0,b.In)(),[L,_]=(0,a.useState)(""),[O,R]=(0,a.useState)(""),[D,q]=(0,a.useState)(null),{analysisResult:M,analyzing:F,analyzeText:U}=function(){const[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!1),r=(0,a.useCallback)(e=>{const s=e.length,t=s/(e.split(/[.!?]/).filter(e=>e.trim()).length||1),a=s/(e.split(/\s+/).filter(e=>e.length>0).length||1);return{textLength:Math.min(10,Math.round(s/200)),vocabularyLevel:Math.min(10,Math.round(2*a)),sentenceComplexity:Math.min(10,Math.round(t/10)),contentLevel:Math.min(10,7),backgroundKnowledge:Math.min(10,5),totalScore:Math.round((s/200+2*a+t/10+7+5)/5)}},[]);return{analysisResult:e,analyzing:t,analyzeText:(0,a.useCallback)(async(e,t)=>{l(!0);try{const a=await x.default.analyzeReadingLevel(e,t);if(a.success)return s(a.content),a.content;{const t=r(e);return s(t),t}}catch(t){console.error("분석 오류:",t);const a=r(e);return s(a),a}finally{l(!1)}},[r]),resetAnalysis:(0,a.useCallback)(()=>{s(null),l(!1)},[])}}(),[z,G]=(0,a.useState)([]),[V,J]=(0,a.useState)([]),[B,K]=(0,a.useState)([]),[X]=(0,a.useState)({vocabulary:10,reading:5}),[H,W]=(0,a.useState)([]),[Y,Z]=(0,a.useState)("paste"),[Q,ee]=(0,a.useState)(null),[se,te]=(0,a.useState)(""),[ae,le]=(0,a.useState)(!1),{execute:re,loading:ne}=function(e){const[s,t]=(0,a.useState)(null),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),o=(0,a.useRef)(null);return{data:s,loading:l,error:n,execute:(0,a.useCallback)(async(...s)=>{o.current&&o.current.abort(),o.current=new AbortController,r(!0),i(null);try{const a=await e(...s,{signal:o.current.signal});return t(a),a}catch(e){if("AbortError"===e.name)return;const s=e.response?.data?.message||e.message||"알 수 없는 오류가 발생했습니다";throw i(s),e}finally{r(!1),o.current=null}},[e]),reset:(0,a.useCallback)(()=>{t(null),i(null),r(!1)},[])}}((0,a.useCallback)(e=>x.default.generateContent(e),[])),{executeAll:ie,loading:oe}=function(){const[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)([]);return{loading:e,errors:t,executeAll:(0,a.useCallback)(async e=>{s(!0),l([]);try{const s=await Promise.allSettled(e),t=[],a=[];return s.forEach((e,s)=>{"fulfilled"===e.status?t.push(e.value):a.push({index:s,error:e.reason?.message||"알 수 없는 오류"})}),a.length>0&&l(a),{success:t,failed:a,hasErrors:a.length>0}}finally{s(!1)}},[])}}(),ce=(0,a.useCallback)(async()=>{q(null),_("");try{const e="custom"===r?d:r,s="custom"===S?E:S,t=g.find(e=>e.value===j),a=t?t.age:10,n=await re({provider:T,contentType:"reading",prompt:e,targetAge:a,difficulty:"intermediate",contentLength:parseInt(s)});_("string"==typeof n.content?n.content:n.content.mainContent?.introduction||n.content),l(2)}catch(e){console.error("지문 생성 오류:",e),q(e.message||"지문 생성에 실패했습니다")}},[r,d,j,S,E,re]),de=(0,a.useCallback)(async()=>{const s="generate"===e?L:O;await U(s,j)},[e,L,O,j,U]),me=(0,a.useCallback)(e=>{W(e)},[]),xe=(0,a.useCallback)(e=>{K(e)},[]),ue=(0,a.useCallback)(s=>{"generate"===e?_(s):R(s)},[e]),he=(0,a.useCallback)(async e=>{const s=e.target.files[0];if(!s)return;const t=(e=>{if(!e)return{isValid:!1,error:"파일을 선택해주세요."};if(e.size>u.FILE_UPLOAD.MAX_SIZE)return{isValid:!1,error:u.ERROR_MESSAGES.FILE_SIZE};const s="."+e.name.split(".").pop().toLowerCase();return u.FILE_UPLOAD.ACCEPTED_TYPES.includes(s)?{isValid:!0,fileType:s,fileName:e.name,fileSize:e.size}:{isValid:!1,error:`${u.ERROR_MESSAGES.FILE_TYPE} 지원 형식: ${u.FILE_UPLOAD.ACCEPTED_TYPES.join(", ")}`}})(s);if(t.isValid){if(ee(s),q(null),"text/plain"===s.type){const e=new FileReader;e.onload=e=>{R(e.target.result)},e.readAsText(s)}}else q(t.error)},[]),ge=(0,a.useCallback)(async()=>{q(null);try{const s="generate"===e?L:O,t=await ie([x.default.generateReadingProblems(s,"vocabulary",X.vocabulary),x.default.generateReadingProblems(s,"comprehension",X.reading)]);t.success.length>0&&t.success.forEach((e,s)=>{e.success&&(0===s?G(e.content.problems):J(e.content.problems))}),t.hasErrors&&(z.length||G([{id:1,word:"예시단어",question:'"예시단어"의 의미로 가장 적절한 것은?',options:["의미1","의미2","의미3","의미4"],answer:0}]),V.length||J([{id:1,question:"이 글의 중심 내용은 무엇입니까?",options:["선택지1","선택지2","선택지3","선택지4"],answer:0}])),l(3)}catch(e){console.error("문제 생성 오류:",e),q("문제 생성 중 오류가 발생했습니다")}},[e,L,O,X,ie,z,V]),pe=(0,a.useCallback)(async()=>{try{const s="generate"===e?L:O,t=g.find(e=>e.value===j)?.label||j,a=await fetch(`${n.$W.apiUrl}/api/pdf/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"원바이트 PRO 문해력 훈련",grade:t,text:s,analysisResult:M,selectedVocabulary:H.filter(e=>e.isChecked||e.selected),generatedProblems:B,vocabularyProblems:z,readingProblems:V})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();if(!l.success)throw new Error(l.error||"PDF 생성에 실패했습니다");{const e=window.open("","_blank","width=900,height=1200,scrollbars=yes");e.document.write(l.htmlContent),e.document.close(),setTimeout(()=>{e.focus()},500)}}catch(e){console.error("PDF 생성 오류:",e),q(`PDF 생성 중 오류가 발생했습니다: ${e.message}`)}},[e,L,O,j,M,H,B,z,V]);return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"flex justify-between items-center py-4",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.Gyj,{className:"h-8 w-8 text-blue-600"}),(0,o.jsx)("h1",{className:"ml-3 text-2xl font-bold text-gray-900",children:"원바이트 PRO"}),(0,o.jsx)("span",{className:"ml-3 px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:"문해력 훈련"})]})})})}),(0,o.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[D&&(0,o.jsx)(y,{type:"error",title:"오류",message:D,onClose:()=>q(null)}),(0,o.jsx)("div",{className:"mb-8",children:(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,o.jsxs)("div",{className:"flex items-center "+(t>=1?"text-blue-600":"text-gray-400"),children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t>=1?"bg-blue-600 text-white":"bg-gray-200"),children:"1"}),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"지문 준비"})]}),(0,o.jsx)(i.Qpb,{className:"w-5 h-5 text-gray-400"}),(0,o.jsxs)("div",{className:"flex items-center "+(t>=2?"text-blue-600":"text-gray-400"),children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t>=2?"bg-blue-600 text-white":"bg-gray-200"),children:"2"}),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"지문 분석"})]}),(0,o.jsx)(i.Qpb,{className:"w-5 h-5 text-gray-400"}),(0,o.jsxs)("div",{className:"flex items-center "+(t>=3?"text-blue-600":"text-gray-400"),children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t>=3?"bg-blue-600 text-white":"bg-gray-200"),children:"3"}),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"문제 풀이"})]})]})}),1===t&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"지문 준비하기"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,o.jsxs)("button",{onClick:()=>s("generate"),className:"p-6 border-2 rounded-lg transition-all "+("generate"===e?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i.sUz,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,o.jsx)("h3",{className:"font-semibold mb-1",children:"AI 지문 생성"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"관심 주제로 AI가 지문 생성"})]}),(0,o.jsxs)("button",{onClick:()=>s("input"),className:"p-6 border-2 rounded-lg transition-all "+("input"===e?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i._OO,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,o.jsx)("h3",{className:"font-semibold mb-1",children:"직접 입력"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"준비된 지문을 직접 입력"})]})]}),"generate"===e&&(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주제 선택"}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-3",children:h.map(e=>(0,o.jsx)("button",{onClick:()=>c(e.id),className:"p-3 border rounded-lg text-sm transition-all "+(r===e.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:e.label},e.id))}),"custom"===r&&(0,o.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"관심 주제를 입력하세요",className:"mt-3 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"학년 선택"}),(0,o.jsx)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:g.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))})]}),P.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI 모델 선택"}),(0,o.jsx)("select",{value:T,onChange:e=>$(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:P.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"지문 길이"}),(0,o.jsx)("div",{className:"grid grid-cols-4 gap-3",children:p.map(e=>(0,o.jsx)("button",{onClick:()=>A(e.value),className:"p-2 border rounded-lg text-sm transition-all "+(S===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:e.label},e.value))}),"custom"===S&&(0,o.jsx)("input",{type:"number",value:E,onChange:e=>I(e.target.value),placeholder:"글자 수 입력 (200-2000)",min:"200",max:"2000",className:"mt-3 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),0===P.length&&(0,o.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,o.jsx)("p",{className:"text-sm text-yellow-800 mb-2",children:(0,o.jsx)("strong",{children:"AI API 키가 설정되지 않았습니다."})}),(0,o.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"AI 기능을 사용하려면 다음 중 하나의 API 키가 필요합니다:"}),(0,o.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[(0,o.jsxs)("li",{children:["• OpenAI API 키: ",(0,o.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://platform.openai.com/api-keys"})]}),(0,o.jsxs)("li",{children:["• Anthropic Claude API 키: ",(0,o.jsx)("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://console.anthropic.com/"})]})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Vercel 환경 변수에 VITE_OPENAI_API_KEY 또는 VITE_ANTHROPIC_API_KEY를 추가해주세요."})]}),(0,o.jsx)("button",{onClick:ce,disabled:!r||ne||0===P.length,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:ne?(0,o.jsxs)("span",{className:"flex items-center justify-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"지문 생성 중..."]}):"지문 생성하기"})]}),"input"===e&&(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"입력 방식 선택"}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,o.jsxs)("button",{onClick:()=>Z("paste"),className:"p-3 border rounded-lg text-sm transition-all "+("paste"===Y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i.iUU,{className:"w-5 h-5 mx-auto mb-1"}),"텍스트 붙여넣기"]}),(0,o.jsxs)("button",{onClick:()=>Z("file"),className:"p-3 border rounded-lg text-sm transition-all "+("file"===Y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i._OO,{className:"w-5 h-5 mx-auto mb-1"}),"파일 업로드"]}),(0,o.jsxs)("button",{onClick:()=>Z("url"),className:"p-3 border rounded-lg text-sm transition-all "+("url"===Y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i.qzq,{className:"w-5 h-5 mx-auto mb-1"}),"URL 입력"]})]})]}),"paste"===Y&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"지문 입력"}),(0,o.jsx)("textarea",{value:O,onChange:e=>R(e.target.value),placeholder:"학습할 지문을 입력하거나 붙여넣으세요...",className:"w-full h-64 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none"}),(0,o.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["글자 수: ",O.length,"자"]})]}),"file"===Y&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"파일 선택"}),(0,o.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:(0,o.jsxs)("div",{className:"space-y-1 text-center",children:[(0,o.jsx)(i._OO,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,o.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,o.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,o.jsx)("span",{children:"파일 선택"}),(0,o.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".txt,.docx,.pdf",onChange:he})]}),(0,o.jsx)("p",{className:"pl-1",children:"또는 드래그 앤 드롭"})]}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"TXT, DOCX, PDF 파일 지원"})]})}),Q&&(0,o.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("p",{className:"text-sm font-medium",children:["선택된 파일: ",Q.name]}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:["크기: ",(Q.size/1024).toFixed(1)," KB"]})]})]}),"url"===Y&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"웹 문서 URL"}),(0,o.jsx)("input",{type:"url",value:se,onChange:e=>te(e.target.value),placeholder:"https://example.com/article",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,o.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"웹 페이지의 텍스트를 자동으로 추출합니다"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"대상 학년"}),(0,o.jsx)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:g.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsx)("button",{onClick:async()=>{le(!0);try{let e=O;if("file"===Y&&Q){if("text/plain"!==Q.type)return void alert("⚠️ 현재는 텍스트 파일(.txt)만 지원됩니다.\n\n지원 예정: DOCX, PDF 파일")}else if("url"===Y)return void alert("🚧 URL 입력 기능은 준비 중입니다.\n\n곧 웹 페이지에서 텍스트를 자동으로 추출할 수 있습니다.");e.trim()&&l(2)}catch(e){console.error("입력 처리 오류:",e),alert(`⚠️ 입력 처리 중 오류가 발생했습니다.\n\n오류 내용: ${e.message}\n\n다시 시도해주세요.`)}finally{le(!1)}},disabled:"paste"===Y&&!O.trim()||"file"===Y&&!Q||"url"===Y&&!se.trim(),className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:ae?(0,o.jsxs)("span",{className:"flex items-center justify-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"처리 중..."]}):"지문 분석하기"})]})]}),2===t&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"지문 분석"}),(0,o.jsx)(w,{text:"generate"===e?L:O,title:"읽기 지문",showCharCount:!0,editable:!0,onTextChange:ue}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("button",{onClick:de,disabled:F,className:"mb-4 px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:F?(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"분석 중..."]}):"문해력 난이도 분석"}),M&&(0,o.jsx)(f,{analysisResult:M})]}),(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(C,{text:"generate"===e?L:O,gradeLevel:j,onVocabularyChange:me})}),(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(k,{text:"generate"===e?L:O,gradeLevel:j,onProblemsChange:xe})}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("button",{onClick:()=>l(1),className:"px-6 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"이전 단계"}),(0,o.jsx)("button",{onClick:ge,disabled:oe,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:oe?(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"문제 생성 중..."]}):"문제 생성하기"})]})]}),3===t&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"문해력 훈련 문제"}),(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"어휘 이해 문제"}),z.map((e,s)=>(0,o.jsx)(N,{problem:e,index:s,type:"vocab"},e.id))]}),(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"독해 이해 문제"}),V.map((e,s)=>(0,o.jsx)(N,{problem:e,index:s,type:"reading"},e.id))]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("button",{onClick:()=>l(2),className:"px-6 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"이전 단계"}),(0,o.jsxs)("button",{onClick:pe,className:"flex items-center px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:[(0,o.jsx)(i.f5X,{className:"mr-2"}),"PDF로 다운로드"]})]})]})]})]})}function A(){const[e,s]=(0,a.useState)(""),[t,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),u=(0,r.Zp)();return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)(i.c_I,{className:"h-12 w-12 text-indigo-600"})}),(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"관리자 로그인"}),(0,o.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"EduText Pro 관리 시스템에 로그인하세요"})]}),(0,o.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,o.jsxs)("form",{className:"space-y-6",onSubmit:async s=>{s.preventDefault(),d(!0),x("");try{const s=await fetch(n.$W.endpoints.adminLogin,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await s.json();a.success&&a.token?(localStorage.setItem("adminToken",a.token),localStorage.setItem("isAdmin","true"),u("/admin")):x(a.error||"이메일 또는 비밀번호가 올바르지 않습니다.")}catch(e){console.error("Login error:",e),x("로그인 중 오류가 발생했습니다.")}finally{d(!1)}},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"이메일"}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>s(e.target.value),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"admin@inblanq.com"}),(0,o.jsx)(i.KJW,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"비밀번호"}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:e=>l(e.target.value),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"••••••••"}),(0,o.jsx)(i.c_I,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),m&&(0,o.jsx)("div",{className:"text-red-600 text-sm",children:m}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?"로그인 중...":"로그인"})})]}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("button",{onClick:()=>u("/"),className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"메인 페이지로 돌아가기"})})})]})})]})}function E(){const[e,s]=(0,a.useState)({totalUsers:1245,totalContent:567,todayGenerated:89,activeUsers:234}),t=(0,r.Zp)();return(0,a.useEffect)(()=>{localStorage.getItem("isAdmin")||t("/admin/login")},[t]),(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-indigo-600"}),(0,o.jsx)("h1",{className:"ml-2 text-2xl font-bold text-gray-900",children:"EduText Pro 관리자"})]}),(0,o.jsxs)("button",{onClick:()=>{localStorage.removeItem("isAdmin"),t("/")},className:"flex items-center text-gray-500 hover:text-gray-900",children:[(0,o.jsx)(i.nUv,{className:"h-5 w-5 mr-1"}),"로그아웃"]})]})})}),(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-blue-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"총 사용자"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalUsers.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.iUU,{className:"h-8 w-8 text-green-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"생성된 콘텐츠"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalContent.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-yellow-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"오늘 생성"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.todayGenerated})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-purple-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"활성 사용자"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.activeUsers})]})]})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"최근 생성된 콘텐츠"})}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsx)("div",{className:"space-y-4",children:[{title:"수학 기초 개념",user:"홍길동",time:"5분 전"},{title:"영어 문법 정리",user:"김철수",time:"15분 전"},{title:"과학 실험 가이드",user:"이영희",time:"30분 전"},{title:"역사 연표 정리",user:"박민수",time:"1시간 전"}].map((e,s)=>(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:e.user})]}),(0,o.jsx)("span",{className:"text-sm text-gray-400",children:e.time})]},s))})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"시스템 설정"})}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.wB_,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"일반 설정"})]}),(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.zWC,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"사용자 관리"})]}),(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.iUU,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"콘텐츠 관리"})]}),(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.VH9,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"분석 및 리포트"})]})]})})]})]})]})]})}(0,t(52).UU)(n.$W.supabase.url,n.$W.supabase.anonKey);const I=({template:e,onEdit:s,onDelete:t})=>(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[(0,o.jsx)("h3",{className:"font-bold text-lg mb-2",children:e.title}),(0,o.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,o.jsxs)("p",{children:["타입: ",{reading:"읽기 지문",vocabulary:"어휘 학습",grammar:"문법 설명",quiz:"퀴즈",questions:"문제",answers:"해설"}[e.content_type]]}),(0,o.jsxs)("p",{children:["난이도: ",{beginner:"초급",intermediate:"중급",advanced:"고급"}[e.difficulty]]}),(0,o.jsxs)("p",{children:["대상: ",e.target_age]})]}),(0,o.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,o.jsx)("button",{onClick:()=>s(e),className:"text-blue-600 hover:text-blue-800",children:"수정"}),(0,o.jsx)("button",{onClick:()=>t(e.id),className:"text-red-600 hover:text-red-800",children:"삭제"})]})]}),T=({template:e,onClose:s,onSave:t})=>{const[l,r]=(0,a.useState)({title:e?.title||"",content_type:e?.content_type||"reading",difficulty:e?.difficulty||"intermediate",target_age:e?.target_age||"adult",template_prompt:e?.template_prompt||"",variables:e?.variables||[]});return(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-90vh overflow-y-auto p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",children:e?"템플릿 수정":"새 템플릿 생성"}),(0,o.jsxs)("form",{onSubmit:async s=>{s.preventDefault();try{const s=localStorage.getItem("adminToken"),a=e?`/api/admin/templates/${e.id}`:"/api/admin/templates";(await fetch(a,{method:e?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(l)})).ok&&t()}catch(e){console.error("Failed to save template:",e)}},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"템플릿 이름"}),(0,o.jsx)("input",{type:"text",value:l.title,onChange:e=>r({...l,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"콘텐츠 타입"}),(0,o.jsxs)("select",{value:l.content_type,onChange:e=>r({...l,content_type:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"reading",children:"읽기 지문"}),(0,o.jsx)("option",{value:"vocabulary",children:"어휘 학습"}),(0,o.jsx)("option",{value:"grammar",children:"문법 설명"}),(0,o.jsx)("option",{value:"quiz",children:"퀴즈"}),(0,o.jsx)("option",{value:"questions",children:"문제"}),(0,o.jsx)("option",{value:"answers",children:"해설"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"난이도"}),(0,o.jsxs)("select",{value:l.difficulty,onChange:e=>r({...l,difficulty:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"beginner",children:"초급"}),(0,o.jsx)("option",{value:"intermediate",children:"중급"}),(0,o.jsx)("option",{value:"advanced",children:"고급"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"대상 연령"}),(0,o.jsx)("input",{type:"text",value:l.target_age,onChange:e=>r({...l,target_age:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"예: adult, elem1, middle2",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"프롬프트 템플릿"}),(0,o.jsx)("textarea",{value:l.template_prompt,onChange:e=>r({...l,template_prompt:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:8,placeholder:"{{topic}} 주제로 {{difficulty}} 수준의 한국어 읽기 지문을 {{length}}자로 작성해주세요...",required:!0}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["변수는 ","{{변수명}}"," 형식으로 작성하세요."]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium",children:"변수 정의"}),(0,o.jsx)("button",{type:"button",onClick:()=>{r({...l,variables:[...l.variables,{name:"",description:""}]})},className:"text-blue-600 hover:text-blue-800 text-sm",children:"변수 추가"})]}),l.variables.map((e,s)=>(0,o.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,o.jsx)("input",{type:"text",placeholder:"변수명",value:e.name,onChange:e=>{const t=[...l.variables];t[s].name=e.target.value,r({...l,variables:t})},className:"flex-1 px-3 py-2 border rounded-lg"}),(0,o.jsx)("input",{type:"text",placeholder:"설명",value:e.description,onChange:e=>{const t=[...l.variables];t[s].description=e.target.value,r({...l,variables:t})},className:"flex-1 px-3 py-2 border rounded-lg"}),(0,o.jsx)("button",{type:"button",onClick:()=>{const e=l.variables.filter((e,t)=>t!==s);r({...l,variables:e})},className:"text-red-600 hover:text-red-800",children:"삭제"})]},s))]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"취소"}),(0,o.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e?"수정":"생성"})]})]})]})})},$=()=>{const[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/templates",{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();a.success&&s(a.templates)}catch(e){console.error("Failed to fetch templates:",e)}finally{c(!1)}},m=e=>{n(e),l(!0)},x=async e=>{if(confirm("정말 이 템플릿을 삭제하시겠습니까?"))try{const s=localStorage.getItem("adminToken");(await fetch(`/api/admin/templates/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}})).ok&&d()}catch(e){console.error("Failed to delete template:",e)}};return i?(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:"로딩 중..."}):(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold",children:"템플릿 관리"}),(0,o.jsx)("button",{onClick:()=>{n(null),l(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"새 템플릿 추가"})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,o.jsx)(I,{template:e,onEdit:m,onDelete:x},e.id))}),t&&(0,o.jsx)(T,{template:r,onClose:()=>l(!1),onSave:()=>{l(!1),d()}})]})};const P=()=>{const[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(null),[i,c]=(0,a.useState)({}),[d,m]=(0,a.useState)("claude"),[x,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),p=(0,r.Zp)();(0,a.useEffect)(()=>{b()},[]);const b=async()=>{try{const e=await(0,n.nr)(n.$W.endpoints.adminTemplates),t=await e.json();t.success&&s(t.templates)}catch(e){console.error("Failed to fetch templates:",e)}};return(0,o.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"지문 즉시 생성"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"AI 제공자"}),(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",value:"claude",checked:"claude"===d,onChange:e=>m(e.target.value),className:"mr-2"}),"Claude 3.5 Sonnet"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",value:"gemini",checked:"gemini"===d,onChange:e=>m(e.target.value),className:"mr-2"}),"Google Gemini"]})]})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"템플릿 선택"}),(0,o.jsxs)("select",{value:t?.id||"",onChange:s=>(s=>{const t=e.find(e=>e.id===s);if(l(t),t){const e={};t.variables?.forEach(s=>{e[s.name]=""}),c(e)}})(s.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"",children:"템플릿을 선택하세요"}),e.map(e=>(0,o.jsxs)("option",{value:e.id,children:[e.title," (",e.content_type,")"]},e.id))]}),t&&(0,o.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"타입:"})," ",t.content_type]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"난이도:"})," ",t.difficulty]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"대상:"})," ",t.target_age]})]})]}),t&&t.variables?.length>0&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"변수 입력"}),(0,o.jsx)("div",{className:"space-y-3",children:t.variables.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[e.name,e.description&&(0,o.jsxs)("span",{className:"text-gray-500 font-normal ml-2",children:["(",e.description,")"]})]}),(0,o.jsx)("input",{type:"text",value:i[e.name]||"",onChange:s=>c({...i,[e.name]:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]},e.name))})]}),(0,o.jsx)("button",{onClick:async()=>{if(t){u(!0);try{const e=await(0,n.nr)(n.$W.endpoints.generateFromTemplate,{method:"POST",body:JSON.stringify({templateId:t.id,variables:i,provider:d})});if(!e.ok){const s=await e.json();throw new Error(s.message||`HTTP error! status: ${e.status}`)}const s=await e.json();s.success?g(s):alert("AI 생성에 실패했습니다: "+(s.error||s.message))}catch(e){console.error("Generation error:",e),alert("AI 생성에 실패했습니다: "+e.message)}finally{u(!1)}}else alert("템플릿을 선택해주세요")},disabled:!t||x,className:"w-full py-3 px-4 rounded-lg font-semibold transition-colors "+(!t||x?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:x?(0,o.jsxs)("div",{className:"flex items-center justify-center",children:[(0,o.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"생성 중..."]}):"지문 생성하기"})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"생성된 콘텐츠"}),h?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"AI 제공자:"})," ",h.metadata.provider]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"토큰 사용:"})," ",h.metadata.tokensUsed]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"생성 시간:"})," ",h.metadata.generationTime,"ms"]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"템플릿:"})," ",h.metadata.templateUsed]})]}),(0,o.jsx)("div",{className:"border rounded-lg p-4 max-h-96 overflow-y-auto",children:(y=h.content,"string"==typeof y?(0,o.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:y}):y.title?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h4",{className:"text-lg font-bold",children:y.title}),y.description&&(0,o.jsx)("p",{className:"text-gray-600",children:y.description}),y.mainContent&&(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("p",{children:y.mainContent.introduction}),y.mainContent.keyPoints&&(0,o.jsx)("ul",{className:"list-disc list-inside",children:y.mainContent.keyPoints.map((e,s)=>(0,o.jsx)("li",{children:e},s))})]}),y.vocabularyList&&(0,o.jsx)("div",{className:"space-y-2",children:y.vocabularyList.map((e,s)=>(0,o.jsxs)("div",{className:"border-b pb-2",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:e.word}),": ",e.meaning]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["난이도: ",e.difficulty]})]},s))}),y.questions&&(0,o.jsx)("div",{className:"space-y-3",children:y.questions.map((e,s)=>(0,o.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,o.jsxs)("p",{className:"font-medium",children:[s+1,". ",e.question]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["(",e.type,", ",e.points,"점)"]})]},s))})]}):(0,o.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(y,null,2)}))}),(0,o.jsxs)("div",{className:"flex space-x-3",children:[(0,o.jsx)("button",{onClick:()=>{const e="string"==typeof h.content?h.content:JSON.stringify(h.content,null,2);navigator.clipboard.writeText(e),alert("클립보드에 복사되었습니다")},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50",children:"클립보드에 복사"}),(0,o.jsx)("button",{onClick:()=>{sessionStorage.setItem("generatedContent",JSON.stringify(h.content)),p("/editor?mode=new&content=generated")},className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"에디터에서 열기"})]})]}):(0,o.jsx)("div",{className:"text-center text-gray-500 py-20",children:"템플릿을 선택하고 생성 버튼을 클릭하세요"})]})]})]});var y};function L(){const[e,s]=(0,a.useState)({totalUsers:1245,totalContent:567,todayGenerated:89,activeUsers:234}),t=(0,r.Zp)(),l=(0,r.zy)();(0,a.useEffect)(()=>{const e=localStorage.getItem("isAdmin"),s=localStorage.getItem("adminToken");e||s||t("/admin/login")},[t]);const n=e=>l.pathname===e;return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,o.jsx)("div",{className:"w-64 bg-white shadow-lg",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-center mb-8",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-indigo-600"}),(0,o.jsx)("h2",{className:"ml-2 text-xl font-bold text-gray-900",children:"관리자 패널"})]}),(0,o.jsxs)("nav",{className:"space-y-2",children:[(0,o.jsxs)(r.N_,{to:"/admin/dashboard",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/dashboard")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.EsT,{className:"h-5 w-5 mr-3"}),"대시보드"]}),(0,o.jsxs)(r.N_,{to:"/admin/templates",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/templates")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.GDI,{className:"h-5 w-5 mr-3"}),"템플릿 관리"]}),(0,o.jsxs)(r.N_,{to:"/admin/generate",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/generate")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.sUz,{className:"h-5 w-5 mr-3"}),"지문 생성"]}),(0,o.jsxs)(r.N_,{to:"/admin/history",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/history")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.BZB,{className:"h-5 w-5 mr-3"}),"생성 히스토리"]}),(0,o.jsxs)(r.N_,{to:"/admin/analytics",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/analytics")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.VH9,{className:"h-5 w-5 mr-3"}),"사용 분석"]})]}),(0,o.jsx)("div",{className:"mt-8 pt-8 border-t",children:(0,o.jsxs)("button",{onClick:()=>{localStorage.removeItem("isAdmin"),localStorage.removeItem("adminToken"),t("/")},className:"flex items-center w-full p-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,o.jsx)(i.nUv,{className:"h-5 w-5 mr-3"}),"로그아웃"]})})]})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("header",{className:"bg-white shadow",children:(0,o.jsx)("div",{className:"px-8 py-6",children:(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"EduText Pro 관리자"})})}),(0,o.jsx)("main",{className:"p-8",children:(0,o.jsxs)(r.BV,{children:[(0,o.jsx)(r.qh,{path:"dashboard",element:(0,o.jsx)(_,{stats:e})}),(0,o.jsx)(r.qh,{path:"templates",element:(0,o.jsx)($,{})}),(0,o.jsx)(r.qh,{path:"generate",element:(0,o.jsx)(P,{})}),(0,o.jsx)(r.qh,{path:"history",element:(0,o.jsx)(O,{})}),(0,o.jsx)(r.qh,{path:"analytics",element:(0,o.jsx)(R,{})}),(0,o.jsx)(r.qh,{path:"*",element:(0,o.jsx)(_,{stats:e})})]})})]})]})}function _({stats:e}){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"대시보드 개요"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-blue-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"총 사용자"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalUsers.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.iUU,{className:"h-8 w-8 text-green-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"생성된 콘텐츠"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalContent.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-yellow-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"오늘 생성"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.todayGenerated})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-purple-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"활성 사용자"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.activeUsers})]})]})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"최근 활동"})}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsx)("div",{className:"space-y-4",children:[{title:"수학 기초 개념",user:"홍길동",time:"5분 전",type:"reading"},{title:"영어 문법 정리",user:"김철수",time:"15분 전",type:"grammar"},{title:"과학 실험 가이드",user:"이영희",time:"30분 전",type:"quiz"},{title:"역사 연표 정리",user:"박민수",time:"1시간 전",type:"vocabulary"}].map((e,s)=>(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:[e.user," • ",e.type]})]}),(0,o.jsx)("span",{className:"text-sm text-gray-400",children:e.time})]},s))})})]})]})}function O(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"생성 히스토리"}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsx)("p",{className:"text-gray-500",children:"생성 히스토리 기능이 곧 추가됩니다."})})]})}function R(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"사용 분석"}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsx)("p",{className:"text-gray-500",children:"사용 분석 기능이 곧 추가됩니다."})})]})}const D=function(){return(0,o.jsx)(r.Kd,{basename:n.$W.basename,children:(0,o.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,o.jsxs)(r.BV,{children:[(0,o.jsx)(r.qh,{path:"/",element:(0,o.jsx)(c,{})}),(0,o.jsx)(r.qh,{path:"/editor",element:(0,o.jsx)(m,{})}),(0,o.jsx)(r.qh,{path:"/reading-trainer",element:(0,o.jsx)(S,{})}),(0,o.jsx)(r.qh,{path:"/admin/login",element:(0,o.jsx)(A,{})}),(0,o.jsx)(r.qh,{path:"/admin",element:(0,o.jsx)(E,{})}),(0,o.jsx)(r.qh,{path:"/admin/*",element:(0,o.jsx)(L,{})})]})})})};l.createRoot(document.getElementById("root")).render((0,o.jsx)(a.StrictMode,{children:(0,o.jsx)(D,{})}))},493:(e,s,t)=>{t.d(s,{In:()=>r,v4:()=>l});const a=e=>{try{return""}catch{return""}},l={openai:a(),anthropic:a()},r=()=>[{id:"openai",name:"OpenAI GPT"},{id:"anthropic",name:"Anthropic Claude"},{id:"gemini",name:"Google Gemini"}]},521:(e,s,t)=>{t.d(s,{$W:()=>l,nr:()=>r});const a="https://wonbyte-pro.onrender.com",l={isDevelopment:!1,isProduction:!0,apiUrl:a,demo:!1,supabase:{url:"https://jqlouemxgafrbzdxyojl.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpxbG91ZW14Z2FmcmJ6ZHh5b2psIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxMDE5ODgsImV4cCI6MjA2OTY3Nzk4OH0.lzd76e3ZeH5eq33G6V6FMbs5lDToV9tGDUIilAVDPYI"},basename:"/wonbyte-pro",endpoints:{adminLogin:`${a}/api/admin/login`,adminStats:`${a}/api/admin/stats`,adminTemplates:`${a}/api/admin/templates`,generateFromTemplate:`${a}/api/ai/generate-from-template`,generateDirect:`${a}/api/ai/generate-direct`,generateBatch:`${a}/api/ai/generate-batch`,generationHistory:`${a}/api/ai/history`,health:`${a}/api/health`}},r=async(e,s={})=>{const t=localStorage.getItem("adminToken"),a={headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}},l={...a,...s,headers:{...a.headers,...s.headers}};return fetch(e,l)}},607:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o}),t(521);const a=class{constructor(){this.delay=1e3}async simulateDelay(){return new Promise(e=>setTimeout(e,this.delay))}async adminLogin(e,s){return await this.simulateDelay(),"admin@inblanq.com"===e&&"2025"===s?{success:!0,token:"demo-admin-token-12345",user:{id:"demo-admin-id",email:"admin@inblanq.com",role:"admin"}}:{success:!1,error:"Invalid credentials"}}async generateContent(e,s,t,a={}){await this.simulateDelay();const{targetAge:l="elem2",difficulty:r="beginner",contentLength:n="800"}=a,i=this.extractTopic(t);if("reading"===s){const s=this.getTopicData(i,l);return{success:!0,content:{title:s.title,description:`${this.getAgeDescription(l)}을 위한 ${s.topic} 이야기`,mainContent:{introduction:this.generateReadingContent(n,l,i),keyPoints:s.keyPoints,examples:s.examples}},provider:e,timestamp:(new Date).toISOString(),tokensUsed:150}}return"vocabulary"===s?{success:!0,content:{title:"어휘 분석 결과",vocabularyList:[{word:"관찰",meaning:"자세히 살펴보는 것",synonyms:["구경","살피기"],antonyms:["무시","소홀"],difficulty:"★★★☆☆",example:"꽃을 관찰해보세요."},{word:"생명",meaning:"살아있는 것",synonyms:["목숨","삶"],antonyms:["죽음"],difficulty:"★★☆☆☆",example:"꽃도 생명이에요."},{word:"아름다운",meaning:"보기 좋고 예쁜",synonyms:["예쁜","곱다"],antonyms:["못생긴","추한"],difficulty:"★★☆☆☆",example:"아름다운 꽃이 피었어요."}]},provider:e,timestamp:(new Date).toISOString(),tokensUsed:100}:"questions"===s?{success:!0,content:{title:"서술형 문제",questions:[{type:"내용 이해형",question:"봄에 피는 꽃의 종류를 3가지 써보세요.",answerSpace:3,points:10},{type:"맥락 추론형",question:"글쓴이가 꽃을 꺾지 말라고 하는 이유를 써보세요.",answerSpace:4,points:15},{type:"내용 이해형",question:"꽃을 관찰할 때 주의할 점을 써보세요.",answerSpace:3,points:10},{type:"맥락 추론형",question:"자연이 우리에게 주는 의미를 생각해서 써보세요.",answerSpace:5,points:20},{type:"내용 이해형",question:"가족과 함께 꽃구경을 가면 좋은 이유를 써보세요.",answerSpace:4,points:15},{type:"맥락 추론형",question:"이 글을 읽고 느낀 점을 자유롭게 써보세요.",answerSpace:5,points:20}]},provider:e,timestamp:(new Date).toISOString(),tokensUsed:120}:"answers"===s?{success:!0,content:{title:"문제 해설",answers:[{questionNumber:1,correctAnswer:"개나리, 진달래, 벚꽃",explanation:"지문에서 봄에 피는 꽃으로 개나리(노란색), 진달래(분홍색), 벚꽃(하얀색, 분홍색)을 제시했습니다.",gradingCriteria:["3가지 꽃 이름 정확히 쓰기","맞춤법 정확성"],tips:"지문을 차근차근 읽으며 꽃 이름을 찾아보세요."},{questionNumber:2,correctAnswer:"꽃도 우리처럼 살아있는 생명이기 때문입니다.",explanation:"글쓴이는 꽃도 생명체임을 강조하며 생명을 소중히 여겨야 한다고 말합니다.",gradingCriteria:["생명의 소중함 언급","논리적 설명"],tips:"지문에서 생명에 관련된 부분을 찾아보세요."}]},provider:e,timestamp:(new Date).toISOString(),tokensUsed:90}:{success:!0,content:{title:"데모 콘텐츠",description:"데모 모드에서 생성된 샘플 콘텐츠입니다."},provider:e,timestamp:(new Date).toISOString(),tokensUsed:50}}getAgeDescription(e){return{elem1:"초등학교 1학년",elem2:"초등학교 2학년",elem3:"초등학교 3학년",elem4:"초등학교 4학년",elem5:"초등학교 5학년",elem6:"초등학교 6학년",middle1:"중학교 1학년",middle2:"중학교 2학년",middle3:"중학교 3학년",high1:"고등학교 1학년",high2:"고등학교 2학년",high3:"고등학교 3학년"}[e]||"초등학교 2학년"}extractTopic(e){if(!e)return"game";const s=e.toLowerCase();return s.includes("게임")||s.includes("기술")||s.includes("컴퓨터")||s.includes("로봇")?"game":s.includes("스포츠")||s.includes("축구")||s.includes("운동")?"sports":s.includes("음악")||s.includes("노래")||s.includes("엔터테인먼트")?"music":s.includes("동물")||s.includes("자연")||s.includes("환경")?"nature":s.includes("과학")||s.includes("우주")||s.includes("실험")?"science":s.includes("음식")||s.includes("요리")||s.includes("맛")?"food":"game"}getTopicData(e,s){const t={game:{title:"게임과 기술",topic:"게임 & 기술",keyPoints:["컴퓨터 게임은 재미있는 놀이입니다","기술 발전으로 게임이 더 발달했습니다","게임을 할 때는 시간을 지켜야 합니다"],examples:[{korean:"친구들과 함께 게임을 하면 더 재미있어요.",explanation:"협동하는 게임의 즐거움"}]},sports:{title:"스포츠와 건강",topic:"스포츠",keyPoints:["운동은 우리 몸을 건강하게 합니다","여러 가지 스포츠가 있습니다","팀워크가 중요합니다"],examples:[{korean:"축구를 하면 다리 근육이 강해져요.",explanation:"운동과 건강의 관계"}]},nature:{title:"동물과 자연",topic:"동물 & 자연",keyPoints:["자연에는 많은 동물들이 살고 있습니다","동물마다 다른 특징을 가지고 있습니다","자연을 보호해야 합니다"],examples:[{korean:"숲에서 다람쥐가 도토리를 모으고 있어요.",explanation:"동물의 생활 모습"}]}};return t[e]||t.game}generateReadingContent(e,s,t="nature"){const a={game:{base:"요즘 컴퓨터 게임은 정말 재미있습니다. 스마트폰이나 컴퓨터로 여러 가지 게임을 할 수 있어요. 게임을 하면 친구들과 함께 즐길 수 있고, 새로운 것을 배울 수도 있습니다. 하지만 게임을 할 때는 시간을 정해서 해야 해요. 너무 오래 하면 눈이 아프고 공부할 시간이 부족해집니다. 게임은 재미있지만 적당히 하는 것이 좋습니다.",additional:" 게임을 만드는 사람들을 개발자라고 부릅니다. 이들은 컴퓨터 프로그래밍을 배워서 재미있는 게임을 만들어요. 미래에는 더욱 발달한 기술로 더 재미있는 게임들이 나올 것입니다. 가상현실 게임이나 로봇과 함께 하는 게임도 있어요. 기술이 발전하면 우리 생활이 더욱 편리해집니다.",extra:" 로봇 기술도 많이 발전했습니다. 집에서 청소를 도와주는 로봇이나 음성으로 대화할 수 있는 AI도 있어요. 인공지능은 사람처럼 생각하고 배울 수 있는 기술입니다. 앞으로 로봇이 더 똑똑해져서 우리 생활을 많이 도와줄 것입니다."},nature:{base:"따뜻한 봄이 오면 여러 가지 예쁜 꽃들이 피어납니다. 개나리는 노란색으로 먼저 피고, 진달래는 분홍색으로 예쁘게 핍니다. 벚꽃은 하얀색과 분홍색으로 피어서 마치 눈이 내린 것 같아요. 꽃들은 우리에게 봄이 왔다고 알려주는 친구들입니다. 꽃들을 보면 마음이 기뻐집니다. 우리는 꽃을 소중히 여겨야 해요. 꽃을 꺾지 말고 예쁘게 구경만 해야 합니다. 꽃들도 우리처럼 살아있는 생명이기 때문입니다.",additional:" 봄에는 가족과 함께 꽃구경을 가면 좋겠어요. 공원이나 산에 가서 여러 가지 꽃들을 찾아보세요. 꽃의 색깔과 모양을 자세히 관찰해보면 정말 신기합니다. 자연은 우리에게 아름다운 선물을 주는 것 같아요. 꽃향기를 맡아보고, 나비나 벌들이 꽃을 찾아오는 모습도 관찰해보세요. 계절이 바뀌면서 피는 꽃들도 달라집니다.",extra:" 여름에는 해바라기와 장미가 피고, 가을에는 코스모스와 국화가 아름답게 핍니다. 겨울에는 동백꽃이 추위를 이겨내며 붉게 피어납니다. 우리나라에는 정말 다양한 꽃들이 사계절 내내 피어나므로 언제든지 아름다운 자연을 만날 수 있습니다. 꽃을 통해 자연의 신비로움과 생명의 소중함을 배울 수 있어요."},sports:{base:"운동은 우리 몸을 건강하게 만들어 줍니다. 축구, 농구, 수영 등 여러 가지 스포츠가 있어요. 친구들과 함께 운동을 하면 더욱 재미있습니다. 운동을 하면 근육이 강해지고 심장도 건강해집니다. 매일 조금씩이라도 몸을 움직이는 것이 좋아요. 운동은 스트레스를 줄여주고 기분을 좋게 만들어 줍니다.",additional:" 팀 스포츠를 하면 협동심을 기를 수 있어요. 서로 도와주고 응원하면서 함께 목표를 달성하는 기쁨을 느낄 수 있습니다. 올림픽이나 월드컵 같은 큰 대회를 보면서 선수들의 노력과 열정을 배울 수 있어요.",extra:" 운동선수가 되려면 어릴 때부터 꾸준히 연습해야 합니다. 건강한 몸과 강한 정신력이 필요해요. 우리도 매일 운동하는 습관을 기르면 건강하고 행복한 생활을 할 수 있습니다."}},l=a[t]||a.nature,{base:r,additional:n,extra:i}=l,o=parseInt(e);let c=r;if(o>=600&&(c+=n),o>=1e3&&(c+=i),c.length<o){const e={game:" 기술은 우리 생활을 더욱 편리하게 만들어 줍니다.",nature:" 자연은 우리 생활에 기쁨과 아름다움을 가져다줍니다.",sports:" 운동은 건강한 생활의 기초가 됩니다."};c+=(e[t]||e.nature).repeat(Math.ceil((o-c.length)/30))}return c.substring(0,o)}async getStats(){return await this.simulateDelay(),{success:!0,stats:{totalGenerations:42,totalTokens:3580,providerBreakdown:{claude:{count:25,tokens:2100},gemini:{count:17,tokens:1480}},contentTypeBreakdown:{reading:{count:15,tokens:1800},vocabulary:{count:12,tokens:980},questions:{count:10,tokens:600},answers:{count:5,tokens:200}},dailyUsage:{"2025-08-01":{count:8,tokens:720},"2025-07-31":{count:12,tokens:1040},"2025-07-30":{count:10,tokens:850}}}}}};var l=t(493);const r=new class{constructor(e=10,s=6e4){this.maxRequests=e,this.windowMs=s,this.requests=[]}canMakeRequest(){const e=Date.now();return this.requests=this.requests.filter(s=>e-s<this.windowMs),this.requests.length<this.maxRequests&&(this.requests.push(e),!0)}getRemainingTime(){if(0===this.requests.length)return 0;const e=Math.min(...this.requests),s=Date.now();return Math.max(0,this.windowMs-(s-e))}}(10,6e4),n=(e,s,t=null)=>{(new Date).toISOString(),window.location.hostname},i=new class{constructor(){this.providers={openai:{url:"https://api.openai.com/v1/chat/completions",headers:e=>({"Content-Type":"application/json",Authorization:`Bearer ${e}`}),formatRequest:e=>({model:"gpt-3.5-turbo",messages:[{role:"user",content:e}],temperature:.7}),parseResponse:e=>({success:!0,content:e.choices?.[0]?.message?.content||"",metadata:{provider:"openai",model:e.model,tokensUsed:e.usage?.total_tokens||0}})},anthropic:{url:"/api/anthropic",headers:e=>({"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"}),formatRequest:e=>({model:"claude-3-sonnet-20240229",max_tokens:4e3,messages:[{role:"user",content:e}]}),parseResponse:e=>({success:!0,content:e.content?.[0]?.text||"",metadata:{provider:"anthropic",model:e.model,tokensUsed:e.usage?.total_tokens||0}})}}}async generateContent(e){try{if(!(()=>{const e=window.location.hostname;return["localhost","127.0.0.1","wonbyte-pro.vercel.app","wonbyte-pro-git-main-mingukang0719s-projects.vercel.app"].some(s=>e.includes(s))})())throw new Error("허용되지 않은 환경에서의 API 호출입니다.");if(!r.canMakeRequest()){const e=Math.ceil(r.getRemainingTime()/1e3);throw new Error(`API 호출 제한을 초과했습니다. ${e}초 후에 다시 시도해주세요.`)}const{provider:t="openai",prompt:a}=e,i=l.v4[t];if(!i)throw new Error(`${t} API 키가 설정되지 않았습니다.`);const o=this.providers[t];if(!o)throw new Error(`지원하지 않는 AI 제공자입니다: ${t}`);const c=await fetch(o.url,{method:"POST",headers:o.headers(i),body:JSON.stringify(o.formatRequest(a))});if(!c.ok){const e=await c.json();throw new Error(e.error?.message||`API 호출 실패: ${c.status}`)}const d=await c.json(),m=o.parseResponse(d);return m.content&&"string"==typeof m.content&&(m.content="string"!=typeof(s=m.content)?s:s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"")),n(),m}catch(s){throw console.error("Client AI Service Error:",s),n(e.provider,0,s),s}var s}async generateReadingText(e,s,t,a="openai"){const l=`다음 조건에 맞는 한국어 읽기 지문을 작성해주세요:\n    \n주제: ${e}\n학년 수준: ${s}\n길이: 약 ${t}자\n\n지문 작성 시 다음 사항을 지켜주세요:\n1. 해당 학년 수준에 맞는 어휘와 문장 구조 사용\n2. 교육적이고 흥미로운 내용\n3. 명확한 주제와 구조를 가진 완성된 글\n4. 한국어 맞춤법과 문법 준수\n\n지문만 작성하고 다른 설명은 포함하지 마세요.`,r=await this.generateContent({provider:a,prompt:l});let n=r.content;if("string"==typeof n){n=n.trim();const s=n.split("\n"),t=s[0]?.replace(/^#+ /,"")||`${e} 이야기`,a=s.slice(1).join("\n").trim()||n;r.content={title:t,mainContent:{introduction:a}}}return r}async analyzeReadingLevel(e,s,t="openai"){const a=`다음 텍스트의 문해력 난이도를 분석해주세요:\n\n텍스트: """\n${e}\n"""\n\n대상 학년: ${s}\n\n다음 5가지 기준으로 각각 1-10점으로 평가하고 간단한 설명을 제공해주세요:\n1. 텍스트 길이와 구조 (textLength)\n2. 어휘 난이도 (vocabularyLevel)\n3. 문장 복잡도 (sentenceComplexity)\n4. 내용 수준 (contentLevel)\n5. 배경지식 요구도 (backgroundKnowledge)\n\n응답 형식:\n{\n  "textLength": 점수,\n  "vocabularyLevel": 점수,\n  "sentenceComplexity": 점수,\n  "contentLevel": 점수,\n  "backgroundKnowledge": 점수,\n  "totalScore": 평균점수,\n  "analysis": "종합 분석 설명"\n}`,l=await this.generateContent({provider:t,prompt:a});try{const e=l.content.match(/\{[\s\S]*\}/);if(e){const s=JSON.parse(e[0]);l.content=s}else l.content={textLength:5,vocabularyLevel:5,sentenceComplexity:5,contentLevel:5,backgroundKnowledge:5,totalScore:5,analysis:"문해력 분석을 완료했습니다."}}catch(e){console.error("분석 결과 파싱 오류:",e)}return l}async extractVocabulary(e,s,t=10,a="openai"){const l=`다음 텍스트에서 ${s} 학생이 학습해야 할 핵심 어휘 ${t}개를 추출해주세요:\n\n텍스트: """\n${e}\n"""\n\n각 어휘에 대해 다음 정보를 제공해주세요:\n- word: 단어\n- meaning: 의미 설명 (학년 수준에 맞게)\n- difficulty: 난이도 (★ 1-5개)\n- example: 예문\n\nJSON 배열 형식으로 응답해주세요.`,r=await this.generateContent({provider:a,prompt:l});try{const e=r.content.match(/\[[\s\S]*\]/);if(e){const s=JSON.parse(e[0]);r.content={vocabularyList:s}}else r.content={vocabularyList:[{word:"학습",meaning:"배우고 익히는 것",difficulty:"★★★",example:"매일 꾸준히 학습해야 합니다."}]}}catch(e){console.error("어휘 추출 파싱 오류:",e)}return r}async generateProblems(e,s,t,a="openai"){const l=`다음 지문을 바탕으로 ${{vocabulary:"어휘",comprehension:"독해",inference:"추론",critical:"비판적 사고"}[s]||s} 문제를 ${t}개 만들어주세요:\n\n지문: """\n${e}\n"""\n\n각 문제는 다음 형식으로 작성해주세요:\n- id: 문제 번호\n- type: "${s}"\n- question: 문제\n- options: 4개의 선택지 배열\n- answer: 정답 인덱스 (0-3)\n- explanation: 해설\n\nJSON 배열 형식으로 응답해주세요.`,r=await this.generateContent({provider:a,prompt:l});try{const e=r.content.match(/\[[\s\S]*\]/);if(e){const s=JSON.parse(e[0]);r.content={problems:s}}else r.content={problems:[{id:1,type:s,question:"이 글의 주제는 무엇입니까?",options:["선택지 1","선택지 2","선택지 3","선택지 4"],answer:0,explanation:"이 글의 주제를 파악하는 문제입니다."}]}}catch(e){console.error("문제 생성 파싱 오류:",e)}return r}},o=new class{constructor(){this.baseURL="https://wonbyte-pro.onrender.com",this.demoService=new a,this.clientAIService=i,this.isDemo=!1,this.useClientAI=!1,console.log("AIService Constructor - FORCED baseURL:",this.baseURL)}async generateContent(e){try{if(this.useClientAI){if("reading"===e.contentType){const s=e.prompt.match(/(.+)에 대한/)?.[1]||"주제",t=e.contentLength||800;return await this.clientAIService.generateReadingText(s,e.targetAge,t,e.provider)}return await this.clientAIService.generateContent(e)}if(this.isDemo)return await this.demoService.generateContent(e.provider||"claude",e.contentType||"reading",e.prompt,{targetAge:e.targetAge,difficulty:e.difficulty,contentLength:e.contentLength});const s=`${this.baseURL}/api/ai/generate`;console.log("AI Service - Base URL:",this.baseURL),console.log("AI Service - Full URL:",s),console.log("AI Service - Request:",e),console.log("AI Service - Timestamp:",(new Date).toISOString());const t=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(!a.success)throw new Error(a.error||"AI 생성에 실패했습니다.");return a}catch(e){throw console.error("AI Service Error:",e),new Error(`AI 콘텐츠 생성에 실패했습니다. 잠시 후 다시 시도해주세요. (${e.message})`)}}async analyzeReadingLevel(e,s){try{if(this.useClientAI)return await this.clientAIService.analyzeReadingLevel(e,s);if(this.isDemo)return this.mockAnalyzeReadingLevel(e);const t=await fetch(`${this.baseURL}/api/ai/analyze-text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,grade:s})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(!a.success)throw new Error(a.error||"텍스트 분석에 실패했습니다.");return a}catch(e){throw console.error("Reading Level Analysis Error:",e),e}}async extractVocabulary(e,s,t=20){try{if(this.useClientAI)return await this.clientAIService.extractVocabulary(e,s,t);if(this.isDemo)return this.mockExtractVocabulary(e,t);const a=await fetch(`${this.baseURL}/api/ai/extract-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,grade:s,count:t})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();if(!l.success)throw new Error(l.error||"어휘 추출에 실패했습니다.");return l}catch(e){throw console.error("Vocabulary Extraction Error:",e),new Error(`어휘 추출에 실패했습니다. 잠시 후 다시 시도해주세요. (${e.message})`)}}async generateReadingProblems(e,s,t,a="elem4"){try{if(this.useClientAI)return await this.clientAIService.generateProblems(e,s,t);if(this.isDemo)return this.mockGenerateProblems(e,s,t);const l=await fetch(`${this.baseURL}/api/ai/generate-problems`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,grade:a,problemTypes:Array.isArray(s)?s:[s],count:t})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const r=await l.json();if(!r.success)throw new Error(r.error||"문제 생성에 실패했습니다.");return r}catch(e){throw console.error("Problem Generation Error:",e),new Error(`문제 생성에 실패했습니다. 잠시 후 다시 시도해주세요. (${e.message})`)}}mockAnalyzeReadingLevel(e){const s=e.length,t=s/e.split(/[.!?]/).filter(e=>e.trim()).length;return{success:!0,content:{textLength:Math.min(10,Math.round(s/200)),vocabularyLevel:Math.min(10,Math.round(t/5)),sentenceComplexity:Math.min(10,Math.round(t/10)),contentLevel:Math.min(10,7),backgroundKnowledge:Math.min(10,5),totalScore:Math.round((s/200+t/5+t/10+7+5)/5),analysis:"이 지문은 해당 학년 수준에 적합한 난이도를 가지고 있습니다."}}}mockExtractVocabulary(e,s){const t=["학습","이해","발전","노력","성취","목표","과정","결과","방법","전략"];return{success:!0,content:{vocabularyList:t.slice(0,Math.min(s,t.length)).map(e=>({word:e,meaning:`${e}의 의미 설명`,difficulty:"★★★☆☆",example:`${e}을(를) 사용한 예문입니다.`}))}}}mockGenerateProblems(e,s,t){const a=[];if("vocabulary"===s)for(let e=1;e<=t;e++)a.push({id:e,type:"vocabulary",question:`문제 ${e}: 다음 단어의 의미로 가장 적절한 것은?`,word:"예시단어",options:["의미1","의미2","의미3","의미4"],answer:0,explanation:"이 단어는 이런 의미를 가지고 있습니다."});else for(let e=1;e<=t;e++)a.push({id:e,type:"comprehension",question:`문제 ${e}: 이 글의 내용과 일치하는 것은?`,options:["선택지1","선택지2","선택지3","선택지4"],answer:0,explanation:"지문의 이 부분에서 확인할 수 있습니다."});return{success:!0,content:{problems:a}}}async getProviderStatus(){try{const e=await fetch(`${this.baseURL}/api/ai/status`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(await e.json()).status}catch(e){return console.error("AI Status Error:",e),null}}async generateVocabulary(e,s={}){return this.generateContent({contentType:"vocabulary",prompt:e,...s})}async generateGrammar(e,s={}){return this.generateContent({contentType:"grammar",prompt:e,...s})}async generateReading(e,s={}){return this.generateContent({contentType:"reading",prompt:e,...s})}async generateQuiz(e,s={}){return this.generateContent({contentType:"quiz",prompt:e,...s})}getSamplePrompts(){return{vocabulary:["한국어 인사말에 대한 어휘 학습 자료를 만들어주세요","음식 관련 한국어 단어들을 정리해주세요","한국의 전통 문화 관련 어휘를 학습할 수 있는 자료를 만들어주세요"],grammar:["한국어 존댓말과 반말의 차이를 설명해주세요","한국어 조사 '은/는'과 '이/가'의 사용법을 알려주세요","한국어 시제 표현에 대해 설명해주세요"],reading:["한국의 사계절에 대한 읽기 자료를 만들어주세요","한국의 전통 음식 소개 글을 작성해주세요","한국 대학생의 일상생활에 대한 글을 써주세요"],quiz:["한국어 기초 어휘 퀴즈를 만들어주세요","한국 문화에 대한 이해도를 확인하는 퀴즈를 만들어주세요","한국어 문법 실력을 테스트하는 문제를 만들어주세요"]}}getDifficultyGuide(){return{beginner:{label:"초급",description:"한글을 읽을 수 있고 기본 단어 500개 정도 아는 수준",features:["로마자 표기 포함","쉬운 어휘 사용","단순한 문장 구조"]},intermediate:{label:"중급",description:"일상 대화가 가능하고 기본 문법을 아는 수준",features:["실용적인 표현","다양한 문법 활용","문화적 맥락 포함"]},advanced:{label:"고급",description:"복잡한 문장을 이해하고 뉘앙스를 구분할 수 있는 수준",features:["고급 어휘","복잡한 문법","추상적 개념"]}}}getAgeGuide(){return{child:{label:"어린이",description:"재미있고 쉬운 예시, 그림이나 게임 요소 포함",features:["놀이 중심","시각적 요소","반복 학습"]},teen:{label:"청소년",description:"학교생활, 친구 관계 등 관련 예시",features:["학급 친화적","또래 문화","실용적 회화"]},adult:{label:"성인",description:"직장생활, 사회생활 등 실용적 예시",features:["비즈니스 한국어","공식적 표현","사회 문화"]},senior:{label:"시니어",description:"천천히, 자세히, 반복 설명 위주",features:["체계적 설명","충분한 연습","반복 강화"]}}}}}},n={};function i(e){var s=n[e];if(void 0!==s)return s.exports;var t=n[e]={exports:{}};return r[e].call(t.exports,t,t.exports,i),t.exports}i.m=r,e=[],i.O=(s,t,a,l)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,a,l]=e[d],n=!0,o=0;o<t.length;o++)(!1&l||r>=l)&&Object.keys(i.O).every(e=>i.O[e](t[o]))?t.splice(o--,1):(n=!1,l<r&&(r=l));if(n){e.splice(d--,1);var c=a();void 0!==c&&(s=c)}}return s}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[t,a,l]},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var l=Object.create(null);i.r(l);var r={};s=s||[null,t({}),t([]),t(t)];for(var n=2&a&&e;("object"==typeof n||"function"==typeof n)&&!~s.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach(s=>r[s]=()=>e[s]);return r.default=()=>e,i.d(l,r),l},i.d=(e,s)=>{for(var t in s)i.o(s,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce((s,t)=>(i.f[t](e,s),s),[])),i.u=e=>e+".2ee03ff1993f09ed25b2.js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),a={},l="wonbyte-pro:",i.l=(e,s,t,r)=>{if(a[e])a[e].push(s);else{var n,o;if(void 0!==t)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var m=c[d];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==l+t){n=m;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,i.nc&&n.setAttribute("nonce",i.nc),n.setAttribute("data-webpack",l+t),n.src=e),a[e]=[s];var x=(s,t)=>{n.onerror=n.onload=null,clearTimeout(u);var l=a[e];if(delete a[e],n.parentNode&&n.parentNode.removeChild(n),l&&l.forEach(e=>e(t)),s)return s(t)},u=setTimeout(x.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=x.bind(null,n.onerror),n.onload=x.bind(null,n.onload),o&&document.head.appendChild(n)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/wonbyte-pro/",(()=>{var e={792:0};i.f.j=(s,t)=>{var a=i.o(e,s)?e[s]:void 0;if(0!==a)if(a)t.push(a[2]);else{var l=new Promise((t,l)=>a=e[s]=[t,l]);t.push(a[2]=l);var r=i.p+i.u(s),n=new Error;i.l(r,t=>{if(i.o(e,s)&&(0!==(a=e[s])&&(e[s]=void 0),a)){var l=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;n.message="Loading chunk "+s+" failed.\n("+l+": "+r+")",n.name="ChunkLoadError",n.type=l,n.request=r,a[1](n)}},"chunk-"+s,s)}},i.O.j=s=>0===e[s];var s=(s,t)=>{var a,l,[r,n,o]=t,c=0;if(r.some(s=>0!==e[s])){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(o)var d=o(i)}for(s&&s(t);c<r.length;c++)l=r[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(d)},t=self.webpackChunkwonbyte_pro=self.webpackChunkwonbyte_pro||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var o=i.O(void 0,[96],()=>i(280));o=i.O(o)})();
//# sourceMappingURL=main.35f7d1ec5b8f679d9e47.js.map