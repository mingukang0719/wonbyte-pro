(()=>{"use strict";var e,s,t,a,l,r={280:(e,s,t)=>{var a=t(540),l=t(338),r=t(648),n=t(521),i=t(628),o=t(848);function c(){return(0,o.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,o.jsx)("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:(0,o.jsx)(i.iUU,{className:"h-6 w-6 text-white"})}),(0,o.jsx)("h1",{className:"ml-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"ì›ë°”ì´íŠ¸ PRO"}),(0,o.jsx)("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:"ë¬¸í•´ë ¥ í›ˆë ¨"})]}),(0,o.jsxs)("nav",{className:"hidden md:flex items-center space-x-8",children:[(0,o.jsx)("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"ê¸°ëŠ¥"}),(0,o.jsx)(r.N_,{to:"/reading-trainer",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"ë¬¸í•´ë ¥ í›ˆë ¨"}),(0,o.jsx)(r.N_,{to:"/editor",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"í•™ìŠµìžë£Œ ì œìž‘"}),(0,o.jsx)(r.N_,{to:"/admin/login",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"ê´€ë¦¬ìž"}),(0,o.jsx)(r.N_,{to:"/reading-trainer",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-200",children:"ì‹œìž‘í•˜ê¸°"})]})]})})}),(0,o.jsxs)("main",{className:"relative",children:[(0,o.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,o.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-200 rounded-full opacity-20 blur-3xl"}),(0,o.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-200 rounded-full opacity-20 blur-3xl"})]}),(0,o.jsx)("section",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsxs)("h2",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["AI ê¸°ë°˜ ë§žì¶¤í˜•",(0,o.jsx)("br",{}),(0,o.jsx)("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"í•œêµ­ì–´ ë¬¸í•´ë ¥ í›ˆë ¨"})]}),(0,o.jsxs)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed",children:["ì•„ì´ë“¤ì´ ì¢‹ì•„í•˜ëŠ” ì£¼ì œë¡œ í¥ë¯¸ë¡­ê²Œ ì½ê¸° ì‹¤ë ¥ì„ í‚¤ì›Œìš”!",(0,o.jsx)("br",{}),"AIê°€ í•™ë…„ë³„ ë§žì¶¤ ì§€ë¬¸ê³¼ ë¬¸ì œë¥¼ ìžë™ìœ¼ë¡œ ìƒì„±í•©ë‹ˆë‹¤"]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[(0,o.jsxs)(r.N_,{to:"/reading-trainer",className:"group bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:shadow-xl transition-all duration-300 flex items-center",children:["ë¬¸í•´ë ¥ í›ˆë ¨ ì‹œìž‘í•˜ê¸°",(0,o.jsx)(i.Qpb,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]}),(0,o.jsx)(r.N_,{to:"/editor",className:"border-2 border-gray-300 text-gray-700 px-8 py-4 rounded-xl text-lg font-semibold hover:border-blue-300 hover:text-blue-600 transition-all duration-300",children:"í•™ìŠµìžë£Œ ì œìž‘í•˜ê¸°"})]}),(0,o.jsx)("div",{className:"relative max-w-4xl mx-auto",children:(0,o.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-200",children:(0,o.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"ë¬¸í•´ë ¥ í›ˆë ¨ 3ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤"}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,o.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,o.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]})]}),(0,o.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-inner",children:(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,o.jsxs)("div",{className:"text-center p-4 border-2 border-blue-200 rounded-lg bg-blue-50",children:[(0,o.jsx)("div",{className:"text-blue-600 font-bold text-2xl mb-2",children:"1"}),(0,o.jsx)("p",{className:"font-semibold",children:"ì§€ë¬¸ ì¤€ë¹„"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"AI ìƒì„± ë˜ëŠ” ì§ì ‘ ìž…ë ¥"})]}),(0,o.jsxs)("div",{className:"text-center p-4 border-2 border-purple-200 rounded-lg bg-purple-50",children:[(0,o.jsx)("div",{className:"text-purple-600 font-bold text-2xl mb-2",children:"2"}),(0,o.jsx)("p",{className:"font-semibold",children:"ë¬¸í•´ë ¥ ë¶„ì„"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"5ê°€ì§€ ê¸°ì¤€ ë‚œì´ë„ í‰ê°€"})]}),(0,o.jsxs)("div",{className:"text-center p-4 border-2 border-green-200 rounded-lg bg-green-50",children:[(0,o.jsx)("div",{className:"text-green-600 font-bold text-2xl mb-2",children:"3"}),(0,o.jsx)("p",{className:"font-semibold",children:"ë¬¸ì œ í’€ì´"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"ì–´íœ˜Â·ë…í•´ ë¬¸ì œ ìžë™ ìƒì„±"})]})]})})]})})})]})}),(0,o.jsx)("section",{id:"features",className:"relative py-20 bg-white",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"text-center mb-16",children:[(0,o.jsx)("h3",{className:"text-4xl font-bold text-gray-900 mb-4",children:"ê°•ë ¥í•œ ê¸°ëŠ¥"}),(0,o.jsx)("p",{className:"text-xl text-gray-600",children:"ì²´ê³„ì ì¸ í•œêµ­ì–´ ë¬¸í•´ë ¥ í–¥ìƒì„ ìœ„í•œ í•µì‹¬ ê¸°ëŠ¥"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.sUz,{className:"h-8 w-8 text-blue-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ë§žì¶¤í˜• ì§€ë¬¸ ìƒì„±"}),(0,o.jsx)("p",{className:"text-gray-600",children:"ì•„ì´ì˜ ê´€ì‹¬ì‚¬ì™€ í•™ë…„ì— ë§žì¶˜ AI ê¸°ë°˜ ì½ê¸° ì§€ë¬¸ ìžë™ ìƒì„±"})]}),(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.esB,{className:"h-8 w-8 text-purple-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ë¬¸í•´ë ¥ ë‚œì´ë„ ë¶„ì„"}),(0,o.jsx)("p",{className:"text-gray-600",children:"5ê°€ì§€ ê¸°ì¤€ìœ¼ë¡œ ì§€ë¬¸ì˜ ë‚œì´ë„ë¥¼ ì •ë°€í•˜ê²Œ ë¶„ì„"})]}),(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.KqI,{className:"h-8 w-8 text-green-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ìžë™ ë¬¸ì œ ìƒì„±"}),(0,o.jsx)("p",{className:"text-gray-600",children:"ì–´íœ˜, ë…í•´, ë¹„íŒì  ì‚¬ê³  ë¬¸ì œë¥¼ AIê°€ ìžë™ìœ¼ë¡œ ìƒì„±"})]}),(0,o.jsxs)("div",{className:"text-center group",children:[(0,o.jsx)("div",{className:"bg-gradient-to-br from-orange-100 to-orange-200 p-4 rounded-2xl w-16 h-16 mx-auto mb-4 group-hover:scale-110 transition-transform duration-300",children:(0,o.jsx)(i.f5X,{className:"h-8 w-8 text-orange-600 mx-auto"})}),(0,o.jsx)("h4",{className:"text-xl font-semibold text-gray-900 mb-2",children:"í•™ìŠµ ë¬¸ì œì§‘ ì¶œë ¥"}),(0,o.jsx)("p",{className:"text-gray-600",children:"ì™„ì„±ëœ í•™ìŠµ ìžë£Œë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ì—¬ í™œìš©"})]})]})]})}),(0,o.jsx)("section",{className:"relative py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:(0,o.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,o.jsx)("h3",{className:"text-4xl font-bold text-white mb-6",children:"ì•„ì´ì˜ ì½ê¸° ì‹¤ë ¥ì„ í‚¤ì›Œì£¼ì„¸ìš”"}),(0,o.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"í¥ë¯¸ë¡œìš´ ì£¼ì œë¡œ ì‹œìž‘í•˜ëŠ” ì²´ê³„ì ì¸ ë¬¸í•´ë ¥ í›ˆë ¨"}),(0,o.jsxs)(r.N_,{to:"/reading-trainer",className:"inline-flex items-center bg-white text-blue-600 px-8 py-4 rounded-xl text-lg font-semibold hover:shadow-xl transition-all duration-300 group",children:["ë¬¸í•´ë ¥ í›ˆë ¨ ì‹œìž‘í•˜ê¸°",(0,o.jsx)(i.Qpb,{className:"ml-2 h-5 w-5 group-hover:translate-x-1 transition-transform"})]})]})})]}),(0,o.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,o.jsxs)("div",{className:"flex items-center mb-4 md:mb-0",children:[(0,o.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-lg",children:(0,o.jsx)(i.iUU,{className:"h-5 w-5 text-white"})}),(0,o.jsx)("span",{className:"ml-2 text-lg font-semibold",children:"ì›ë°”ì´íŠ¸ PRO - ë¬¸í•´ë ¥ í›ˆë ¨ í”„ë¡œê·¸ëž¨"})]}),(0,o.jsx)("div",{className:"text-gray-400",children:(0,o.jsx)("p",{children:"Â© 2025 ì›ë°”ì´íŠ¸ PRO. All rights reserved."})})]})})})]})}const d=({id:e,x:s=100,y:t=100,width:l=200,height:r=100,text:n="í…ìŠ¤íŠ¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”",fontSize:c=16,fontFamily:d="Noto Sans KR",color:m="#333333",isSelected:x=!1,onSelect:u,onUpdate:h,onDelete:g})=>{const[p,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(!1),[f,N]=(0,a.useState)({x:0,y:0}),[v,w]=(0,a.useState)(n),C=(0,a.useRef)(null),k=s=>{if(!y)return;const t=s.clientX-f.x,a=s.clientY-f.y;h?.(e,{x:t,y:a})},S=()=>{j(!1)},A=()=>{b(!1),v!==n&&h?.(e,{text:v})};return(0,a.useEffect)(()=>{if(y)return document.addEventListener("mousemove",k),document.addEventListener("mouseup",S),()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",S)}},[y,f]),(0,a.useEffect)(()=>{p&&C.current&&(C.current.focus(),C.current.select())},[p]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:`\n          absolute border-2 transition-all duration-200 cursor-move bg-white\n          ${x?"border-blue-500 shadow-lg":"border-transparent hover:border-gray-300"}\n          ${y?"cursor-grabbing shadow-xl z-50":"cursor-grab"}\n        `,style:{left:`${s}px`,top:`${t}px`,width:`${l}px`,height:`${r}px`,fontFamily:d,fontSize:`${c}px`,color:m},onMouseDown:a=>{"TEXTAREA"!==a.target.tagName&&(a.preventDefault(),j(!0),N({x:a.clientX-s,y:a.clientY-t}),u?.(e))},onDoubleClick:()=>{b(!0)},children:[p?(0,o.jsx)("textarea",{ref:C,value:v,onChange:e=>{w(e.target.value)},onBlur:A,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&(w(n),b(!1)):(e.preventDefault(),A())},className:"w-full h-full p-2 resize-none border-none outline-none bg-transparent",style:{fontFamily:d,fontSize:`${c}px`,color:m},placeholder:"í…ìŠ¤íŠ¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”..."}):(0,o.jsx)("div",{className:"w-full h-full p-2 overflow-hidden",style:{fontFamily:d,fontSize:`${c}px`,color:m,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:n||"í…ìŠ¤íŠ¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”"}),x&&!p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-blue-500 border border-white cursor-se-resize"}),(0,o.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 border border-white cursor-ne-resize"}),(0,o.jsx)("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-blue-500 border border-white cursor-nw-resize"}),(0,o.jsx)("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-blue-500 border border-white cursor-sw-resize"}),(0,o.jsxs)("div",{className:"absolute -top-8 right-0 flex space-x-1",children:[(0,o.jsx)("button",{onClick:()=>b(!0),className:"p-1 bg-blue-500 text-white rounded shadow hover:bg-blue-600",title:"íŽ¸ì§‘",children:(0,o.jsx)(i.ZUJ,{className:"w-3 h-3"})}),(0,o.jsx)("button",{onClick:()=>g?.(e),className:"p-1 bg-red-500 text-white rounded shadow hover:bg-red-600",title:"ì‚­ì œ",children:(0,o.jsx)(i.TBR,{className:"w-3 h-3"})})]})]})]}),x&&(0,o.jsx)("div",{className:"absolute bg-blue-500 text-white text-xs px-2 py-1 rounded shadow",style:{left:`${s}px`,top:t-24+"px"},children:"í…ìŠ¤íŠ¸ ë¸”ë¡"})]})};function m(){const e=(0,r.Zp)(),[s,l]=(0,a.useState)(100),[n,c]=(0,a.useState)(!0),[m,x]=(0,a.useState)("select"),[u,h]=(0,a.useState)("gemini"),[g,p]=(0,a.useState)(!1),[b,y]=(0,a.useState)(!1),[j,f]=(0,a.useState)(""),[N,v]=(0,a.useState)("reading"),[w,C]=(0,a.useState)("intermediate"),[k,S]=(0,a.useState)("elem1"),[A,E]=(0,a.useState)("400"),[I,T]=(0,a.useState)(null),[$,P]=(0,a.useState)([]),[L,_]=(0,a.useState)(null),[O,R]=(0,a.useState)(!1),[D,q]=(0,a.useState)(null),[M,F]=(0,a.useState)([]),[U,z]=(0,a.useState)(!1),[G,V]=(0,a.useState)(!1),[J,B]=(0,a.useState)(null),[K,X]=(0,a.useState)([]),[H,W]=(0,a.useState)(!1),[Y,Z]=(0,a.useState)("main"),[Q,ee]=(0,a.useState)({main:[],vocabulary:[],questions:[],answers:[]}),[se,te]=(0,a.useState)(!1),[ae,le]=(0,a.useState)(null),re=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),ne=(e,s)=>{P(t=>t.map(t=>t.id===e?{...t,...s}:t))},ie=e=>{P(s=>s.filter(s=>s.id!==e)),L===e&&_(null)},oe=e=>{_(e)},ce={elem1:"ì´ˆë“±í•™êµ 1í•™ë…„",elem2:"ì´ˆë“±í•™êµ 2í•™ë…„",elem3:"ì´ˆë“±í•™êµ 3í•™ë…„",elem4:"ì´ˆë“±í•™êµ 4í•™ë…„",elem5:"ì´ˆë“±í•™êµ 5í•™ë…„",elem6:"ì´ˆë“±í•™êµ 6í•™ë…„",middle1:"ì¤‘í•™êµ 1í•™ë…„",middle2:"ì¤‘í•™êµ 2í•™ë…„",middle3:"ì¤‘í•™êµ 3í•™ë…„",high1:"ê³ ë“±í•™êµ 1í•™ë…„",high2:"ê³ ë“±í•™êµ 2í•™ë…„",high3:"ê³ ë“±í•™êµ 3í•™ë…„"};return(0,o.jsxs)("div",{className:"h-screen flex flex-col bg-gray-100",children:[(0,o.jsxs)("header",{className:"bg-white border-b border-gray-300 px-4 py-2 flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,o.jsx)(i.ww0,{className:"w-5 h-5"}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"í™ˆìœ¼ë¡œ"})]}),(0,o.jsx)("div",{className:"w-px h-6 bg-gray-300"}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-600",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-600",children:(0,o.jsx)(i.VnB,{className:"w-4 h-4"})}),(0,o.jsx)("button",{className:"p-2 rounded hover:bg-gray-100 text-gray-600",children:(0,o.jsx)(i.Bal,{className:"w-4 h-4"})})]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{id:"main",label:"ì§€ë¬¸",icon:"ðŸ“„"},{id:"vocabulary",label:"ì–´íœ˜",icon:"ðŸ“š"},{id:"questions",label:"ë¬¸ì œ",icon:"â“"},{id:"answers",label:"í•´ì„¤",icon:"ðŸ’¡"}].map(e=>(0,o.jsxs)("button",{onClick:()=>{return s=e.id,ee(e=>({...e,[Y]:$})),Z(s),P(Q[s]||[]),void _(null);var s},className:`\n                  px-3 py-1 rounded text-sm font-medium transition-colors flex items-center space-x-1\n                  ${Y===e.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}\n                `,children:[(0,o.jsx)("span",{children:e.icon}),(0,o.jsx)("span",{children:e.label}),Q[e.id]?.length>0&&(0,o.jsx)("span",{className:"ml-1 bg-blue-100 text-blue-600 text-xs px-1 rounded",children:Q[e.id].length})]},e.id))}),(0,o.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:"ì €ìž¥ë¨"})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[(0,o.jsx)("button",{onClick:()=>l(e=>Math.max(50,e-10)),className:"p-1 rounded hover:bg-white",children:(0,o.jsx)(i.enP,{className:"w-4 h-4"})}),(0,o.jsxs)("span",{className:"text-sm text-gray-600 min-w-12 text-center",children:[s,"%"]}),(0,o.jsx)("button",{onClick:()=>l(e=>Math.min(200,e+10)),className:"p-1 rounded hover:bg-white",children:(0,o.jsx)(i.$Zd,{className:"w-4 h-4"})})]}),(0,o.jsx)("button",{onClick:()=>c(!n),className:"p-2 rounded "+(n?"bg-blue-100 text-blue-600":"hover:bg-gray-100 text-gray-600"),children:(0,o.jsx)(i.xA9,{className:"w-4 h-4"})}),(0,o.jsxs)("button",{onClick:async()=>{try{const e={...Q,[Y]:$},s=Object.entries(e).filter(([e,s])=>s.length>0).map(([e,s])=>({title:"main"===e?"ì§€ë¬¸":"vocabulary"===e?"ì–´íœ˜":"questions"===e?"ë¬¸ì œ":"í•´ì„¤",blocks:s}));if(0===s.length)return void alert("ë‚´ë³´ë‚¼ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.");if(!(new(0,(await t.e(166).then(t.bind(t,166))).default)).openPDFPreview("í•œêµ­ì–´ í•™ìŠµ ìžë£Œ",s))throw new Error("PDF ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}catch(e){console.error("PDF ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨:",e),alert(`PDF ë‚´ë³´ë‚´ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${e.message}`)}},className:"px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 bg-blue-600 text-white hover:bg-blue-700",children:[(0,o.jsx)(i.f5X,{className:"w-4 h-4"}),(0,o.jsx)("span",{children:"PDF ë‚´ë³´ë‚´ê¸°"})]})]})]}),(0,o.jsxs)("div",{className:"flex-1 flex",children:[(0,o.jsxs)("div",{className:"w-16 bg-white border-r border-gray-300 flex flex-col items-center py-4 space-y-2",children:[[{id:"select",icon:"ðŸ”˜",label:"ì„ íƒ"},{id:"text",icon:(0,o.jsx)(i.ZUJ,{className:"w-5 h-5"}),label:"í…ìŠ¤íŠ¸"},{id:"image",icon:(0,o.jsx)(i._V3,{className:"w-5 h-5"}),label:"ì´ë¯¸ì§€"},{id:"table",icon:(0,o.jsx)(i.XIK,{className:"w-5 h-5"}),label:"í‘œ"},{id:"quiz",icon:(0,o.jsx)(i.mNh,{className:"w-5 h-5"}),label:"í€´ì¦ˆ"}].map(e=>(0,o.jsx)("button",{onClick:()=>{return s=e.id,x(s),void("text"===s&&(()=>{const e={id:re(),type:"text",x:50+100*Math.random(),y:50+100*Math.random(),width:200,height:80,text:"ìƒˆ í…ìŠ¤íŠ¸ ë¸”ë¡",fontSize:16,fontFamily:"Noto Sans KR",color:"#333333"};P(s=>[...s,e]),_(e.id)})());var s},className:`\n                w-12 h-12 rounded-lg flex items-center justify-center transition-colors\n                ${m===e.id?"bg-blue-100 text-blue-600 border-2 border-blue-300":"hover:bg-gray-100 text-gray-600"}\n              `,title:e.label,children:"string"==typeof e.icon?(0,o.jsx)("span",{className:"text-lg",children:e.icon}):e.icon},e.id)),(0,o.jsx)("div",{className:"h-px w-8 bg-gray-300 my-2"}),(0,o.jsx)("button",{onClick:()=>y(!b),className:`\n              w-12 h-12 rounded-lg flex items-center justify-center transition-colors\n              ${b?"bg-purple-100 text-purple-600 border-2 border-purple-300":"hover:bg-gray-100 text-gray-600"}\n            `,title:"AI ìƒì„±",children:(0,o.jsx)(i.sUz,{className:"w-5 h-5"})})]}),(0,o.jsx)("div",{className:"flex-1 relative overflow-auto",children:(0,o.jsx)("div",{className:"min-h-full flex items-center justify-center p-8",style:{backgroundColor:"#f8f9fa",backgroundImage:n?"radial-gradient(circle, #e9ecef 1px, transparent 1px)":"none",backgroundSize:n?"20px 20px":"auto"},children:(0,o.jsxs)("div",{className:"bg-white shadow-lg relative overflow-hidden",style:{width:s/100*794+"px",height:s/100*1123+"px",transform:"scale(1)",transformOrigin:"center center"},onClick:e=>{e.target===e.currentTarget&&_(null)},children:[(0,o.jsxs)("div",{className:"absolute inset-4 border border-dashed border-gray-300 rounded",style:{transform:`scale(${s/100})`,transformOrigin:"top left"},children:[$.map(e=>"text"===e.type?(0,o.jsx)(d,{id:e.id,x:e.x,y:e.y,width:e.width,height:e.height,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,color:e.color,isSelected:L===e.id,onSelect:oe,onUpdate:ne,onDelete:ie},e.id):null),0===$.length&&(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center text-gray-400",children:[(0,o.jsx)(i.ZUJ,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,o.jsxs)("p",{className:"text-lg mb-2",children:["ë¹ˆ ","main"===Y?"ì§€ë¬¸":"vocabulary"===Y?"ì–´íœ˜":"questions"===Y?"ë¬¸ì œ":"í•´ì„¤"," íŽ˜ì´ì§€"]}),(0,o.jsx)("p",{className:"text-sm",children:"main"===Y?"ì¢Œì¸¡ ë„êµ¬ì—ì„œ í…ìŠ¤íŠ¸ ë¸”ë¡ì„ ì„ íƒí•˜ê±°ë‚˜ AI ë„êµ¬ë¡œ ì§€ë¬¸ì„ ìƒì„±í•˜ì„¸ìš”":"vocabulary"===Y?"ë¨¼ì € ì§€ë¬¸ì„ ìƒì„±í•œ í›„ ì–´íœ˜ íŽ˜ì´ì§€ë¥¼ ìƒì„±í•˜ì„¸ìš”":"questions"===Y?"ë¨¼ì € ì§€ë¬¸ì„ ìƒì„±í•œ í›„ ë¬¸ì œë¥¼ ìƒì„±í•˜ì„¸ìš”":"ë¨¼ì € ë¬¸ì œë¥¼ ìƒì„±í•œ í›„ í•´ì„¤ì„ ìƒì„±í•˜ì„¸ìš”"})]})})]}),(0,o.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:["A4 (210mm Ã— 297mm) - ",Y," íŽ˜ì´ì§€ - ",$.length,"ê°œ ë¸”ë¡"]})]})})}),(0,o.jsx)("div",{className:"w-80 bg-white border-l border-gray-300",children:O?(0,o.jsxs)("div",{className:"h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"ì–´íœ˜ ì„ íƒ"}),(0,o.jsx)("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"ì–´íœ˜ë¥¼ ì„ íƒí•˜ì—¬ íŽ˜ì´ì§€ì— ì¶”ê°€í•˜ì„¸ìš”"})]}),(0,o.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[D?.vocabularyList?.map((e,s)=>(0,o.jsxs)("div",{className:"mb-4 p-3 border border-gray-200 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-900",children:e.word}),(0,o.jsx)("input",{type:"checkbox",checked:M.includes(s),onChange:e=>{e.target.checked?F([...M,s]):F(M.filter(e=>e!==s))},className:"ml-2"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:e.meaning}),(0,o.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[(0,o.jsx)("span",{className:"font-medium",children:"ìœ ì˜ì–´:"})," ",e.synonyms?.join(", ")||"ì—†ìŒ"]}),(0,o.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[(0,o.jsx)("span",{className:"font-medium",children:"ë°˜ì˜ì–´:"})," ",e.antonyms?.join(", ")||"ì—†ìŒ"]}),(0,o.jsxs)("div",{className:"text-xs text-gray-600 mb-1",children:[(0,o.jsx)("span",{className:"font-medium",children:"ë‚œì´ë„:"})," ",e.difficulty]}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,o.jsx)("span",{className:"font-medium",children:"ì˜ˆë¬¸:"})," ",e.example]})]},s)),(0,o.jsx)("div",{className:"mt-4 p-3 border-2 border-dashed border-gray-300 rounded-lg",children:(0,o.jsx)("button",{className:"w-full text-center text-gray-600 hover:text-gray-800",children:"+ ì‚¬ìš©ìž ì§ì ‘ ì¶”ê°€"})})]}),(0,o.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,o.jsxs)("button",{onClick:()=>{console.log("ì„ íƒëœ ì–´íœ˜:",M),R(!1)},disabled:0===M.length,className:"w-full bg-orange-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["ì„ íƒí•œ ì–´íœ˜ íŽ˜ì´ì§€ ì¶”ê°€ (",M.length,"ê°œ)"]})})]}):G?(0,o.jsxs)("div",{className:"h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"ë¬¸ì œ ì„ íƒ"}),(0,o.jsx)("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600",children:"âœ•"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"ë¬¸ì œë¥¼ ì„ íƒí•˜ì—¬ íŽ˜ì´ì§€ì— ì¶”ê°€í•˜ì„¸ìš”"})]}),(0,o.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:J?.questions?.map((e,s)=>(0,o.jsxs)("div",{className:"mb-4 p-3 border border-gray-200 rounded-lg",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded mb-2",children:e.type}),(0,o.jsx)("p",{className:"text-sm text-gray-900",children:e.question})]}),(0,o.jsx)("input",{type:"checkbox",checked:K.includes(s),onChange:e=>{e.target.checked?X([...K,s]):X(K.filter(e=>e!==s))},className:"ml-2"})]}),(0,o.jsxs)("div",{className:"text-xs text-gray-500",children:["ë‹µì•ˆ ì¤„ ìˆ˜: ",e.answerSpace,"ì¤„ | ë°°ì : ",e.points,"ì "]})]},s))}),(0,o.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsxs)("button",{onClick:()=>{console.log("ì„ íƒëœ ë¬¸ì œ:",K),V(!1)},disabled:0===K.length,className:"w-full bg-teal-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["ì„ íƒí•œ ë¬¸ì œ íŽ˜ì´ì§€ ì¶”ê°€ (",K.length,"ê°œ)"]}),(0,o.jsx)("button",{onClick:async()=>{if(J?.questions&&0!==K.length){te(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=K.map(e=>J.questions[e]),a=await e.generateContent({provider:u,contentType:"answers",difficulty:w,targetAge:k,prompt:`ë‹¤ìŒ ë¬¸ì œë“¤ì— ëŒ€í•œ ìƒì„¸í•œ í•´ì„¤ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”. ${ce[k]} ìˆ˜ì¤€ì— ë§žê²Œ ì„¤ëª…í•´ì£¼ì„¸ìš”:\n        \n        ${s.map((e,s)=>`\n        ë¬¸ì œ ${s+1}: ${e.question}\n        ìœ í˜•: ${e.type}\n        `).join("\n")}\n        \n        ê° ë¬¸ì œì— ëŒ€í•´:\n        1. ì •ë‹µ ë˜ëŠ” ì˜ˆì‹œ ë‹µì•ˆ\n        2. í•´ì„¤ (ì™œ ê·¸ëŸ° ë‹µì´ ë‚˜ì˜¤ëŠ”ì§€ ë‹¨ê³„ë³„ ì„¤ëª…)\n        3. ì±„ì  ê¸°ì¤€\n        4. ìœ ì‚¬ ë¬¸ì œ í•´ê²° íŒ`});le(a.content)}catch(e){console.error("í•´ì„¤ ìƒì„± ì‹¤íŒ¨:",e),alert(`í•´ì„¤ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${e.message}`)}finally{te(!1)}}else alert("ë¨¼ì € ë¬¸ì œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.")},disabled:0===K.length||se,className:"w-full bg-purple-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:se?"í•´ì„¤ ìƒì„± ì¤‘...":"í•´ì„¤ ì¶”ê°€"})]})})]}):b?(0,o.jsxs)("div",{className:"h-full flex flex-col",children:[(0,o.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"AI ì½˜í…ì¸  ìƒì„±"}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI ì œê³µì—…ì²´"}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)("button",{onClick:()=>h("gemini"),className:`\n                        flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors\n                        ${"gemini"===u?"bg-blue-100 text-blue-700 border-2 border-blue-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}\n                      `,children:"Gemini"}),(0,o.jsx)("button",{onClick:()=>h("claude"),className:`\n                        flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors\n                        ${"claude"===u?"bg-purple-100 text-purple-700 border-2 border-purple-300":"bg-gray-100 text-gray-600 hover:bg-gray-200"}\n                      `,children:"Claude"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì½˜í…ì¸  ìœ í˜•"}),(0,o.jsx)("select",{value:N,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:(0,o.jsx)("option",{value:"reading",children:"ì§€ë¬¸ ìƒì„±"})})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ë‚œì´ë„"}),(0,o.jsxs)("select",{value:w,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,o.jsx)("option",{value:"beginner",children:"ì´ˆê¸‰"}),(0,o.jsx)("option",{value:"intermediate",children:"ì¤‘ê¸‰"}),(0,o.jsx)("option",{value:"advanced",children:"ê³ ê¸‰"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ëŒ€ìƒ ì—°ë ¹"}),(0,o.jsxs)("select",{value:k,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,o.jsx)("option",{value:"elem1",children:"ì´ˆë“±í•™êµ 1í•™ë…„"}),(0,o.jsx)("option",{value:"elem2",children:"ì´ˆë“±í•™êµ 2í•™ë…„"}),(0,o.jsx)("option",{value:"elem3",children:"ì´ˆë“±í•™êµ 3í•™ë…„"}),(0,o.jsx)("option",{value:"elem4",children:"ì´ˆë“±í•™êµ 4í•™ë…„"}),(0,o.jsx)("option",{value:"elem5",children:"ì´ˆë“±í•™êµ 5í•™ë…„"}),(0,o.jsx)("option",{value:"elem6",children:"ì´ˆë“±í•™êµ 6í•™ë…„"}),(0,o.jsx)("option",{value:"middle1",children:"ì¤‘í•™êµ 1í•™ë…„"}),(0,o.jsx)("option",{value:"middle2",children:"ì¤‘í•™êµ 2í•™ë…„"}),(0,o.jsx)("option",{value:"middle3",children:"ì¤‘í•™êµ 3í•™ë…„"}),(0,o.jsx)("option",{value:"high1",children:"ê³ ë“±í•™êµ 1í•™ë…„"}),(0,o.jsx)("option",{value:"high2",children:"ê³ ë“±í•™êµ 2í•™ë…„"}),(0,o.jsx)("option",{value:"high3",children:"ê³ ë“±í•™êµ 3í•™ë…„"})]})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ê¸€ì˜ ê¸¸ì´"}),(0,o.jsxs)("select",{value:A,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,o.jsx)("option",{value:"400",children:"400ìž"}),(0,o.jsx)("option",{value:"800",children:"800ìž"}),(0,o.jsx)("option",{value:"1200",children:"1200ìž"})]})]})]}),(0,o.jsx)("div",{className:"flex-1 p-4 flex flex-col",children:I?(0,o.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,o.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"ìƒì„±ëœ ì½˜í…ì¸ "}),(0,o.jsx)("button",{onClick:()=>T(null),className:"text-gray-400 hover:text-gray-600",children:(0,o.jsx)("span",{className:"text-sm",children:"ìƒˆë¡œ ìƒì„±"})})]}),(0,o.jsxs)("div",{className:"flex-1 overflow-y-auto bg-gray-50 rounded-lg p-4 text-sm",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h5",{className:"font-semibold text-gray-900 mb-2",children:I?.title||"ì œëª© ì—†ìŒ"}),(0,o.jsx)("p",{className:"text-gray-600 text-xs mb-3",children:I?.description})]}),I?.mainContent&&(0,o.jsxs)("div",{className:"mb-4",children:[I.mainContent.introduction&&(0,o.jsx)("p",{className:"text-gray-700 mb-3",children:I.mainContent.introduction}),I.mainContent.keyPoints&&(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"ì£¼ìš” í¬ì¸íŠ¸:"}),(0,o.jsx)("ul",{className:"list-disc list-inside space-y-1",children:I.mainContent.keyPoints.map((e,s)=>(0,o.jsx)("li",{className:"text-gray-700",children:e},s))})]}),I.mainContent.examples&&(0,o.jsxs)("div",{className:"mb-3",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"ì˜ˆì‹œ:"}),(0,o.jsx)("div",{className:"space-y-2",children:I.mainContent.examples.map((e,s)=>(0,o.jsxs)("div",{className:"bg-white p-2 rounded border",children:[(0,o.jsx)("p",{className:"font-medium",children:e.korean}),e.english&&(0,o.jsx)("p",{className:"text-gray-600 text-xs",children:e.english}),e.explanation&&(0,o.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:e.explanation})]},s))})]})]}),I?.exercises&&I.exercises.length>0&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("h6",{className:"font-medium text-gray-800 mb-2",children:"ì—°ìŠµ ë¬¸ì œ:"}),(0,o.jsx)("div",{className:"space-y-2",children:I.exercises.map((e,s)=>(0,o.jsxs)("div",{className:"bg-white p-2 rounded border",children:[(0,o.jsx)("p",{className:"font-medium mb-1",children:e.question}),e.options&&(0,o.jsx)("div",{className:"text-xs space-y-1",children:e.options.map((s,t)=>(0,o.jsxs)("div",{className:`\n                                        ${t===e.correctAnswer?"text-green-600 font-medium":"text-gray-600"}\n                                      `,children:[t+1,". ",s]},t))}),e.explanation&&(0,o.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:e.explanation})]},s))})]})]}),(0,o.jsxs)("div",{className:"mt-3 flex space-x-2",children:[(0,o.jsx)("button",{onClick:()=>{if(!I)return;let e=50;const s=120;if(I.title){const t={id:re(),type:"text",x:50,y:e,width:500,height:60,text:I.title,fontSize:24,fontFamily:"Noto Sans KR",color:"#1f2937"};P(e=>[...e,t]),e+=s}if(I.description){const t={id:re(),type:"text",x:50,y:e,width:500,height:80,text:I.description,fontSize:14,fontFamily:"Noto Sans KR",color:"#6b7280"};P(e=>[...e,t]),e+=s}if(I.mainContent){const{introduction:t,keyPoints:a,examples:l}=I.mainContent;if(t){const a={id:re(),type:"text",x:50,y:e,width:500,height:100,text:t,fontSize:16,fontFamily:"Noto Sans KR",color:"#374151"};P(e=>[...e,a]),e+=s}if(a&&a.length>0){const t="ì£¼ìš” í¬ì¸íŠ¸:\n"+a.map((e,s)=>`${s+1}. ${e}`).join("\n"),l={id:re(),type:"text",x:50,y:e,width:500,height:Math.max(100,25*a.length+40),text:t,fontSize:14,fontFamily:"Noto Sans KR",color:"#374151"};P(e=>[...e,l]),e+=Math.max(s,25*a.length+60)}l&&l.length>0&&l.forEach((t,a)=>{const l=`ì˜ˆì‹œ ${a+1}:\n${t.korean}${t.english?`\n(${t.english})`:""}${t.explanation?`\nâ†’ ${t.explanation}`:""}`,r={id:re(),type:"text",x:50,y:e,width:500,height:100,text:l,fontSize:14,fontFamily:"Noto Sans KR",color:"#059669"};P(e=>[...e,r]),e+=s})}T(null),y(!1),x("select")},className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-green-700 transition-colors",children:"íŽ˜ì´ì§€ì— ì¶”ê°€"}),(0,o.jsx)("button",{onClick:()=>T(null),className:"flex-1 border border-gray-300 text-gray-700 py-2 px-3 rounded-lg text-sm hover:bg-gray-50 transition-colors",children:"ë‹¤ì‹œ ìƒì„±"})]}),(0,o.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,o.jsx)("button",{onClick:async()=>{if(I?.mainContent?.introduction){z(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=await e.generateContent({provider:u,contentType:"vocabulary",difficulty:w,targetAge:k,prompt:`ë‹¤ìŒ ì§€ë¬¸ì—ì„œ ${ce[k]}ì´ ëª¨ë¥¼ë§Œí•œ ì–´ë ¤ìš´ ì–´íœ˜ 3-5ê°œë¥¼ ì¶”ì¶œí•˜ê³  ë¶„ì„í•´ì£¼ì„¸ìš”:\n        \n        ${I.mainContent.introduction}\n        \n        ê° ì–´íœ˜ì— ëŒ€í•´:\n        1. í•œìžì–´ ê¸°ë°˜ìœ¼ë¡œ ì‰½ê²Œ í’€ì´\n        2. ìœ ì˜ì–´ì™€ ë°˜ì˜ì–´ ì œì‹œ\n        3. ë‚œì´ë„ë¥¼ ë³„í‘œ(â˜…) 1-5ê°œë¡œ í‘œì‹œ (5ê°œê°€ ê°€ìž¥ ì–´ë ¤ì›€)\n        4. ë°˜ë“œì‹œ ì–´ë ¤ìš´ ì–´íœ˜ë§Œ í¬í•¨`});q(s.content),R(!0)}catch(e){console.error("ì–´íœ˜ ìƒì„± ì‹¤íŒ¨:",e),alert(`ì–´íœ˜ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${e.message}`)}finally{z(!1)}}else alert("ë¨¼ì € ì§€ë¬¸ì„ ìƒì„±í•´ì£¼ì„¸ìš”.")},disabled:U,className:"w-full bg-orange-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:U?"ì–´íœ˜ ìƒì„± ì¤‘...":"ì–´íœ˜ íŽ˜ì´ì§€ ìƒì„±"}),(0,o.jsx)("button",{onClick:async()=>{if(I?.mainContent?.introduction){W(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=await e.generateContent({provider:u,contentType:"questions",difficulty:w,targetAge:k,prompt:`ë‹¤ìŒ ì§€ë¬¸ì„ ë°”íƒ•ìœ¼ë¡œ ${ce[k]} ìˆ˜ì¤€ì˜ ì„œìˆ í˜• ë¬¸ì œ 6ë¬¸ì œë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”:\n        \n        ${I.mainContent.introduction}\n        \n        ë¬¸ì œ ìœ í˜•:\n        - ë§¥ë½ ì¶”ë¡ í˜• 3ë¬¸ì œ\n        - ë‚´ìš© ì´í•´í˜• 3ë¬¸ì œ\n        \n        ê° ë¬¸ì œëŠ” í•´ë‹¹ í•™ë…„ ìˆ˜ì¤€ì— ë§žëŠ” ë‚œì´ë„ë¡œ ìž‘ì„±í•´ì£¼ì„¸ìš”.`});B(s.content),V(!0)}catch(e){console.error("ë¬¸ì œ ìƒì„± ì‹¤íŒ¨:",e),alert(`ë¬¸ì œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${e.message}`)}finally{W(!1)}}else alert("ë¨¼ì € ì§€ë¬¸ì„ ìƒì„±í•´ì£¼ì„¸ìš”.")},disabled:H,className:"w-full bg-teal-600 text-white py-2 px-3 rounded-lg text-sm hover:bg-teal-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:H?"ë¬¸ì œ ìƒì„± ì¤‘...":"ë¬¸ì œ íŽ˜ì´ì§€ ìƒì„±"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ìƒì„±í•  ë‚´ìš© ì„¤ëª…"}),(0,o.jsx)("textarea",{value:j,onChange:e=>f(e.target.value),placeholder:"ì˜ˆ: í•œêµ­ì–´ ì¸ì‚¬ë§ì— ëŒ€í•œ í•™ìŠµ ìžë£Œë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”. ì¡´ëŒ“ë§ê³¼ ë°˜ë§ì˜ ì°¨ì´ë¥¼ í¬í•¨í•´ì„œ...",className:"flex-1 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,o.jsx)("button",{onClick:async()=>{if(j.trim()){p(!0);try{const e=(await Promise.resolve().then(t.bind(t,607))).default,s=await e.generateContent({provider:u,contentType:N,difficulty:w,targetAge:k,contentLength:A,prompt:j});T(s.content),console.log("ìƒì„±ëœ ì½˜í…ì¸ :",s),f("")}catch(e){console.error("AI ìƒì„± ì‹¤íŒ¨:",e),alert(`AI ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${e.message}`)}finally{p(!1)}}},disabled:g||!j.trim(),className:`\n                        mt-4 w-full py-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-2\n                        ${g||!j.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"gemini"===u?"bg-blue-600 text-white hover:bg-blue-700":"bg-purple-600 text-white hover:bg-purple-700"}\n                      `,children:g?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),(0,o.jsx)("span",{children:"ìƒì„± ì¤‘..."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.sUz,{className:"w-4 h-4"}),(0,o.jsxs)("span",{children:["gemini"===u?"Geminië¡œ":"Claudeë¡œ"," ìƒì„±"]})]})})]})})]}):(0,o.jsxs)("div",{className:"h-full p-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ì†ì„±"}),(0,o.jsx)("div",{className:"text-gray-500 text-center py-8",children:"ë¸”ë¡ì„ ì„ íƒí•˜ë©´ ì†ì„±ì„ íŽ¸ì§‘í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."})]})})]}),(0,o.jsxs)("footer",{className:"bg-white border-t border-gray-300 px-4 py-2 flex items-center justify-between text-sm text-gray-600",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsxs)("span",{children:["ì„ íƒëœ ë„êµ¬: ",m]}),(0,o.jsxs)("span",{children:["ì¤Œ: ",s,"%"]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("span",{children:"A4 (210 Ã— 297mm)"}),(0,o.jsx)("span",{children:"ì›ë°”ì´íŠ¸ Print ëª¨ë“œ"})]})]})]})}var x=t(607);const u=Object.freeze({API_PROVIDERS:{OPENAI:"openai",CLAUDE:"claude",GEMINI:"gemini"},CONTENT_TYPES:{READING:"reading",VOCABULARY:"vocabulary",GRAMMAR:"grammar",QUESTIONS:"questions",ANSWERS:"answers"},DIFFICULTY_LEVELS:{BEGINNER:"beginner",INTERMEDIATE:"intermediate",ADVANCED:"advanced"},TEXT_LENGTH:{SHORT:400,MEDIUM:800,LONG:1200,MIN:200,MAX:2e3},PROBLEM_COUNT:{VOCABULARY:{MIN:5,DEFAULT:10,MAX:20},READING:{MIN:3,DEFAULT:5,MAX:10}},FILE_UPLOAD:{ACCEPTED_TYPES:[".txt",".docx",".pdf"],MAX_SIZE:5242880,MIME_TYPES:{TXT:"text/plain",DOCX:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",PDF:"application/pdf"}},ERROR_MESSAGES:{GENERIC:"ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",NETWORK:"ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.",API_KEY:"API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",FILE_TYPE:"ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ìž…ë‹ˆë‹¤.",FILE_SIZE:"íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤. (ìµœëŒ€ 5MB)",EMPTY_TEXT:"í…ìŠ¤íŠ¸ë¥¼ ìž…ë ¥í•´ì£¼ì„¸ìš”.",MIN_LENGTH:"ìµœì†Œ 200ìž ì´ìƒ ìž…ë ¥í•´ì£¼ì„¸ìš”.",MAX_LENGTH:"ìµœëŒ€ 2000ìžê¹Œì§€ ìž…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤."},SUCCESS_MESSAGES:{TEXT_GENERATED:"ì§€ë¬¸ì´ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",ANALYSIS_COMPLETE:"ë¶„ì„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.",PROBLEMS_GENERATED:"ë¬¸ì œê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",PDF_CREATED:"PDFê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."},LOADING_MESSAGES:{GENERATING_TEXT:"ì§€ë¬¸ì„ ìƒì„±í•˜ê³  ìžˆìŠµë‹ˆë‹¤...",ANALYZING:"ë¬¸í•´ë ¥ì„ ë¶„ì„í•˜ê³  ìžˆìŠµë‹ˆë‹¤...",GENERATING_PROBLEMS:"ë¬¸ì œë¥¼ ìƒì„±í•˜ê³  ìžˆìŠµë‹ˆë‹¤...",PROCESSING_FILE:"íŒŒì¼ì„ ì²˜ë¦¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤..."}}),h=Object.freeze([{id:"game",label:"ðŸŽ® ê²Œìž„ & ê¸°ìˆ ",keywords:["ê²Œìž„","ì¸ê³µì§€ëŠ¥","ë¡œë´‡","ë©”íƒ€ë²„ìŠ¤"]},{id:"sports",label:"âš½ ìŠ¤í¬ì¸ ",keywords:["ì¶•êµ¬","ì•¼êµ¬","ì˜¬ë¦¼í”½","ìŠ¤í¬ì¸  ì„ ìˆ˜"]},{id:"music",label:"ðŸŽµ ìŒì•… & ì—”í„°í…Œì¸ë¨¼íŠ¸",keywords:["K-pop","ì•„ì´ëŒ","ì˜í™”","ë“œë¼ë§ˆ"]},{id:"animal",label:"ðŸ¾ ë™ë¬¼ & ìžì—°",keywords:["ë™ë¬¼ì˜ ìƒíƒœ","í™˜ê²½ë³´í˜¸","ìžì—°í˜„ìƒ"]},{id:"science",label:"ðŸš€ ê³¼í•™ & ìš°ì£¼",keywords:["ìš°ì£¼íƒí—˜","ê³¼í•™ì‹¤í—˜","ë°œëª…í’ˆ","ë¯¸ëž˜ê¸°ìˆ "]},{id:"food",label:"ðŸ• ìŒì‹ & ìš”ë¦¬",keywords:["ì„¸ê³„ ìŒì‹","ìš”ë¦¬ë²•","ê±´ê°•í•œ ì‹ë‹¨"]},{id:"art",label:"ðŸŽ¨ ì˜ˆìˆ  & ì°½ìž‘",keywords:["ë¯¸ìˆ ","ë§Œí™”","ê³µì˜ˆ","ì°½ìž‘ í™œë™"]},{id:"daily",label:"ðŸ“± ì¼ìƒ & í•™êµìƒí™œ",keywords:["ì¹œêµ¬ ê´€ê³„","ê°€ì¡±","í•™êµ ì´ì•¼ê¸°","ì„±ìž¥"]},{id:"custom",label:"ðŸ“š ì‚¬ìš©ìž ì •ì˜",keywords:[]}]),g=[{value:"elem1",label:"ì´ˆë“±í•™êµ 1í•™ë…„",age:7},{value:"elem2",label:"ì´ˆë“±í•™êµ 2í•™ë…„",age:8},{value:"elem3",label:"ì´ˆë“±í•™êµ 3í•™ë…„",age:9},{value:"elem4",label:"ì´ˆë“±í•™êµ 4í•™ë…„",age:10},{value:"elem5",label:"ì´ˆë“±í•™êµ 5í•™ë…„",age:11},{value:"elem6",label:"ì´ˆë“±í•™êµ 6í•™ë…„",age:12},{value:"middle1",label:"ì¤‘í•™êµ 1í•™ë…„",age:13},{value:"middle2",label:"ì¤‘í•™êµ 2í•™ë…„",age:14},{value:"middle3",label:"ì¤‘í•™êµ 3í•™ë…„",age:15}],p=[{value:"400",label:"ê¸°ì´ˆ (400ìž)"},{value:"800",label:"í‘œì¤€ (800ìž)"},{value:"1200",label:"ì‹¬í™” (1200ìž)"},{value:"custom",label:"ì§ì ‘ ìž…ë ¥"}];t(755);var b=t(493);function y({title:e="ì˜¤ë¥˜",message:s,onClose:t,type:a="error"}){const l={error:{bg:"bg-red-50",border:"border-red-400",icon:"text-red-600",title:"text-red-800",message:"text-red-700"},warning:{bg:"bg-yellow-50",border:"border-yellow-400",icon:"text-yellow-600",title:"text-yellow-800",message:"text-yellow-700"},info:{bg:"bg-blue-50",border:"border-blue-400",icon:"text-blue-600",title:"text-blue-800",message:"text-blue-700"}}[a];return(0,o.jsx)("div",{className:`${l.bg} ${l.border} border rounded-lg p-4 mb-4`,children:(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)(i.RIJ,{className:`${l.icon} h-5 w-5 mt-0.5 flex-shrink-0`}),(0,o.jsxs)("div",{className:"ml-3 flex-1",children:[(0,o.jsx)("h3",{className:`text-sm font-medium ${l.title}`,children:e}),s&&(0,o.jsx)("p",{className:`mt-1 text-sm ${l.message}`,children:s})]}),t&&(0,o.jsx)("button",{onClick:t,className:`ml-3 -mr-1 -mt-1 ${l.icon} hover:opacity-70 transition-opacity`,children:(0,o.jsx)(i.X,{className:"h-5 w-5"})})]})})}function j({value:e=0,max:s=100,label:t,showValue:a=!0,color:l="blue",size:r="medium"}){const n=Math.min(100,Math.max(0,e/s*100)),i={small:"text-xs",medium:"text-sm",large:"text-base"};return(0,o.jsxs)("div",{className:"w-full",children:[(t||a)&&(0,o.jsxs)("div",{className:"flex justify-between mb-1",children:[t&&(0,o.jsx)("span",{className:`font-medium text-gray-700 ${i[r]}`,children:t}),a&&(0,o.jsx)("span",{className:`text-gray-600 ${i[r]}`,children:100===s?`${Math.round(n)}%`:`${e}/${s}`})]}),(0,o.jsx)("div",{className:"w-full bg-gray-200 rounded-full overflow-hidden",children:(0,o.jsx)("div",{className:`${{blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",red:"bg-red-600",purple:"bg-purple-600"}[l]} ${{small:"h-1",medium:"h-2",large:"h-3"}[r]} rounded-full transition-all duration-500 ease-out`,style:{width:`${n}%`},role:"progressbar","aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":s})})]})}const f=(0,a.memo)(function({analysisResult:e}){if(!e)return null;const s=[{label:"ì§€ë¬¸ ê¸¸ì´",score:e.textLength},{label:"ì–´íœ˜ ìˆ˜ì¤€",score:e.vocabularyLevel},{label:"ë¬¸ìž¥ êµ¬ì¡° ë³µìž¡ì„±",score:e.sentenceComplexity},{label:"ë‚´ìš© êµ¬ì„± ìˆ˜ì¤€",score:e.contentLevel},{label:"ë°°ê²½ì§€ì‹ ì˜ì¡´ë„",score:e.backgroundKnowledge}];return(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold",children:"ë¬¸í•´ë ¥ ë‚œì´ë„ ë¶„ì„ ê²°ê³¼"}),(0,o.jsx)("div",{className:"space-y-3",children:s.map((e,s)=>(0,o.jsx)(j,{label:e.label,value:e.score,max:10,color:"blue",size:"medium"},s))}),(0,o.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"font-semibold text-lg",children:"ì¢…í•© ë‚œì´ë„"}),(0,o.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:[e.totalScore,"/10"]})]})})]})}),N=(0,a.memo)(function({problem:e,index:s,type:t,onAnswerSelect:a}){return(0,o.jsxs)("div",{className:"mb-4 p-4 border rounded-lg hover:shadow-md transition-shadow",children:[(0,o.jsxs)("p",{className:"font-medium mb-3",children:[s+1,". ",e.question]}),(0,o.jsx)("div",{className:"space-y-2",children:e.options.map((s,l)=>(0,o.jsxs)("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded transition-colors",children:[(0,o.jsx)("input",{type:"radio",name:`${t}-${e.id}`,className:"mr-3 text-blue-600 focus:ring-blue-500",onChange:()=>{return s=l,void(a&&a(e.id,s));var s}}),(0,o.jsxs)("span",{className:"text-gray-700",children:[l+1,") ",s]})]},l))})]})});function v({value:e,onSave:s,onCancel:t,placeholder:l="í…ìŠ¤íŠ¸ë¥¼ ìž…ë ¥í•˜ì„¸ìš”...",type:r="text",options:n=[],className:c="",editClassName:d="",displayClassName:m="",disabled:x=!1,maxLength:u,rows:h=3,autoFocus:g=!0,validator:p,formatDisplay:b,renderDisplay:y,editable:j=!0,children:f}){const[N,v]=(0,a.useState)(!1),[w,C]=(0,a.useState)(e||""),[k,S]=(0,a.useState)(""),A=(0,a.useRef)(null),E=(0,a.useCallback)(()=>{!x&&j&&(v(!0),C(e||""),S(""))},[x,j,e]),I=(0,a.useCallback)(()=>{if(p){const e=p(w);if(e)return void S(e)}w!==e&&s?.(w),v(!1),S("")},[w,e,p,s]),T=(0,a.useCallback)(()=>{v(!1),C(e||""),S(""),t?.()},[e,t]),$=(0,a.useCallback)(e=>{"Enter"===e.key&&"textarea"!==r?(e.preventDefault(),I()):"Escape"===e.key&&(e.preventDefault(),T())},[r,I,T]);(0,a.useEffect)(()=>{N&&g&&A.current&&(A.current.focus(),"text"!==r&&"textarea"!==r||A.current.select())},[N,g,r]);const P=b?b(e):e;return N?(0,o.jsx)("div",{className:`inline-block w-full ${c}`,children:(0,o.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,o.jsxs)("div",{className:"flex-1",children:["textarea"===r?(0,o.jsx)("textarea",{ref:A,value:w,onChange:e=>C(e.target.value),onKeyDown:$,placeholder:l,maxLength:u,rows:h,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none ${d}`}):"select"===r?(0,o.jsx)("select",{ref:A,value:w,onChange:e=>C(e.target.value),onKeyDown:$,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${d}`,children:n.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,o.jsx)("input",{ref:A,type:"text",value:w,onChange:e=>C(e.target.value),onKeyDown:$,placeholder:l,maxLength:u,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${d}`}),k&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k}),u&&(0,o.jsxs)("p",{className:"mt-1 text-xs text-gray-500 text-right",children:[w.length,"/",u]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,o.jsx)("button",{onClick:I,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"ì €ìž¥",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:T,className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"ì·¨ì†Œ",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]})]})}):(0,o.jsx)("div",{className:`group inline-block w-full ${c}`,children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsx)("div",{className:`flex-1 ${m}`,children:y?y(P):f||(0,o.jsx)("span",{className:P?"":"text-gray-400 italic",children:P||l})}),j&&!x&&(0,o.jsx)("button",{onClick:E,className:"ml-2 p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded opacity-0 group-hover:opacity-100 transition-all",title:"íŽ¸ì§‘",children:(0,o.jsx)(i.W7n,{className:"w-4 h-4"})})]})})}const w=(0,a.memo)(function({text:e="",title:s="ì½ê¸° ì§€ë¬¸",showCharCount:t=!0,className:l="",editable:r=!1,onTextChange:n}){const i=(0,a.useMemo)(()=>e.length,[e]),c=(0,a.useMemo)(()=>e.split(/[.!?]/).filter(e=>e.trim()).length,[e]);return(0,o.jsxs)("div",{className:`mb-6 ${l}`,children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-3",children:s}),(0,o.jsx)("div",{className:"bg-gray-50 rounded-lg",children:r?(0,o.jsx)(v,{value:e,onSave:n,type:"textarea",rows:10,placeholder:"ì§€ë¬¸ì„ ìž…ë ¥í•˜ì„¸ìš”...",className:"w-full",editClassName:"text-lg leading-relaxed",displayClassName:"p-4",renderDisplay:e=>(0,o.jsx)("p",{className:"text-lg leading-relaxed whitespace-pre-wrap p-4",children:e})}):(0,o.jsx)("p",{className:"text-lg leading-relaxed whitespace-pre-wrap p-4",children:e})}),t&&(0,o.jsxs)("div",{className:"mt-2 flex items-center justify-between text-sm text-gray-600",children:[(0,o.jsxs)("span",{children:["ê¸€ìž ìˆ˜: ",i,"ìž"]}),(0,o.jsxs)("span",{children:["ë¬¸ìž¥ ìˆ˜: ",c,"ê°œ"]})]})]})});function C({text:e,gradeLevel:s,onVocabularyChange:t}){const[l,r]=(0,a.useState)([]),[n,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[g,p]=(0,a.useState)(null),[b,y]=(0,a.useState)({}),[j,f]=(0,a.useState)(null),N=(0,a.useCallback)(async()=>{if(e?.trim()){c(!0),f(null);try{const a=await x.default.extractVocabulary(e,s,5);if(!a.success||!a.content?.vocabularyList)throw new Error("ì–´íœ˜ ì¶”ì¶œ ì‘ë‹µì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");{const e=a.content.vocabularyList.map((e,s)=>({id:`extracted_${Date.now()}_${s}`,...e,isChecked:!1,isCustom:!1}));r(e),t?.(e)}}catch(e){console.error("ì–´íœ˜ ì¶”ì¶œ ì˜¤ë¥˜:",e),f("ì–´íœ˜ ì¶”ì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+e.message),r([{id:"sample_1",word:"ê´€ì°°",meaning:"ìžì„¸ížˆ ì‚´íŽ´ë³´ëŠ” ê²ƒ",etymology:"è§€(ë³¼ ê´€) + å¯Ÿ(ì‚´í•„ ì°°)",synonyms:["êµ¬ê²½","ì‚´í”¼ê¸°"],antonyms:["ë¬´ì‹œ","ì†Œí™€"],difficulty:"â˜…â˜…â˜…â˜†â˜†",example:"ê³¼í•™ìžëŠ” í˜„ë¯¸ê²½ìœ¼ë¡œ ì„¸í¬ë¥¼ ê´€ì°°í–ˆìŠµë‹ˆë‹¤.",gradeAppropriate:!0,isChecked:!1,isCustom:!1},{id:"sample_2",word:"ë°œì „",meaning:"ë” ë‚˜ì€ ìƒíƒœë¡œ ë‚˜ì•„ê°€ëŠ” ê²ƒ",etymology:"ç™¼(ë°œí•  ë°œ) + å±•(íŽ¼ ì „)",synonyms:["ì„±ìž¥","ì§„ë³´"],antonyms:["í‡´ë³´","í›„í‡´"],difficulty:"â˜…â˜…â˜†â˜†â˜†",example:"ê¸°ìˆ ì˜ ë°œì „ìœ¼ë¡œ ìš°ë¦¬ ìƒí™œì´ íŽ¸ë¦¬í•´ì¡ŒìŠµë‹ˆë‹¤.",gradeAppropriate:!0,isChecked:!1,isCustom:!1}])}finally{c(!1)}}else f("ë¶„ì„í•  ì§€ë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.")},[e,s,t]),v=(0,a.useCallback)(async()=>{if(u.trim()){m(!0),f(null);try{const e=`ë‹¤ìŒ ì–´íœ˜ì— ëŒ€í•œ ìƒì„¸ ì •ë³´ë¥¼ ì œê³µí•´ì£¼ì„¸ìš”: "${u}"`,a=await x.default.generateContent({contentType:"vocabulary_extraction",prompt:e,gradeLevel:s,count:1});let n;n=a.success&&a.content?.vocabularyList?.[0]?a.content.vocabularyList[0]:{word:u,meaning:`${u}ì˜ ì˜ë¯¸ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.`,etymology:"",synonyms:[],antonyms:[],difficulty:"â˜…â˜…â˜…â˜†â˜†",example:`${u}ì„(ë¥¼) ì‚¬ìš©í•œ ì˜ˆë¬¸ìž…ë‹ˆë‹¤.`,gradeAppropriate:!0};const i={id:`custom_${Date.now()}`,...n,isChecked:!0,isCustom:!0},o=[...l,i];r(o),t?.(o),h("")}catch(e){console.error("ì–´íœ˜ ìƒì„± ì˜¤ë¥˜:",e),f("ì–´íœ˜ ì •ë³´ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+e.message)}finally{m(!1)}}},[u,s,l,t]),w=(0,a.useCallback)(e=>{const s=l.map(s=>s.id===e?{...s,isChecked:!s.isChecked}:s);r(s),t?.(s)},[l,t]),C=(0,a.useCallback)(e=>{p(e.id),y({...e})},[]),k=(0,a.useCallback)(()=>{const e=l.map(e=>e.id===g?{...b}:e);r(e),t?.(e),p(null),y({})},[l,g,b,t]),S=(0,a.useCallback)(()=>{p(null),y({})},[]),A=(0,a.useCallback)(e=>{const s=l.filter(s=>s.id!==e);r(s),t?.(s)},[l,t]),E=l.filter(e=>e.isChecked).length;return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.Gyj,{className:"w-6 h-6 text-blue-600 mr-2"}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"í•µì‹¬ ì–´íœ˜ ë¶„ì„"}),E>0&&(0,o.jsxs)("span",{className:"ml-3 px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:[E,"ê°œ ì„ íƒë¨"]})]}),(0,o.jsx)("button",{onClick:N,disabled:n||!e?.trim(),className:"flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Hbd,{className:"w-4 h-4 mr-2 animate-spin"}),"ë¶„ì„ ì¤‘..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.sUz,{className:"w-4 h-4 mr-2"}),"ì–´íœ˜ ì¶”ì¶œ"]})})]}),j&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-sm text-red-700",children:j})}),(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"ì¶”ê°€í•  ì–´íœ˜ë¥¼ ìž…ë ¥í•˜ì„¸ìš”...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyPress:e=>"Enter"===e.key&&v()}),(0,o.jsx)("button",{onClick:v,disabled:!u.trim()||d,className:"flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Hbd,{className:"w-4 h-4 mr-2 animate-spin"}),"ìƒì„± ì¤‘..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.FWt,{className:"w-4 h-4 mr-2"}),"ì¶”ê°€"]})})]}),(0,o.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"ì–´íœ˜ë¥¼ ì¶”ê°€í•˜ë©´ AIê°€ ìžë™ìœ¼ë¡œ ì˜ë¯¸, ì˜ˆë¬¸, ìœ ì˜ì–´/ë°˜ì˜ì–´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤."})]}),(0,o.jsx)("div",{className:"space-y-4",children:0===l.length?(0,o.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,o.jsx)(i.Gyj,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,o.jsx)("p",{children:"ì–´íœ˜ ì¶”ì¶œ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í•µì‹¬ ì–´íœ˜ë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”."})]}):l.map(e=>(0,o.jsxs)("div",{className:"border rounded-lg p-4 transition-all "+(e.isChecked?"border-blue-300 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("button",{onClick:()=>w(e.id),className:"w-6 h-6 rounded-md border-2 flex items-center justify-center transition-colors "+(e.isChecked?"border-blue-500 bg-blue-500 text-white":"border-gray-300 hover:border-blue-300"),children:e.isChecked&&(0,o.jsx)(i.Jlk,{className:"w-4 h-4"})}),(0,o.jsxs)("div",{children:[g===e.id?(0,o.jsx)("input",{type:"text",value:b.word||"",onChange:e=>y({...b,word:e.target.value}),className:"text-lg font-semibold border border-gray-300 rounded px-2 py-1"}):(0,o.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.word}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,o.jsx)("span",{className:"text-sm text-yellow-600",children:e.difficulty}),e.isCustom&&(0,o.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"ì‚¬ìš©ìž ì¶”ê°€"}),e.gradeAppropriate&&(0,o.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"í•™ë…„ ì í•©"})]})]})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:g===e.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:k,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"ì €ìž¥",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:S,className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"ì·¨ì†Œ",children:(0,o.jsx)(i.Hbd,{className:"w-4 h-4"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>C(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"íŽ¸ì§‘",children:(0,o.jsx)(i.W7n,{className:"w-4 h-4"})}),e.isCustom&&(0,o.jsx)("button",{onClick:()=>A(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"ì‚­ì œ",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]})})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ì˜ë¯¸: "}),g===e.id?(0,o.jsx)("input",{type:"text",value:b.meaning||"",onChange:e=>y({...b,meaning:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded px-2 py-1"}):(0,o.jsx)("span",{className:"text-gray-900",children:e.meaning})]}),e.etymology&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"í•œìžì–´ í’€ì´: "}),g===e.id?(0,o.jsx)("input",{type:"text",value:b.etymology||"",onChange:e=>y({...b,etymology:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded px-2 py-1"}):(0,o.jsx)("span",{className:"text-blue-700 font-medium",children:e.etymology})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ì˜ˆë¬¸: "}),g===e.id?(0,o.jsx)("textarea",{value:b.example||"",onChange:e=>y({...b,example:e.target.value}),className:"w-full mt-1 border border-gray-300 rounded px-2 py-1",rows:"2"}):(0,o.jsxs)("span",{className:"text-gray-900 italic",children:['"',e.example,'"']})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.synonyms&&e.synonyms.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ìœ ì˜ì–´: "}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.synonyms.map((e,s)=>(0,o.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-sm rounded",children:e},s))})]}),e.antonyms&&e.antonyms.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ë°˜ì˜ì–´: "}),(0,o.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.antonyms.map((e,s)=>(0,o.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded",children:e},s))})]})]})]})]},e.id))}),E>0&&(0,o.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.Jlk,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,o.jsxs)("span",{className:"text-blue-800 font-medium",children:[E,"ê°œ ì–´íœ˜ê°€ í•™ìŠµ ëª©ë¡ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."]})]}),(0,o.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"ì„ íƒëœ ì–´íœ˜ë“¤ì€ PDF ìƒì„± ì‹œ ì–´íœ˜ íŽ˜ì´ì§€ì— í¬í•¨ë©ë‹ˆë‹¤."})]})]})}function k({text:e,gradeLevel:s,onProblemsChange:t}){const[l,r]=(0,a.useState)([]),[n,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),g=(0,a.useCallback)(async()=>{if(e?.trim()){c(!0),m(null);try{const s=await x.default.generateReadingProblems(e,"mixed",5);if(!s.success||!s.content?.problems)throw new Error("ë¬¸ì œ ìƒì„± ì‘ë‹µì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");{const e=s.content.problems.map((e,s)=>({id:`generated_${Date.now()}_${s}`,...e,isCustom:!1}));r(e),t?.(e)}}catch(e){console.error("ë¬¸ì œ ìƒì„± ì˜¤ë¥˜:",e),m("ë¬¸ì œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: "+e.message),r([{id:"sample_1",type:"multiple_choice",question:"ì´ ê¸€ì˜ ì£¼ì œë¡œ ê°€ìž¥ ì ì ˆí•œ ê²ƒì€?",options:["í™˜ê²½ ë³´í˜¸ì˜ ì¤‘ìš”ì„±","ê¸°ìˆ  ë°œì „ì˜ ë¬¸ì œì ","êµìœ¡ì˜ í•„ìš”ì„±","ê±´ê°•í•œ ìƒí™œ ìŠµê´€"],correctAnswer:0,explanation:"ê¸€ ì „ì²´ì—ì„œ í™˜ê²½ì„ ë³´í˜¸í•´ì•¼ í•œë‹¤ëŠ” ë‚´ìš©ì´ ë°˜ë³µì ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ë¯€ë¡œ ì£¼ì œëŠ” 'í™˜ê²½ ë³´í˜¸ì˜ ì¤‘ìš”ì„±'ìž…ë‹ˆë‹¤.",isCustom:!1},{id:"sample_2",type:"multiple_choice",question:"ê¸€ì—ì„œ 'ê´€ì°°'ì˜ ì˜ë¯¸ë¡œ ê°€ìž¥ ì ì ˆí•œ ê²ƒì€?",options:["ëŒ€ì¶© ë³´ê¸°","ìžì„¸ížˆ ì‚´íŽ´ë³´ê¸°","ë¹¨ë¦¬ í›‘ì–´ë³´ê¸°","ë©€ë¦¬ì„œ ë³´ê¸°"],correctAnswer:1,explanation:"'ê´€ì°°'ì€ ì–´ë–¤ ëŒ€ìƒì„ ìžì„¸ížˆ ì‚´íŽ´ë³´ê³  ì—°êµ¬í•˜ëŠ” í–‰ìœ„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.",isCustom:!1},{id:"sample_3",type:"short_answer",question:"í™˜ê²½ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ ìš°ë¦¬ê°€ í•  ìˆ˜ ìžˆëŠ” ì¼ì„ ë‘ ê°€ì§€ ì“°ì‹œì˜¤.",expectedLength:"1-2ë¬¸ìž¥",sampleAnswer:"ì“°ë ˆê¸° ë¶„ë¦¬ìˆ˜ê±°ë¥¼ í•˜ê³ , ì¼íšŒìš©í’ˆ ì‚¬ìš©ì„ ì¤„ì¸ë‹¤.",gradingCriteria:["í™˜ê²½ ë³´í˜¸ì™€ ê´€ë ¨ëœ êµ¬ì²´ì ì¸ í–‰ë™ ì œì‹œ","ë‘ ê°€ì§€ ì´ìƒì˜ ë°©ë²• ì–¸ê¸‰"],explanation:"í™˜ê²½ ë³´í˜¸ë¥¼ ìœ„í•œ ì‹¤ì²œ ë°©ì•ˆìœ¼ë¡œëŠ” ìž¬í™œìš©, ì—ë„ˆì§€ ì ˆì•½, ëŒ€ì¤‘êµí†µ ì´ìš© ë“±ì´ ìžˆìŠµë‹ˆë‹¤.",isCustom:!1}])}finally{c(!1)}}else m("ë¶„ì„í•  ì§€ë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.")},[e,s,t]),p=(0,a.useCallback)(e=>{h({...e})},[]),b=(0,a.useCallback)(()=>{const e=l.map(e=>e.id===u.id?{...u}:e);r(e),t?.(e),h(null)},[l,u,t]),y=(0,a.useCallback)(()=>{h(null)},[]),j=(0,a.useCallback)(()=>{const e={id:`custom_${Date.now()}`,type:"multiple_choice",question:"ìƒˆ ë¬¸ì œë¥¼ ìž…ë ¥í•˜ì„¸ìš”.",options:["ì„ íƒì§€ 1","ì„ íƒì§€ 2","ì„ íƒì§€ 3","ì„ íƒì§€ 4"],correctAnswer:0,explanation:"ì •ë‹µ í•´ì„¤ì„ ìž…ë ¥í•˜ì„¸ìš”.",isCustom:!0},s=[...l,e];r(s),t?.(s),h({...e})},[l,t]),f=(0,a.useCallback)(e=>{const s=l.filter(s=>s.id!==e);r(s),t?.(s)},[l,t]),N=(0,a.useCallback)(e=>{h("short_answer"===e?{...u,type:e,expectedLength:"1-2ë¬¸ìž¥",sampleAnswer:"",gradingCriteria:[],options:void 0,correctAnswer:void 0}:{...u,type:e,options:["ì„ íƒì§€ 1","ì„ íƒì§€ 2","ì„ íƒì§€ 3","ì„ íƒì§€ 4"],correctAnswer:0,expectedLength:void 0,sampleAnswer:void 0,gradingCriteria:void 0})},[u]);return(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.$4L,{className:"w-6 h-6 text-purple-600 mr-2"}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"ë¬¸í•´ë ¥ í›ˆë ¨ ë¬¸ì œ"}),l.length>0&&(0,o.jsxs)("span",{className:"ml-3 px-3 py-1 bg-purple-100 text-purple-700 text-sm font-medium rounded-full",children:[l.length,"ê°œ ë¬¸ì œ"]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsxs)("button",{onClick:j,className:"flex items-center px-4 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:[(0,o.jsx)(i.FWt,{className:"w-4 h-4 mr-2"}),"ë¬¸ì œ ì¶”ê°€"]}),(0,o.jsx)("button",{onClick:g,disabled:n||!e?.trim(),className:"flex items-center px-4 py-2 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.e9t,{className:"w-4 h-4 mr-2 animate-spin"}),"ìƒì„± ì¤‘..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.$4L,{className:"w-4 h-4 mr-2"}),"ë¬¸ì œ ìƒì„±"]})})]})]}),d&&(0,o.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,o.jsx)("p",{className:"text-sm text-red-700",children:d})}),(0,o.jsx)("div",{className:"space-y-6",children:0===l.length?(0,o.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,o.jsx)(i.$4L,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,o.jsx)("p",{children:"ë¬¸ì œ ìƒì„± ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë¬¸í•´ë ¥ í›ˆë ¨ ë¬¸ì œë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”."}),(0,o.jsx)("p",{className:"text-sm mt-2",children:"ê°ê´€ì‹ 3-4ê°œ, ì„œìˆ í˜• 1-2ê°œê°€ ìƒì„±ë©ë‹ˆë‹¤."})]}):l.map((e,s)=>(0,o.jsxs)("div",{className:"border rounded-lg p-6 bg-white hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("span",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 text-purple-700 font-semibold rounded-full",children:s+1}),(0,o.jsx)("div",{children:(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"px-3 py-1 text-sm font-medium rounded-full "+("multiple_choice"===e.type?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"),children:"multiple_choice"===e.type?"ê°ê´€ì‹":"ì„œìˆ í˜•"}),e.isCustom&&(0,o.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded",children:"ì‚¬ìš©ìž ì¶”ê°€"})]})})]}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:u?.id===e.id?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:b,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"ì €ìž¥",children:(0,o.jsx)(i.eMP,{className:"w-4 h-4"})}),(0,o.jsx)("button",{onClick:y,className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"ì·¨ì†Œ",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>p(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"íŽ¸ì§‘",children:(0,o.jsx)(i.W7n,{className:"w-4 h-4"})}),e.isCustom&&(0,o.jsx)("button",{onClick:()=>f(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"ì‚­ì œ",children:(0,o.jsx)(i.X,{className:"w-4 h-4"})})]})})]}),u?.id===e.id?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ë¬¸ì œ íƒ€ìž…"}),(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"problemType",value:"multiple_choice",checked:"multiple_choice"===u.type,onChange:e=>N(e.target.value),className:"mr-2"}),"ê°ê´€ì‹"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",name:"problemType",value:"short_answer",checked:"short_answer"===u.type,onChange:e=>N(e.target.value),className:"mr-2"}),"ì„œìˆ í˜•"]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ë¬¸ì œ"}),(0,o.jsx)("textarea",{value:u.question,onChange:e=>h({...u,question:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2"})]}),"multiple_choice"===u.type&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì„ íƒì§€"}),(0,o.jsx)("div",{className:"space-y-2",children:u.options?.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("input",{type:"radio",name:"correctAnswer",checked:u.correctAnswer===s,onChange:()=>h({...u,correctAnswer:s}),className:"text-purple-600"}),(0,o.jsxs)("span",{className:"w-6 text-sm text-gray-600",children:[s+1,"."]}),(0,o.jsx)("input",{type:"text",value:e,onChange:e=>{const t=[...u.options];t[s]=e.target.value,h({...u,options:t})},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]},s))})]}),"short_answer"===u.type&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì˜ˆìƒ ë‹µì•ˆ ê¸¸ì´"}),(0,o.jsx)("input",{type:"text",value:u.expectedLength||"1-2ë¬¸ìž¥",onChange:e=>h({...u,expectedLength:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì˜ˆì‹œ ë‹µì•ˆ"}),(0,o.jsx)("textarea",{value:u.sampleAnswer||"",onChange:e=>h({...u,sampleAnswer:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì±„ì  ê¸°ì¤€ (ì‰¼í‘œë¡œ êµ¬ë¶„)"}),(0,o.jsx)("textarea",{value:u.gradingCriteria?.join(", ")||"",onChange:e=>h({...u,gradingCriteria:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì •ë‹µ í•´ì„¤"}),(0,o.jsx)("textarea",{value:u.explanation,onChange:e=>h({...u,explanation:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"3"})]})]}):(0,o.jsx)("div",{className:"space-y-4",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-3",children:e.question}),"multiple_choice"===e.type&&(0,o.jsx)("div",{className:"space-y-2 mb-4",children:e.options?.map((s,t)=>(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm font-medium "+(e.correctAnswer===t?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:t+1}),(0,o.jsx)("span",{className:e.correctAnswer===t?"font-medium text-green-700":"",children:s}),e.correctAnswer===t&&(0,o.jsx)(i.Jlk,{className:"w-4 h-4 text-green-600"})]},t))}),"short_answer"===e.type&&(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ì˜ˆìƒ ë‹µì•ˆ ê¸¸ì´:"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:e.expectedLength})]}),e.sampleAnswer&&(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ì˜ˆì‹œ ë‹µì•ˆ:"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 italic",children:['"',e.sampleAnswer,'"']})]})]}),e.gradingCriteria&&e.gradingCriteria.length>0&&(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ì±„ì  ê¸°ì¤€:"}),(0,o.jsx)("ul",{className:"text-sm text-gray-600 list-disc list-inside mt-1",children:e.gradingCriteria.map((e,s)=>(0,o.jsx)("li",{children:e},s))})]})]}),(0,o.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,o.jsxs)("div",{className:"flex items-start",children:[(0,o.jsx)("span",{className:"text-sm font-medium text-blue-700 mr-2",children:"í•´ì„¤:"}),(0,o.jsx)("p",{className:"text-sm text-blue-800",children:e.explanation})]})})]})})]},e.id))}),l.length>0&&(0,o.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.$4L,{className:"w-5 h-5 text-purple-600 mr-2"}),(0,o.jsxs)("span",{className:"text-purple-800 font-medium",children:["ì´ ",l.length,"ê°œ ë¬¸ì œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."]})]}),(0,o.jsxs)("p",{className:"text-sm text-purple-700 mt-1",children:["ê°ê´€ì‹: ",l.filter(e=>"multiple_choice"===e.type).length,"ê°œ, ì„œìˆ í˜•: ",l.filter(e=>"short_answer"===e.type).length,"ê°œ"]})]})]})}function S(){const[e,s]=(0,a.useState)("generate"),[t,l]=(0,a.useState)(1),[r,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[j,v]=(0,a.useState)("elem4"),[S,A]=(0,a.useState)("800"),[E,I]=(0,a.useState)(""),[T,$]=(0,a.useState)("claude"),P=(0,b.In)(),[L,_]=(0,a.useState)(""),[O,R]=(0,a.useState)(""),[D,q]=(0,a.useState)(null),{analysisResult:M,analyzing:F,analyzeText:U}=function(){const[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!1),r=(0,a.useCallback)(e=>{const s=e.length,t=s/(e.split(/[.!?]/).filter(e=>e.trim()).length||1),a=s/(e.split(/\s+/).filter(e=>e.length>0).length||1);return{textLength:Math.min(10,Math.round(s/200)),vocabularyLevel:Math.min(10,Math.round(2*a)),sentenceComplexity:Math.min(10,Math.round(t/10)),contentLevel:Math.min(10,7),backgroundKnowledge:Math.min(10,5),totalScore:Math.round((s/200+2*a+t/10+7+5)/5)}},[]);return{analysisResult:e,analyzing:t,analyzeText:(0,a.useCallback)(async(e,t)=>{l(!0);try{const a=await x.default.analyzeReadingLevel(e,t);if(a.success)return s(a.content),a.content;{const t=r(e);return s(t),t}}catch(t){console.error("ë¶„ì„ ì˜¤ë¥˜:",t);const a=r(e);return s(a),a}finally{l(!1)}},[r]),resetAnalysis:(0,a.useCallback)(()=>{s(null),l(!1)},[])}}(),[z,G]=(0,a.useState)([]),[V,J]=(0,a.useState)([]),[B,K]=(0,a.useState)([]),[X]=(0,a.useState)({vocabulary:10,reading:5}),[H,W]=(0,a.useState)([]),[Y,Z]=(0,a.useState)("paste"),[Q,ee]=(0,a.useState)(null),[se,te]=(0,a.useState)(""),[ae,le]=(0,a.useState)(!1),{execute:re,loading:ne}=function(e){const[s,t]=(0,a.useState)(null),[l,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),o=(0,a.useRef)(null);return{data:s,loading:l,error:n,execute:(0,a.useCallback)(async(...s)=>{o.current&&o.current.abort(),o.current=new AbortController,r(!0),i(null);try{const a=await e(...s,{signal:o.current.signal});return t(a),a}catch(e){if("AbortError"===e.name)return;const s=e.response?.data?.message||e.message||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤";throw i(s),e}finally{r(!1),o.current=null}},[e]),reset:(0,a.useCallback)(()=>{t(null),i(null),r(!1)},[])}}((0,a.useCallback)(e=>x.default.generateContent(e),[])),{executeAll:ie,loading:oe}=function(){const[e,s]=(0,a.useState)(!1),[t,l]=(0,a.useState)([]);return{loading:e,errors:t,executeAll:(0,a.useCallback)(async e=>{s(!0),l([]);try{const s=await Promise.allSettled(e),t=[],a=[];return s.forEach((e,s)=>{"fulfilled"===e.status?t.push(e.value):a.push({index:s,error:e.reason?.message||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"})}),a.length>0&&l(a),{success:t,failed:a,hasErrors:a.length>0}}finally{s(!1)}},[])}}(),ce=(0,a.useCallback)(async()=>{q(null),_("");try{const e="custom"===r?d:r,s="custom"===S?E:S,t=g.find(e=>e.value===j),a=t?t.age:10,n=await re({provider:T,contentType:"reading",prompt:e,targetAge:a,difficulty:"intermediate",contentLength:parseInt(s)});_("string"==typeof n.content?n.content:n.content.mainContent?.introduction||n.content),l(2)}catch(e){console.error("ì§€ë¬¸ ìƒì„± ì˜¤ë¥˜:",e),q(e.message||"ì§€ë¬¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")}},[r,d,j,S,E,re]),de=(0,a.useCallback)(async()=>{const s="generate"===e?L:O;await U(s,j)},[e,L,O,j,U]),me=(0,a.useCallback)(e=>{W(e)},[]),xe=(0,a.useCallback)(e=>{K(e)},[]),ue=(0,a.useCallback)(s=>{"generate"===e?_(s):R(s)},[e]),he=(0,a.useCallback)(async e=>{const s=e.target.files[0];if(!s)return;const t=(e=>{if(!e)return{isValid:!1,error:"íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”."};if(e.size>u.FILE_UPLOAD.MAX_SIZE)return{isValid:!1,error:u.ERROR_MESSAGES.FILE_SIZE};const s="."+e.name.split(".").pop().toLowerCase();return u.FILE_UPLOAD.ACCEPTED_TYPES.includes(s)?{isValid:!0,fileType:s,fileName:e.name,fileSize:e.size}:{isValid:!1,error:`${u.ERROR_MESSAGES.FILE_TYPE} ì§€ì› í˜•ì‹: ${u.FILE_UPLOAD.ACCEPTED_TYPES.join(", ")}`}})(s);if(t.isValid){if(ee(s),q(null),"text/plain"===s.type){const e=new FileReader;e.onload=e=>{R(e.target.result)},e.readAsText(s)}}else q(t.error)},[]),ge=(0,a.useCallback)(async()=>{q(null);try{const s="generate"===e?L:O,t=await ie([x.default.generateReadingProblems(s,"vocabulary",X.vocabulary),x.default.generateReadingProblems(s,"comprehension",X.reading)]);t.success.length>0&&t.success.forEach((e,s)=>{e.success&&(0===s?G(e.content.problems):J(e.content.problems))}),t.hasErrors&&(z.length||G([{id:1,word:"ì˜ˆì‹œë‹¨ì–´",question:'"ì˜ˆì‹œë‹¨ì–´"ì˜ ì˜ë¯¸ë¡œ ê°€ìž¥ ì ì ˆí•œ ê²ƒì€?',options:["ì˜ë¯¸1","ì˜ë¯¸2","ì˜ë¯¸3","ì˜ë¯¸4"],answer:0}]),V.length||J([{id:1,question:"ì´ ê¸€ì˜ ì¤‘ì‹¬ ë‚´ìš©ì€ ë¬´ì—‡ìž…ë‹ˆê¹Œ?",options:["ì„ íƒì§€1","ì„ íƒì§€2","ì„ íƒì§€3","ì„ íƒì§€4"],answer:0}])),l(3)}catch(e){console.error("ë¬¸ì œ ìƒì„± ì˜¤ë¥˜:",e),q("ë¬¸ì œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤")}},[e,L,O,X,ie,z,V]),pe=(0,a.useCallback)(async()=>{try{const s="generate"===e?L:O,t=g.find(e=>e.value===j)?.label||j,a=await fetch(`${n.$W.apiUrl}/api/pdf/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"ì›ë°”ì´íŠ¸ PRO ë¬¸í•´ë ¥ í›ˆë ¨",grade:t,text:s,analysisResult:M,selectedVocabulary:H.filter(e=>e.isChecked||e.selected),generatedProblems:B,vocabularyProblems:z,readingProblems:V})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();if(!l.success)throw new Error(l.error||"PDF ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤");{const e=window.open("","_blank","width=900,height=1200,scrollbars=yes");e.document.write(l.htmlContent),e.document.close(),setTimeout(()=>{e.focus()},500)}}catch(e){console.error("PDF ìƒì„± ì˜¤ë¥˜:",e),q(`PDF ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${e.message}`)}},[e,L,O,j,M,H,B,z,V]);return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsx)("div",{className:"flex justify-between items-center py-4",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.Gyj,{className:"h-8 w-8 text-blue-600"}),(0,o.jsx)("h1",{className:"ml-3 text-2xl font-bold text-gray-900",children:"ì›ë°”ì´íŠ¸ PRO"}),(0,o.jsx)("span",{className:"ml-3 px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:"ë¬¸í•´ë ¥ í›ˆë ¨"})]})})})}),(0,o.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[D&&(0,o.jsx)(y,{type:"error",title:"ì˜¤ë¥˜",message:D,onClose:()=>q(null)}),(0,o.jsx)("div",{className:"mb-8",children:(0,o.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,o.jsxs)("div",{className:"flex items-center "+(t>=1?"text-blue-600":"text-gray-400"),children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t>=1?"bg-blue-600 text-white":"bg-gray-200"),children:"1"}),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"ì§€ë¬¸ ì¤€ë¹„"})]}),(0,o.jsx)(i.Qpb,{className:"w-5 h-5 text-gray-400"}),(0,o.jsxs)("div",{className:"flex items-center "+(t>=2?"text-blue-600":"text-gray-400"),children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t>=2?"bg-blue-600 text-white":"bg-gray-200"),children:"2"}),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"ì§€ë¬¸ ë¶„ì„"})]}),(0,o.jsx)(i.Qpb,{className:"w-5 h-5 text-gray-400"}),(0,o.jsxs)("div",{className:"flex items-center "+(t>=3?"text-blue-600":"text-gray-400"),children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t>=3?"bg-blue-600 text-white":"bg-gray-200"),children:"3"}),(0,o.jsx)("span",{className:"ml-2 font-medium",children:"ë¬¸ì œ í’€ì´"})]})]})}),1===t&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"ì§€ë¬¸ ì¤€ë¹„í•˜ê¸°"}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,o.jsxs)("button",{onClick:()=>s("generate"),className:"p-6 border-2 rounded-lg transition-all "+("generate"===e?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i.sUz,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,o.jsx)("h3",{className:"font-semibold mb-1",children:"AI ì§€ë¬¸ ìƒì„±"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"ê´€ì‹¬ ì£¼ì œë¡œ AIê°€ ì§€ë¬¸ ìƒì„±"})]}),(0,o.jsxs)("button",{onClick:()=>s("input"),className:"p-6 border-2 rounded-lg transition-all "+("input"===e?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i._OO,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),(0,o.jsx)("h3",{className:"font-semibold mb-1",children:"ì§ì ‘ ìž…ë ¥"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"ì¤€ë¹„ëœ ì§€ë¬¸ì„ ì§ì ‘ ìž…ë ¥"})]})]}),"generate"===e&&(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì£¼ì œ ì„ íƒ"}),(0,o.jsx)("div",{className:"grid grid-cols-3 gap-3",children:h.map(e=>(0,o.jsx)("button",{onClick:()=>c(e.id),className:"p-3 border rounded-lg text-sm transition-all "+(r===e.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:e.label},e.id))}),"custom"===r&&(0,o.jsx)("input",{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"ê´€ì‹¬ ì£¼ì œë¥¼ ìž…ë ¥í•˜ì„¸ìš”",className:"mt-3 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"í•™ë…„ ì„ íƒ"}),(0,o.jsx)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:g.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))})]}),P.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"AI ëª¨ë¸ ì„ íƒ"}),(0,o.jsx)("select",{value:T,onChange:e=>$(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:P.map(e=>(0,o.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì§€ë¬¸ ê¸¸ì´"}),(0,o.jsx)("div",{className:"grid grid-cols-4 gap-3",children:p.map(e=>(0,o.jsx)("button",{onClick:()=>A(e.value),className:"p-2 border rounded-lg text-sm transition-all "+(S===e.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:e.label},e.value))}),"custom"===S&&(0,o.jsx)("input",{type:"number",value:E,onChange:e=>I(e.target.value),placeholder:"ê¸€ìž ìˆ˜ ìž…ë ¥ (200-2000)",min:"200",max:"2000",className:"mt-3 w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),0===P.length&&(0,o.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,o.jsx)("p",{className:"text-sm text-yellow-800 mb-2",children:(0,o.jsx)("strong",{children:"AI API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."})}),(0,o.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:"AI ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒ ì¤‘ í•˜ë‚˜ì˜ API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤:"}),(0,o.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[(0,o.jsxs)("li",{children:["â€¢ OpenAI API í‚¤: ",(0,o.jsx)("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://platform.openai.com/api-keys"})]}),(0,o.jsxs)("li",{children:["â€¢ Anthropic Claude API í‚¤: ",(0,o.jsx)("a",{href:"https://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://console.anthropic.com/"})]})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Vercel í™˜ê²½ ë³€ìˆ˜ì— VITE_OPENAI_API_KEY ë˜ëŠ” VITE_ANTHROPIC_API_KEYë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”."})]}),(0,o.jsx)("button",{onClick:ce,disabled:!r||ne||0===P.length,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:ne?(0,o.jsxs)("span",{className:"flex items-center justify-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"ì§€ë¬¸ ìƒì„± ì¤‘..."]}):"ì§€ë¬¸ ìƒì„±í•˜ê¸°"})]}),"input"===e&&(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ìž…ë ¥ ë°©ì‹ ì„ íƒ"}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,o.jsxs)("button",{onClick:()=>Z("paste"),className:"p-3 border rounded-lg text-sm transition-all "+("paste"===Y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i.iUU,{className:"w-5 h-5 mx-auto mb-1"}),"í…ìŠ¤íŠ¸ ë¶™ì—¬ë„£ê¸°"]}),(0,o.jsxs)("button",{onClick:()=>Z("file"),className:"p-3 border rounded-lg text-sm transition-all "+("file"===Y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i._OO,{className:"w-5 h-5 mx-auto mb-1"}),"íŒŒì¼ ì—…ë¡œë“œ"]}),(0,o.jsxs)("button",{onClick:()=>Z("url"),className:"p-3 border rounded-lg text-sm transition-all "+("url"===Y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:[(0,o.jsx)(i.qzq,{className:"w-5 h-5 mx-auto mb-1"}),"URL ìž…ë ¥"]})]})]}),"paste"===Y&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì§€ë¬¸ ìž…ë ¥"}),(0,o.jsx)("textarea",{value:O,onChange:e=>R(e.target.value),placeholder:"í•™ìŠµí•  ì§€ë¬¸ì„ ìž…ë ¥í•˜ê±°ë‚˜ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”...",className:"w-full h-64 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none"}),(0,o.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["ê¸€ìž ìˆ˜: ",O.length,"ìž"]})]}),"file"===Y&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"íŒŒì¼ ì„ íƒ"}),(0,o.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg",children:(0,o.jsxs)("div",{className:"space-y-1 text-center",children:[(0,o.jsx)(i._OO,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,o.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,o.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,o.jsx)("span",{children:"íŒŒì¼ ì„ íƒ"}),(0,o.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".txt,.docx,.pdf",onChange:he})]}),(0,o.jsx)("p",{className:"pl-1",children:"ë˜ëŠ” ë“œëž˜ê·¸ ì•¤ ë“œë¡­"})]}),(0,o.jsx)("p",{className:"text-xs text-gray-500",children:"TXT, DOCX, PDF íŒŒì¼ ì§€ì›"})]})}),Q&&(0,o.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,o.jsxs)("p",{className:"text-sm font-medium",children:["ì„ íƒëœ íŒŒì¼: ",Q.name]}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:["í¬ê¸°: ",(Q.size/1024).toFixed(1)," KB"]})]})]}),"url"===Y&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ì›¹ ë¬¸ì„œ URL"}),(0,o.jsx)("input",{type:"url",value:se,onChange:e=>te(e.target.value),placeholder:"https://example.com/article",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,o.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"ì›¹ íŽ˜ì´ì§€ì˜ í…ìŠ¤íŠ¸ë¥¼ ìžë™ìœ¼ë¡œ ì¶”ì¶œí•©ë‹ˆë‹¤"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ëŒ€ìƒ í•™ë…„"}),(0,o.jsx)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:g.map(e=>(0,o.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,o.jsx)("button",{onClick:async()=>{le(!0);try{let e=O;if("file"===Y&&Q){if("text/plain"!==Q.type)return void alert("âš ï¸ í˜„ìž¬ëŠ” í…ìŠ¤íŠ¸ íŒŒì¼(.txt)ë§Œ ì§€ì›ë©ë‹ˆë‹¤.\n\nì§€ì› ì˜ˆì •: DOCX, PDF íŒŒì¼")}else if("url"===Y)return void alert("ðŸš§ URL ìž…ë ¥ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ìž…ë‹ˆë‹¤.\n\nê³§ ì›¹ íŽ˜ì´ì§€ì—ì„œ í…ìŠ¤íŠ¸ë¥¼ ìžë™ìœ¼ë¡œ ì¶”ì¶œí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.");e.trim()&&l(2)}catch(e){console.error("ìž…ë ¥ ì²˜ë¦¬ ì˜¤ë¥˜:",e),alert(`âš ï¸ ìž…ë ¥ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\nì˜¤ë¥˜ ë‚´ìš©: ${e.message}\n\në‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`)}finally{le(!1)}},disabled:"paste"===Y&&!O.trim()||"file"===Y&&!Q||"url"===Y&&!se.trim(),className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:ae?(0,o.jsxs)("span",{className:"flex items-center justify-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"ì²˜ë¦¬ ì¤‘..."]}):"ì§€ë¬¸ ë¶„ì„í•˜ê¸°"})]})]}),2===t&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"ì§€ë¬¸ ë¶„ì„"}),(0,o.jsx)(w,{text:"generate"===e?L:O,title:"ì½ê¸° ì§€ë¬¸",showCharCount:!0,editable:!0,onTextChange:ue}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("button",{onClick:de,disabled:F,className:"mb-4 px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:F?(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"ë¶„ì„ ì¤‘..."]}):"ë¬¸í•´ë ¥ ë‚œì´ë„ ë¶„ì„"}),M&&(0,o.jsx)(f,{analysisResult:M})]}),(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(C,{text:"generate"===e?L:O,gradeLevel:j,onVocabularyChange:me})}),(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsx)(k,{text:"generate"===e?L:O,gradeLevel:j,onProblemsChange:xe})}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("button",{onClick:()=>l(1),className:"px-6 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"ì´ì „ ë‹¨ê³„"}),(0,o.jsx)("button",{onClick:ge,disabled:oe,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:oe?(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)(i.e9t,{className:"animate-spin mr-2"}),"ë¬¸ì œ ìƒì„± ì¤‘..."]}):"ë¬¸ì œ ìƒì„±í•˜ê¸°"})]})]}),3===t&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"ë¬¸í•´ë ¥ í›ˆë ¨ ë¬¸ì œ"}),(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"ì–´íœ˜ ì´í•´ ë¬¸ì œ"}),z.map((e,s)=>(0,o.jsx)(N,{problem:e,index:s,type:"vocab"},e.id))]}),(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"ë…í•´ ì´í•´ ë¬¸ì œ"}),V.map((e,s)=>(0,o.jsx)(N,{problem:e,index:s,type:"reading"},e.id))]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("button",{onClick:()=>l(2),className:"px-6 py-2 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"ì´ì „ ë‹¨ê³„"}),(0,o.jsxs)("button",{onClick:pe,className:"flex items-center px-6 py-2 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:[(0,o.jsx)(i.f5X,{className:"mr-2"}),"PDFë¡œ ë‹¤ìš´ë¡œë“œ"]})]})]})]})]})}function A(){const[e,s]=(0,a.useState)(""),[t,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),u=(0,r.Zp)();return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,o.jsx)("div",{className:"flex justify-center",children:(0,o.jsx)(i.c_I,{className:"h-12 w-12 text-indigo-600"})}),(0,o.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ê´€ë¦¬ìž ë¡œê·¸ì¸"}),(0,o.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"EduText Pro ê´€ë¦¬ ì‹œìŠ¤í…œì— ë¡œê·¸ì¸í•˜ì„¸ìš”"})]}),(0,o.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,o.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,o.jsxs)("form",{className:"space-y-6",onSubmit:async s=>{s.preventDefault(),d(!0),x("");try{const s=await fetch(n.$W.endpoints.adminLogin,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),a=await s.json();a.success&&a.token?(localStorage.setItem("adminToken",a.token),localStorage.setItem("isAdmin","true"),u("/admin")):x(a.error||"ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.")}catch(e){console.error("Login error:",e),x("ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")}finally{d(!1)}},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"ì´ë©”ì¼"}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>s(e.target.value),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"admin@inblanq.com"}),(0,o.jsx)(i.KJW,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"ë¹„ë°€ë²ˆí˜¸"}),(0,o.jsxs)("div",{className:"mt-1 relative",children:[(0,o.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:e=>l(e.target.value),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),(0,o.jsx)(i.c_I,{className:"h-5 w-5 text-gray-400 absolute left-3 top-2.5"})]})]}),m&&(0,o.jsx)("div",{className:"text-red-600 text-sm",children:m}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?"ë¡œê·¸ì¸ ì¤‘...":"ë¡œê·¸ì¸"})})]}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)("button",{onClick:()=>u("/"),className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"ë©”ì¸ íŽ˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°"})})})]})})]})}function E(){const[e,s]=(0,a.useState)({totalUsers:1245,totalContent:567,todayGenerated:89,activeUsers:234}),t=(0,r.Zp)();return(0,a.useEffect)(()=>{localStorage.getItem("isAdmin")||t("/admin/login")},[t]),(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-indigo-600"}),(0,o.jsx)("h1",{className:"ml-2 text-2xl font-bold text-gray-900",children:"EduText Pro ê´€ë¦¬ìž"})]}),(0,o.jsxs)("button",{onClick:()=>{localStorage.removeItem("isAdmin"),t("/")},className:"flex items-center text-gray-500 hover:text-gray-900",children:[(0,o.jsx)(i.nUv,{className:"h-5 w-5 mr-1"}),"ë¡œê·¸ì•„ì›ƒ"]})]})})}),(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-blue-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ì´ ì‚¬ìš©ìž"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalUsers.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.iUU,{className:"h-8 w-8 text-green-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ìƒì„±ëœ ì½˜í…ì¸ "}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalContent.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-yellow-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ì˜¤ëŠ˜ ìƒì„±"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.todayGenerated})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-purple-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"í™œì„± ì‚¬ìš©ìž"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.activeUsers})]})]})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"ìµœê·¼ ìƒì„±ëœ ì½˜í…ì¸ "})}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsx)("div",{className:"space-y-4",children:[{title:"ìˆ˜í•™ ê¸°ì´ˆ ê°œë…",user:"í™ê¸¸ë™",time:"5ë¶„ ì „"},{title:"ì˜ì–´ ë¬¸ë²• ì •ë¦¬",user:"ê¹€ì² ìˆ˜",time:"15ë¶„ ì „"},{title:"ê³¼í•™ ì‹¤í—˜ ê°€ì´ë“œ",user:"ì´ì˜í¬",time:"30ë¶„ ì „"},{title:"ì—­ì‚¬ ì—°í‘œ ì •ë¦¬",user:"ë°•ë¯¼ìˆ˜",time:"1ì‹œê°„ ì „"}].map((e,s)=>(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,o.jsx)("p",{className:"text-sm text-gray-500",children:e.user})]}),(0,o.jsx)("span",{className:"text-sm text-gray-400",children:e.time})]},s))})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"ì‹œìŠ¤í…œ ì„¤ì •"})}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.wB_,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"ì¼ë°˜ ì„¤ì •"})]}),(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.zWC,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"ì‚¬ìš©ìž ê´€ë¦¬"})]}),(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.iUU,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"ì½˜í…ì¸  ê´€ë¦¬"})]}),(0,o.jsxs)("button",{className:"flex items-center w-full text-left p-3 rounded-lg hover:bg-gray-50",children:[(0,o.jsx)(i.VH9,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,o.jsx)("span",{children:"ë¶„ì„ ë° ë¦¬í¬íŠ¸"})]})]})})]})]})]})]})}(0,t(52).UU)(n.$W.supabase.url,n.$W.supabase.anonKey);const I=({template:e,onEdit:s,onDelete:t})=>(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow",children:[(0,o.jsx)("h3",{className:"font-bold text-lg mb-2",children:e.title}),(0,o.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,o.jsxs)("p",{children:["íƒ€ìž…: ",{reading:"ì½ê¸° ì§€ë¬¸",vocabulary:"ì–´íœ˜ í•™ìŠµ",grammar:"ë¬¸ë²• ì„¤ëª…",quiz:"í€´ì¦ˆ",questions:"ë¬¸ì œ",answers:"í•´ì„¤"}[e.content_type]]}),(0,o.jsxs)("p",{children:["ë‚œì´ë„: ",{beginner:"ì´ˆê¸‰",intermediate:"ì¤‘ê¸‰",advanced:"ê³ ê¸‰"}[e.difficulty]]}),(0,o.jsxs)("p",{children:["ëŒ€ìƒ: ",e.target_age]})]}),(0,o.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,o.jsx)("button",{onClick:()=>s(e),className:"text-blue-600 hover:text-blue-800",children:"ìˆ˜ì •"}),(0,o.jsx)("button",{onClick:()=>t(e.id),className:"text-red-600 hover:text-red-800",children:"ì‚­ì œ"})]})]}),T=({template:e,onClose:s,onSave:t})=>{const[l,r]=(0,a.useState)({title:e?.title||"",content_type:e?.content_type||"reading",difficulty:e?.difficulty||"intermediate",target_age:e?.target_age||"adult",template_prompt:e?.template_prompt||"",variables:e?.variables||[]});return(0,o.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-90vh overflow-y-auto p-6",children:[(0,o.jsx)("h3",{className:"text-xl font-bold mb-4",children:e?"í…œí”Œë¦¿ ìˆ˜ì •":"ìƒˆ í…œí”Œë¦¿ ìƒì„±"}),(0,o.jsxs)("form",{onSubmit:async s=>{s.preventDefault();try{const s=localStorage.getItem("adminToken"),a=e?`/api/admin/templates/${e.id}`:"/api/admin/templates";(await fetch(a,{method:e?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(l)})).ok&&t()}catch(e){console.error("Failed to save template:",e)}},className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"í…œí”Œë¦¿ ì´ë¦„"}),(0,o.jsx)("input",{type:"text",value:l.title,onChange:e=>r({...l,title:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"ì½˜í…ì¸  íƒ€ìž…"}),(0,o.jsxs)("select",{value:l.content_type,onChange:e=>r({...l,content_type:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"reading",children:"ì½ê¸° ì§€ë¬¸"}),(0,o.jsx)("option",{value:"vocabulary",children:"ì–´íœ˜ í•™ìŠµ"}),(0,o.jsx)("option",{value:"grammar",children:"ë¬¸ë²• ì„¤ëª…"}),(0,o.jsx)("option",{value:"quiz",children:"í€´ì¦ˆ"}),(0,o.jsx)("option",{value:"questions",children:"ë¬¸ì œ"}),(0,o.jsx)("option",{value:"answers",children:"í•´ì„¤"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"ë‚œì´ë„"}),(0,o.jsxs)("select",{value:l.difficulty,onChange:e=>r({...l,difficulty:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"beginner",children:"ì´ˆê¸‰"}),(0,o.jsx)("option",{value:"intermediate",children:"ì¤‘ê¸‰"}),(0,o.jsx)("option",{value:"advanced",children:"ê³ ê¸‰"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"ëŒ€ìƒ ì—°ë ¹"}),(0,o.jsx)("input",{type:"text",value:l.target_age,onChange:e=>r({...l,target_age:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ì˜ˆ: adult, elem1, middle2",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium mb-1",children:"í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿"}),(0,o.jsx)("textarea",{value:l.template_prompt,onChange:e=>r({...l,template_prompt:e.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:8,placeholder:"{{topic}} ì£¼ì œë¡œ {{difficulty}} ìˆ˜ì¤€ì˜ í•œêµ­ì–´ ì½ê¸° ì§€ë¬¸ì„ {{length}}ìžë¡œ ìž‘ì„±í•´ì£¼ì„¸ìš”...",required:!0}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["ë³€ìˆ˜ëŠ” ","{{ë³€ìˆ˜ëª…}}"," í˜•ì‹ìœ¼ë¡œ ìž‘ì„±í•˜ì„¸ìš”."]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,o.jsx)("label",{className:"block text-sm font-medium",children:"ë³€ìˆ˜ ì •ì˜"}),(0,o.jsx)("button",{type:"button",onClick:()=>{r({...l,variables:[...l.variables,{name:"",description:""}]})},className:"text-blue-600 hover:text-blue-800 text-sm",children:"ë³€ìˆ˜ ì¶”ê°€"})]}),l.variables.map((e,s)=>(0,o.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,o.jsx)("input",{type:"text",placeholder:"ë³€ìˆ˜ëª…",value:e.name,onChange:e=>{const t=[...l.variables];t[s].name=e.target.value,r({...l,variables:t})},className:"flex-1 px-3 py-2 border rounded-lg"}),(0,o.jsx)("input",{type:"text",placeholder:"ì„¤ëª…",value:e.description,onChange:e=>{const t=[...l.variables];t[s].description=e.target.value,r({...l,variables:t})},className:"flex-1 px-3 py-2 border rounded-lg"}),(0,o.jsx)("button",{type:"button",onClick:()=>{const e=l.variables.filter((e,t)=>t!==s);r({...l,variables:e})},className:"text-red-600 hover:text-red-800",children:"ì‚­ì œ"})]},s))]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,o.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"ì·¨ì†Œ"}),(0,o.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e?"ìˆ˜ì •":"ìƒì„±"})]})]})]})})},$=()=>{const[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(!1),[r,n]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{d()},[]);const d=async()=>{try{const e=localStorage.getItem("adminToken"),t=await fetch("/api/admin/templates",{headers:{Authorization:`Bearer ${e}`}}),a=await t.json();a.success&&s(a.templates)}catch(e){console.error("Failed to fetch templates:",e)}finally{c(!1)}},m=e=>{n(e),l(!0)},x=async e=>{if(confirm("ì •ë§ ì´ í…œí”Œë¦¿ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"))try{const s=localStorage.getItem("adminToken");(await fetch(`/api/admin/templates/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}})).ok&&d()}catch(e){console.error("Failed to delete template:",e)}};return i?(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:"ë¡œë”© ì¤‘..."}):(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold",children:"í…œí”Œë¦¿ ê´€ë¦¬"}),(0,o.jsx)("button",{onClick:()=>{n(null),l(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"ìƒˆ í…œí”Œë¦¿ ì¶”ê°€"})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,o.jsx)(I,{template:e,onEdit:m,onDelete:x},e.id))}),t&&(0,o.jsx)(T,{template:r,onClose:()=>l(!1),onSave:()=>{l(!1),d()}})]})};const P=()=>{const[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(null),[i,c]=(0,a.useState)({}),[d,m]=(0,a.useState)("claude"),[x,u]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),p=(0,r.Zp)();(0,a.useEffect)(()=>{b()},[]);const b=async()=>{try{const e=await(0,n.nr)(n.$W.endpoints.adminTemplates),t=await e.json();t.success&&s(t.templates)}catch(e){console.error("Failed to fetch templates:",e)}};return(0,o.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"ì§€ë¬¸ ì¦‰ì‹œ ìƒì„±"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"AI ì œê³µìž"}),(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",value:"claude",checked:"claude"===d,onChange:e=>m(e.target.value),className:"mr-2"}),"Claude 3.5 Sonnet"]}),(0,o.jsxs)("label",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"radio",value:"gemini",checked:"gemini"===d,onChange:e=>m(e.target.value),className:"mr-2"}),"Google Gemini"]})]})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"í…œí”Œë¦¿ ì„ íƒ"}),(0,o.jsxs)("select",{value:t?.id||"",onChange:s=>(s=>{const t=e.find(e=>e.id===s);if(l(t),t){const e={};t.variables?.forEach(s=>{e[s.name]=""}),c(e)}})(s.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,o.jsx)("option",{value:"",children:"í…œí”Œë¦¿ì„ ì„ íƒí•˜ì„¸ìš”"}),e.map(e=>(0,o.jsxs)("option",{value:e.id,children:[e.title," (",e.content_type,")"]},e.id))]}),t&&(0,o.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded text-sm",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"íƒ€ìž…:"})," ",t.content_type]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ë‚œì´ë„:"})," ",t.difficulty]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ëŒ€ìƒ:"})," ",t.target_age]})]})]}),t&&t.variables?.length>0&&(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"ë³€ìˆ˜ ìž…ë ¥"}),(0,o.jsx)("div",{className:"space-y-3",children:t.variables.map(e=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[e.name,e.description&&(0,o.jsxs)("span",{className:"text-gray-500 font-normal ml-2",children:["(",e.description,")"]})]}),(0,o.jsx)("input",{type:"text",value:i[e.name]||"",onChange:s=>c({...i,[e.name]:s.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]},e.name))})]}),(0,o.jsx)("button",{onClick:async()=>{if(t){u(!0);try{const e=await(0,n.nr)(n.$W.endpoints.generateFromTemplate,{method:"POST",body:JSON.stringify({templateId:t.id,variables:i,provider:d})});if(!e.ok){const s=await e.json();throw new Error(s.message||`HTTP error! status: ${e.status}`)}const s=await e.json();s.success?g(s):alert("AI ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+(s.error||s.message))}catch(e){console.error("Generation error:",e),alert("AI ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: "+e.message)}finally{u(!1)}}else alert("í…œí”Œë¦¿ì„ ì„ íƒí•´ì£¼ì„¸ìš”")},disabled:!t||x,className:"w-full py-3 px-4 rounded-lg font-semibold transition-colors "+(!t||x?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:x?(0,o.jsxs)("div",{className:"flex items-center justify-center",children:[(0,o.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ìƒì„± ì¤‘..."]}):"ì§€ë¬¸ ìƒì„±í•˜ê¸°"})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,o.jsx)("h3",{className:"font-semibold mb-3",children:"ìƒì„±ëœ ì½˜í…ì¸ "}),h?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{className:"bg-gray-50 rounded p-3 text-sm",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"AI ì œê³µìž:"})," ",h.metadata.provider]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"í† í° ì‚¬ìš©:"})," ",h.metadata.tokensUsed]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"ìƒì„± ì‹œê°„:"})," ",h.metadata.generationTime,"ms"]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"í…œí”Œë¦¿:"})," ",h.metadata.templateUsed]})]}),(0,o.jsx)("div",{className:"border rounded-lg p-4 max-h-96 overflow-y-auto",children:(y=h.content,"string"==typeof y?(0,o.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:y}):y.title?(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("h4",{className:"text-lg font-bold",children:y.title}),y.description&&(0,o.jsx)("p",{className:"text-gray-600",children:y.description}),y.mainContent&&(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("p",{children:y.mainContent.introduction}),y.mainContent.keyPoints&&(0,o.jsx)("ul",{className:"list-disc list-inside",children:y.mainContent.keyPoints.map((e,s)=>(0,o.jsx)("li",{children:e},s))})]}),y.vocabularyList&&(0,o.jsx)("div",{className:"space-y-2",children:y.vocabularyList.map((e,s)=>(0,o.jsxs)("div",{className:"border-b pb-2",children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:e.word}),": ",e.meaning]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["ë‚œì´ë„: ",e.difficulty]})]},s))}),y.questions&&(0,o.jsx)("div",{className:"space-y-3",children:y.questions.map((e,s)=>(0,o.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,o.jsxs)("p",{className:"font-medium",children:[s+1,". ",e.question]}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["(",e.type,", ",e.points,"ì )"]})]},s))})]}):(0,o.jsx)("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(y,null,2)}))}),(0,o.jsxs)("div",{className:"flex space-x-3",children:[(0,o.jsx)("button",{onClick:()=>{const e="string"==typeof h.content?h.content:JSON.stringify(h.content,null,2);navigator.clipboard.writeText(e),alert("í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤")},className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50",children:"í´ë¦½ë³´ë“œì— ë³µì‚¬"}),(0,o.jsx)("button",{onClick:()=>{sessionStorage.setItem("generatedContent",JSON.stringify(h.content)),p("/editor?mode=new&content=generated")},className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"ì—ë””í„°ì—ì„œ ì—´ê¸°"})]})]}):(0,o.jsx)("div",{className:"text-center text-gray-500 py-20",children:"í…œí”Œë¦¿ì„ ì„ íƒí•˜ê³  ìƒì„± ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”"})]})]})]});var y};function L(){const[e,s]=(0,a.useState)({totalUsers:1245,totalContent:567,todayGenerated:89,activeUsers:234}),t=(0,r.Zp)(),l=(0,r.zy)();(0,a.useEffect)(()=>{const e=localStorage.getItem("isAdmin"),s=localStorage.getItem("adminToken");e||s||t("/admin/login")},[t]);const n=e=>l.pathname===e;return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,o.jsx)("div",{className:"w-64 bg-white shadow-lg",children:(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsxs)("div",{className:"flex items-center mb-8",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-indigo-600"}),(0,o.jsx)("h2",{className:"ml-2 text-xl font-bold text-gray-900",children:"ê´€ë¦¬ìž íŒ¨ë„"})]}),(0,o.jsxs)("nav",{className:"space-y-2",children:[(0,o.jsxs)(r.N_,{to:"/admin/dashboard",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/dashboard")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.EsT,{className:"h-5 w-5 mr-3"}),"ëŒ€ì‹œë³´ë“œ"]}),(0,o.jsxs)(r.N_,{to:"/admin/templates",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/templates")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.GDI,{className:"h-5 w-5 mr-3"}),"í…œí”Œë¦¿ ê´€ë¦¬"]}),(0,o.jsxs)(r.N_,{to:"/admin/generate",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/generate")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.sUz,{className:"h-5 w-5 mr-3"}),"ì§€ë¬¸ ìƒì„±"]}),(0,o.jsxs)(r.N_,{to:"/admin/history",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/history")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.BZB,{className:"h-5 w-5 mr-3"}),"ìƒì„± ížˆìŠ¤í† ë¦¬"]}),(0,o.jsxs)(r.N_,{to:"/admin/analytics",className:"flex items-center p-3 rounded-lg transition-colors "+(n("/admin/analytics")?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"),children:[(0,o.jsx)(i.VH9,{className:"h-5 w-5 mr-3"}),"ì‚¬ìš© ë¶„ì„"]})]}),(0,o.jsx)("div",{className:"mt-8 pt-8 border-t",children:(0,o.jsxs)("button",{onClick:()=>{localStorage.removeItem("isAdmin"),localStorage.removeItem("adminToken"),t("/")},className:"flex items-center w-full p-3 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,o.jsx)(i.nUv,{className:"h-5 w-5 mr-3"}),"ë¡œê·¸ì•„ì›ƒ"]})})]})}),(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("header",{className:"bg-white shadow",children:(0,o.jsx)("div",{className:"px-8 py-6",children:(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"EduText Pro ê´€ë¦¬ìž"})})}),(0,o.jsx)("main",{className:"p-8",children:(0,o.jsxs)(r.BV,{children:[(0,o.jsx)(r.qh,{path:"dashboard",element:(0,o.jsx)(_,{stats:e})}),(0,o.jsx)(r.qh,{path:"templates",element:(0,o.jsx)($,{})}),(0,o.jsx)(r.qh,{path:"generate",element:(0,o.jsx)(P,{})}),(0,o.jsx)(r.qh,{path:"history",element:(0,o.jsx)(O,{})}),(0,o.jsx)(r.qh,{path:"analytics",element:(0,o.jsx)(R,{})}),(0,o.jsx)(r.qh,{path:"*",element:(0,o.jsx)(_,{stats:e})})]})})]})]})}function _({stats:e}){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"ëŒ€ì‹œë³´ë“œ ê°œìš”"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-blue-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ì´ ì‚¬ìš©ìž"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalUsers.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.iUU,{className:"h-8 w-8 text-green-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ìƒì„±ëœ ì½˜í…ì¸ "}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.totalContent.toLocaleString()})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.VH9,{className:"h-8 w-8 text-yellow-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ì˜¤ëŠ˜ ìƒì„±"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.todayGenerated})]})]})}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)(i.zWC,{className:"h-8 w-8 text-purple-500"}),(0,o.jsxs)("div",{className:"ml-4",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"í™œì„± ì‚¬ìš©ìž"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.activeUsers})]})]})})]}),(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,o.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"ìµœê·¼ í™œë™"})}),(0,o.jsx)("div",{className:"p-6",children:(0,o.jsx)("div",{className:"space-y-4",children:[{title:"ìˆ˜í•™ ê¸°ì´ˆ ê°œë…",user:"í™ê¸¸ë™",time:"5ë¶„ ì „",type:"reading"},{title:"ì˜ì–´ ë¬¸ë²• ì •ë¦¬",user:"ê¹€ì² ìˆ˜",time:"15ë¶„ ì „",type:"grammar"},{title:"ê³¼í•™ ì‹¤í—˜ ê°€ì´ë“œ",user:"ì´ì˜í¬",time:"30ë¶„ ì „",type:"quiz"},{title:"ì—­ì‚¬ ì—°í‘œ ì •ë¦¬",user:"ë°•ë¯¼ìˆ˜",time:"1ì‹œê°„ ì „",type:"vocabulary"}].map((e,s)=>(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,o.jsxs)("p",{className:"text-sm text-gray-500",children:[e.user," â€¢ ",e.type]})]}),(0,o.jsx)("span",{className:"text-sm text-gray-400",children:e.time})]},s))})})]})]})}function O(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"ìƒì„± ížˆìŠ¤í† ë¦¬"}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsx)("p",{className:"text-gray-500",children:"ìƒì„± ížˆìŠ¤í† ë¦¬ ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë©ë‹ˆë‹¤."})})]})}function R(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-6",children:"ì‚¬ìš© ë¶„ì„"}),(0,o.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,o.jsx)("p",{className:"text-gray-500",children:"ì‚¬ìš© ë¶„ì„ ê¸°ëŠ¥ì´ ê³§ ì¶”ê°€ë©ë‹ˆë‹¤."})})]})}const D=function(){return(0,o.jsx)(r.Kd,{basename:n.$W.basename,children:(0,o.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,o.jsxs)(r.BV,{children:[(0,o.jsx)(r.qh,{path:"/",element:(0,o.jsx)(c,{})}),(0,o.jsx)(r.qh,{path:"/editor",element:(0,o.jsx)(m,{})}),(0,o.jsx)(r.qh,{path:"/reading-trainer",element:(0,o.jsx)(S,{})}),(0,o.jsx)(r.qh,{path:"/admin/login",element:(0,o.jsx)(A,{})}),(0,o.jsx)(r.qh,{path:"/admin",element:(0,o.jsx)(E,{})}),(0,o.jsx)(r.qh,{path:"/admin/*",element:(0,o.jsx)(L,{})})]})})})};l.createRoot(document.getElementById("root")).render((0,o.jsx)(a.StrictMode,{children:(0,o.jsx)(D,{})}))},493:(e,s,t)=>{t.d(s,{In:()=>r,v4:()=>l});const a=e=>{try{return""}catch{return""}},l={openai:a(),anthropic:a()},r=()=>[{id:"openai",name:"OpenAI GPT"},{id:"anthropic",name:"Anthropic Claude"},{id:"gemini",name:"Google Gemini"}]},521:(e,s,t)=>{t.d(s,{$W:()=>l,nr:()=>r});const a="https://wonbyte-pro.onrender.com",l={isDevelopment:!1,isProduction:!0,apiUrl:a,demo:!1,supabase:{url:"https://jqlouemxgafrbzdxyojl.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpxbG91ZW14Z2FmcmJ6ZHh5b2psIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxMDE5ODgsImV4cCI6MjA2OTY3Nzk4OH0.lzd76e3ZeH5eq33G6V6FMbs5lDToV9tGDUIilAVDPYI"},basename:"/wonbyte-pro",endpoints:{adminLogin:`${a}/api/admin/login`,adminStats:`${a}/api/admin/stats`,adminTemplates:`${a}/api/admin/templates`,generateFromTemplate:`${a}/api/ai/generate-from-template`,generateDirect:`${a}/api/ai/generate-direct`,generateBatch:`${a}/api/ai/generate-batch`,generationHistory:`${a}/api/ai/history`,health:`${a}/api/health`}},r=async(e,s={})=>{const t=localStorage.getItem("adminToken"),a={headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}},l={...a,...s,headers:{...a.headers,...s.headers}};return fetch(e,l)}},607:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o}),t(521);const a=class{constructor(){this.delay=1e3}async simulateDelay(){return new Promise(e=>setTimeout(e,this.delay))}async adminLogin(e,s){return await this.simulateDelay(),"admin@inblanq.com"===e&&"2025"===s?{success:!0,token:"demo-admin-token-12345",user:{id:"demo-admin-id",email:"admin@inblanq.com",role:"admin"}}:{success:!1,error:"Invalid credentials"}}async generateContent(e,s,t,a={}){await this.simulateDelay();const{targetAge:l="elem2",difficulty:r="beginner",contentLength:n="800"}=a,i=this.extractTopic(t);if("reading"===s){const s=this.getTopicData(i,l);return{success:!0,content:{title:s.title,description:`${this.getAgeDescription(l)}ì„ ìœ„í•œ ${s.topic} ì´ì•¼ê¸°`,mainContent:{introduction:this.generateReadingContent(n,l,i),keyPoints:s.keyPoints,examples:s.examples}},provider:e,timestamp:(new Date).toISOString(),tokensUsed:150}}return"vocabulary"===s?{success:!0,content:{title:"ì–´íœ˜ ë¶„ì„ ê²°ê³¼",vocabularyList:[{word:"ê´€ì°°",meaning:"ìžì„¸ížˆ ì‚´íŽ´ë³´ëŠ” ê²ƒ",synonyms:["êµ¬ê²½","ì‚´í”¼ê¸°"],antonyms:["ë¬´ì‹œ","ì†Œí™€"],difficulty:"â˜…â˜…â˜…â˜†â˜†",example:"ê½ƒì„ ê´€ì°°í•´ë³´ì„¸ìš”."},{word:"ìƒëª…",meaning:"ì‚´ì•„ìžˆëŠ” ê²ƒ",synonyms:["ëª©ìˆ¨","ì‚¶"],antonyms:["ì£½ìŒ"],difficulty:"â˜…â˜…â˜†â˜†â˜†",example:"ê½ƒë„ ìƒëª…ì´ì—ìš”."},{word:"ì•„ë¦„ë‹¤ìš´",meaning:"ë³´ê¸° ì¢‹ê³  ì˜ˆìœ",synonyms:["ì˜ˆìœ","ê³±ë‹¤"],antonyms:["ëª»ìƒê¸´","ì¶”í•œ"],difficulty:"â˜…â˜…â˜†â˜†â˜†",example:"ì•„ë¦„ë‹¤ìš´ ê½ƒì´ í”¼ì—ˆì–´ìš”."}]},provider:e,timestamp:(new Date).toISOString(),tokensUsed:100}:"questions"===s?{success:!0,content:{title:"ì„œìˆ í˜• ë¬¸ì œ",questions:[{type:"ë‚´ìš© ì´í•´í˜•",question:"ë´„ì— í”¼ëŠ” ê½ƒì˜ ì¢…ë¥˜ë¥¼ 3ê°€ì§€ ì¨ë³´ì„¸ìš”.",answerSpace:3,points:10},{type:"ë§¥ë½ ì¶”ë¡ í˜•",question:"ê¸€ì“´ì´ê°€ ê½ƒì„ êº¾ì§€ ë§ë¼ê³  í•˜ëŠ” ì´ìœ ë¥¼ ì¨ë³´ì„¸ìš”.",answerSpace:4,points:15},{type:"ë‚´ìš© ì´í•´í˜•",question:"ê½ƒì„ ê´€ì°°í•  ë•Œ ì£¼ì˜í•  ì ì„ ì¨ë³´ì„¸ìš”.",answerSpace:3,points:10},{type:"ë§¥ë½ ì¶”ë¡ í˜•",question:"ìžì—°ì´ ìš°ë¦¬ì—ê²Œ ì£¼ëŠ” ì˜ë¯¸ë¥¼ ìƒê°í•´ì„œ ì¨ë³´ì„¸ìš”.",answerSpace:5,points:20},{type:"ë‚´ìš© ì´í•´í˜•",question:"ê°€ì¡±ê³¼ í•¨ê»˜ ê½ƒêµ¬ê²½ì„ ê°€ë©´ ì¢‹ì€ ì´ìœ ë¥¼ ì¨ë³´ì„¸ìš”.",answerSpace:4,points:15},{type:"ë§¥ë½ ì¶”ë¡ í˜•",question:"ì´ ê¸€ì„ ì½ê³  ëŠë‚€ ì ì„ ìžìœ ë¡­ê²Œ ì¨ë³´ì„¸ìš”.",answerSpace:5,points:20}]},provider:e,timestamp:(new Date).toISOString(),tokensUsed:120}:"answers"===s?{success:!0,content:{title:"ë¬¸ì œ í•´ì„¤",answers:[{questionNumber:1,correctAnswer:"ê°œë‚˜ë¦¬, ì§„ë‹¬ëž˜, ë²šê½ƒ",explanation:"ì§€ë¬¸ì—ì„œ ë´„ì— í”¼ëŠ” ê½ƒìœ¼ë¡œ ê°œë‚˜ë¦¬(ë…¸ëž€ìƒ‰), ì§„ë‹¬ëž˜(ë¶„í™ìƒ‰), ë²šê½ƒ(í•˜ì–€ìƒ‰, ë¶„í™ìƒ‰)ì„ ì œì‹œí–ˆìŠµë‹ˆë‹¤.",gradingCriteria:["3ê°€ì§€ ê½ƒ ì´ë¦„ ì •í™•ížˆ ì“°ê¸°","ë§žì¶¤ë²• ì •í™•ì„±"],tips:"ì§€ë¬¸ì„ ì°¨ê·¼ì°¨ê·¼ ì½ìœ¼ë©° ê½ƒ ì´ë¦„ì„ ì°¾ì•„ë³´ì„¸ìš”."},{questionNumber:2,correctAnswer:"ê½ƒë„ ìš°ë¦¬ì²˜ëŸ¼ ì‚´ì•„ìžˆëŠ” ìƒëª…ì´ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.",explanation:"ê¸€ì“´ì´ëŠ” ê½ƒë„ ìƒëª…ì²´ìž„ì„ ê°•ì¡°í•˜ë©° ìƒëª…ì„ ì†Œì¤‘ížˆ ì—¬ê²¨ì•¼ í•œë‹¤ê³  ë§í•©ë‹ˆë‹¤.",gradingCriteria:["ìƒëª…ì˜ ì†Œì¤‘í•¨ ì–¸ê¸‰","ë…¼ë¦¬ì  ì„¤ëª…"],tips:"ì§€ë¬¸ì—ì„œ ìƒëª…ì— ê´€ë ¨ëœ ë¶€ë¶„ì„ ì°¾ì•„ë³´ì„¸ìš”."}]},provider:e,timestamp:(new Date).toISOString(),tokensUsed:90}:{success:!0,content:{title:"ë°ëª¨ ì½˜í…ì¸ ",description:"ë°ëª¨ ëª¨ë“œì—ì„œ ìƒì„±ëœ ìƒ˜í”Œ ì½˜í…ì¸ ìž…ë‹ˆë‹¤."},provider:e,timestamp:(new Date).toISOString(),tokensUsed:50}}getAgeDescription(e){return{elem1:"ì´ˆë“±í•™êµ 1í•™ë…„",elem2:"ì´ˆë“±í•™êµ 2í•™ë…„",elem3:"ì´ˆë“±í•™êµ 3í•™ë…„",elem4:"ì´ˆë“±í•™êµ 4í•™ë…„",elem5:"ì´ˆë“±í•™êµ 5í•™ë…„",elem6:"ì´ˆë“±í•™êµ 6í•™ë…„",middle1:"ì¤‘í•™êµ 1í•™ë…„",middle2:"ì¤‘í•™êµ 2í•™ë…„",middle3:"ì¤‘í•™êµ 3í•™ë…„",high1:"ê³ ë“±í•™êµ 1í•™ë…„",high2:"ê³ ë“±í•™êµ 2í•™ë…„",high3:"ê³ ë“±í•™êµ 3í•™ë…„"}[e]||"ì´ˆë“±í•™êµ 2í•™ë…„"}extractTopic(e){if(!e)return"game";const s=e.toLowerCase();return s.includes("ê²Œìž„")||s.includes("ê¸°ìˆ ")||s.includes("ì»´í“¨í„°")||s.includes("ë¡œë´‡")?"game":s.includes("ìŠ¤í¬ì¸ ")||s.includes("ì¶•êµ¬")||s.includes("ìš´ë™")?"sports":s.includes("ìŒì•…")||s.includes("ë…¸ëž˜")||s.includes("ì—”í„°í…Œì¸ë¨¼íŠ¸")?"music":s.includes("ë™ë¬¼")||s.includes("ìžì—°")||s.includes("í™˜ê²½")?"nature":s.includes("ê³¼í•™")||s.includes("ìš°ì£¼")||s.includes("ì‹¤í—˜")?"science":s.includes("ìŒì‹")||s.includes("ìš”ë¦¬")||s.includes("ë§›")?"food":"game"}getTopicData(e,s){const t={game:{title:"ê²Œìž„ê³¼ ê¸°ìˆ ",topic:"ê²Œìž„ & ê¸°ìˆ ",keyPoints:["ì»´í“¨í„° ê²Œìž„ì€ ìž¬ë¯¸ìžˆëŠ” ë†€ì´ìž…ë‹ˆë‹¤","ê¸°ìˆ  ë°œì „ìœ¼ë¡œ ê²Œìž„ì´ ë” ë°œë‹¬í–ˆìŠµë‹ˆë‹¤","ê²Œìž„ì„ í•  ë•ŒëŠ” ì‹œê°„ì„ ì§€ì¼œì•¼ í•©ë‹ˆë‹¤"],examples:[{korean:"ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ê²Œìž„ì„ í•˜ë©´ ë” ìž¬ë¯¸ìžˆì–´ìš”.",explanation:"í˜‘ë™í•˜ëŠ” ê²Œìž„ì˜ ì¦ê±°ì›€"}]},sports:{title:"ìŠ¤í¬ì¸ ì™€ ê±´ê°•",topic:"ìŠ¤í¬ì¸ ",keyPoints:["ìš´ë™ì€ ìš°ë¦¬ ëª¸ì„ ê±´ê°•í•˜ê²Œ í•©ë‹ˆë‹¤","ì—¬ëŸ¬ ê°€ì§€ ìŠ¤í¬ì¸ ê°€ ìžˆìŠµë‹ˆë‹¤","íŒ€ì›Œí¬ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤"],examples:[{korean:"ì¶•êµ¬ë¥¼ í•˜ë©´ ë‹¤ë¦¬ ê·¼ìœ¡ì´ ê°•í•´ì ¸ìš”.",explanation:"ìš´ë™ê³¼ ê±´ê°•ì˜ ê´€ê³„"}]},nature:{title:"ë™ë¬¼ê³¼ ìžì—°",topic:"ë™ë¬¼ & ìžì—°",keyPoints:["ìžì—°ì—ëŠ” ë§Žì€ ë™ë¬¼ë“¤ì´ ì‚´ê³  ìžˆìŠµë‹ˆë‹¤","ë™ë¬¼ë§ˆë‹¤ ë‹¤ë¥¸ íŠ¹ì§•ì„ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤","ìžì—°ì„ ë³´í˜¸í•´ì•¼ í•©ë‹ˆë‹¤"],examples:[{korean:"ìˆ²ì—ì„œ ë‹¤ëžŒì¥ê°€ ë„í† ë¦¬ë¥¼ ëª¨ìœ¼ê³  ìžˆì–´ìš”.",explanation:"ë™ë¬¼ì˜ ìƒí™œ ëª¨ìŠµ"}]}};return t[e]||t.game}generateReadingContent(e,s,t="nature"){const a={game:{base:"ìš”ì¦˜ ì»´í“¨í„° ê²Œìž„ì€ ì •ë§ ìž¬ë¯¸ìžˆìŠµë‹ˆë‹¤. ìŠ¤ë§ˆíŠ¸í°ì´ë‚˜ ì»´í“¨í„°ë¡œ ì—¬ëŸ¬ ê°€ì§€ ê²Œìž„ì„ í•  ìˆ˜ ìžˆì–´ìš”. ê²Œìž„ì„ í•˜ë©´ ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ì¦ê¸¸ ìˆ˜ ìžˆê³ , ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš¸ ìˆ˜ë„ ìžˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê²Œìž„ì„ í•  ë•ŒëŠ” ì‹œê°„ì„ ì •í•´ì„œ í•´ì•¼ í•´ìš”. ë„ˆë¬´ ì˜¤ëž˜ í•˜ë©´ ëˆˆì´ ì•„í”„ê³  ê³µë¶€í•  ì‹œê°„ì´ ë¶€ì¡±í•´ì§‘ë‹ˆë‹¤. ê²Œìž„ì€ ìž¬ë¯¸ìžˆì§€ë§Œ ì ë‹¹ížˆ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.",additional:" ê²Œìž„ì„ ë§Œë“œëŠ” ì‚¬ëžŒë“¤ì„ ê°œë°œìžë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ì´ë“¤ì€ ì»´í“¨í„° í”„ë¡œê·¸ëž˜ë°ì„ ë°°ì›Œì„œ ìž¬ë¯¸ìžˆëŠ” ê²Œìž„ì„ ë§Œë“¤ì–´ìš”. ë¯¸ëž˜ì—ëŠ” ë”ìš± ë°œë‹¬í•œ ê¸°ìˆ ë¡œ ë” ìž¬ë¯¸ìžˆëŠ” ê²Œìž„ë“¤ì´ ë‚˜ì˜¬ ê²ƒìž…ë‹ˆë‹¤. ê°€ìƒí˜„ì‹¤ ê²Œìž„ì´ë‚˜ ë¡œë´‡ê³¼ í•¨ê»˜ í•˜ëŠ” ê²Œìž„ë„ ìžˆì–´ìš”. ê¸°ìˆ ì´ ë°œì „í•˜ë©´ ìš°ë¦¬ ìƒí™œì´ ë”ìš± íŽ¸ë¦¬í•´ì§‘ë‹ˆë‹¤.",extra:" ë¡œë´‡ ê¸°ìˆ ë„ ë§Žì´ ë°œì „í–ˆìŠµë‹ˆë‹¤. ì§‘ì—ì„œ ì²­ì†Œë¥¼ ë„ì™€ì£¼ëŠ” ë¡œë´‡ì´ë‚˜ ìŒì„±ìœ¼ë¡œ ëŒ€í™”í•  ìˆ˜ ìžˆëŠ” AIë„ ìžˆì–´ìš”. ì¸ê³µì§€ëŠ¥ì€ ì‚¬ëžŒì²˜ëŸ¼ ìƒê°í•˜ê³  ë°°ìš¸ ìˆ˜ ìžˆëŠ” ê¸°ìˆ ìž…ë‹ˆë‹¤. ì•žìœ¼ë¡œ ë¡œë´‡ì´ ë” ë˜‘ë˜‘í•´ì ¸ì„œ ìš°ë¦¬ ìƒí™œì„ ë§Žì´ ë„ì™€ì¤„ ê²ƒìž…ë‹ˆë‹¤."},nature:{base:"ë”°ëœ»í•œ ë´„ì´ ì˜¤ë©´ ì—¬ëŸ¬ ê°€ì§€ ì˜ˆìœ ê½ƒë“¤ì´ í”¼ì–´ë‚©ë‹ˆë‹¤. ê°œë‚˜ë¦¬ëŠ” ë…¸ëž€ìƒ‰ìœ¼ë¡œ ë¨¼ì € í”¼ê³ , ì§„ë‹¬ëž˜ëŠ” ë¶„í™ìƒ‰ìœ¼ë¡œ ì˜ˆì˜ê²Œ í•ë‹ˆë‹¤. ë²šê½ƒì€ í•˜ì–€ìƒ‰ê³¼ ë¶„í™ìƒ‰ìœ¼ë¡œ í”¼ì–´ì„œ ë§ˆì¹˜ ëˆˆì´ ë‚´ë¦° ê²ƒ ê°™ì•„ìš”. ê½ƒë“¤ì€ ìš°ë¦¬ì—ê²Œ ë´„ì´ ì™”ë‹¤ê³  ì•Œë ¤ì£¼ëŠ” ì¹œêµ¬ë“¤ìž…ë‹ˆë‹¤. ê½ƒë“¤ì„ ë³´ë©´ ë§ˆìŒì´ ê¸°ë»ì§‘ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê½ƒì„ ì†Œì¤‘ížˆ ì—¬ê²¨ì•¼ í•´ìš”. ê½ƒì„ êº¾ì§€ ë§ê³  ì˜ˆì˜ê²Œ êµ¬ê²½ë§Œ í•´ì•¼ í•©ë‹ˆë‹¤. ê½ƒë“¤ë„ ìš°ë¦¬ì²˜ëŸ¼ ì‚´ì•„ìžˆëŠ” ìƒëª…ì´ê¸° ë•Œë¬¸ìž…ë‹ˆë‹¤.",additional:" ë´„ì—ëŠ” ê°€ì¡±ê³¼ í•¨ê»˜ ê½ƒêµ¬ê²½ì„ ê°€ë©´ ì¢‹ê² ì–´ìš”. ê³µì›ì´ë‚˜ ì‚°ì— ê°€ì„œ ì—¬ëŸ¬ ê°€ì§€ ê½ƒë“¤ì„ ì°¾ì•„ë³´ì„¸ìš”. ê½ƒì˜ ìƒ‰ê¹”ê³¼ ëª¨ì–‘ì„ ìžì„¸ížˆ ê´€ì°°í•´ë³´ë©´ ì •ë§ ì‹ ê¸°í•©ë‹ˆë‹¤. ìžì—°ì€ ìš°ë¦¬ì—ê²Œ ì•„ë¦„ë‹¤ìš´ ì„ ë¬¼ì„ ì£¼ëŠ” ê²ƒ ê°™ì•„ìš”. ê½ƒí–¥ê¸°ë¥¼ ë§¡ì•„ë³´ê³ , ë‚˜ë¹„ë‚˜ ë²Œë“¤ì´ ê½ƒì„ ì°¾ì•„ì˜¤ëŠ” ëª¨ìŠµë„ ê´€ì°°í•´ë³´ì„¸ìš”. ê³„ì ˆì´ ë°”ë€Œë©´ì„œ í”¼ëŠ” ê½ƒë“¤ë„ ë‹¬ë¼ì§‘ë‹ˆë‹¤.",extra:" ì—¬ë¦„ì—ëŠ” í•´ë°”ë¼ê¸°ì™€ ìž¥ë¯¸ê°€ í”¼ê³ , ê°€ì„ì—ëŠ” ì½”ìŠ¤ëª¨ìŠ¤ì™€ êµ­í™”ê°€ ì•„ë¦„ë‹µê²Œ í•ë‹ˆë‹¤. ê²¨ìš¸ì—ëŠ” ë™ë°±ê½ƒì´ ì¶”ìœ„ë¥¼ ì´ê²¨ë‚´ë©° ë¶‰ê²Œ í”¼ì–´ë‚©ë‹ˆë‹¤. ìš°ë¦¬ë‚˜ë¼ì—ëŠ” ì •ë§ ë‹¤ì–‘í•œ ê½ƒë“¤ì´ ì‚¬ê³„ì ˆ ë‚´ë‚´ í”¼ì–´ë‚˜ë¯€ë¡œ ì–¸ì œë“ ì§€ ì•„ë¦„ë‹¤ìš´ ìžì—°ì„ ë§Œë‚  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ê½ƒì„ í†µí•´ ìžì—°ì˜ ì‹ ë¹„ë¡œì›€ê³¼ ìƒëª…ì˜ ì†Œì¤‘í•¨ì„ ë°°ìš¸ ìˆ˜ ìžˆì–´ìš”."},sports:{base:"ìš´ë™ì€ ìš°ë¦¬ ëª¸ì„ ê±´ê°•í•˜ê²Œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤. ì¶•êµ¬, ë†êµ¬, ìˆ˜ì˜ ë“± ì—¬ëŸ¬ ê°€ì§€ ìŠ¤í¬ì¸ ê°€ ìžˆì–´ìš”. ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ìš´ë™ì„ í•˜ë©´ ë”ìš± ìž¬ë¯¸ìžˆìŠµë‹ˆë‹¤. ìš´ë™ì„ í•˜ë©´ ê·¼ìœ¡ì´ ê°•í•´ì§€ê³  ì‹¬ìž¥ë„ ê±´ê°•í•´ì§‘ë‹ˆë‹¤. ë§¤ì¼ ì¡°ê¸ˆì”©ì´ë¼ë„ ëª¸ì„ ì›€ì§ì´ëŠ” ê²ƒì´ ì¢‹ì•„ìš”. ìš´ë™ì€ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì¤„ì—¬ì£¼ê³  ê¸°ë¶„ì„ ì¢‹ê²Œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.",additional:" íŒ€ ìŠ¤í¬ì¸ ë¥¼ í•˜ë©´ í˜‘ë™ì‹¬ì„ ê¸°ë¥¼ ìˆ˜ ìžˆì–´ìš”. ì„œë¡œ ë„ì™€ì£¼ê³  ì‘ì›í•˜ë©´ì„œ í•¨ê»˜ ëª©í‘œë¥¼ ë‹¬ì„±í•˜ëŠ” ê¸°ì¨ì„ ëŠë‚„ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì˜¬ë¦¼í”½ì´ë‚˜ ì›”ë“œì»µ ê°™ì€ í° ëŒ€íšŒë¥¼ ë³´ë©´ì„œ ì„ ìˆ˜ë“¤ì˜ ë…¸ë ¥ê³¼ ì—´ì •ì„ ë°°ìš¸ ìˆ˜ ìžˆì–´ìš”.",extra:" ìš´ë™ì„ ìˆ˜ê°€ ë˜ë ¤ë©´ ì–´ë¦´ ë•Œë¶€í„° ê¾¸ì¤€ížˆ ì—°ìŠµí•´ì•¼ í•©ë‹ˆë‹¤. ê±´ê°•í•œ ëª¸ê³¼ ê°•í•œ ì •ì‹ ë ¥ì´ í•„ìš”í•´ìš”. ìš°ë¦¬ë„ ë§¤ì¼ ìš´ë™í•˜ëŠ” ìŠµê´€ì„ ê¸°ë¥´ë©´ ê±´ê°•í•˜ê³  í–‰ë³µí•œ ìƒí™œì„ í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."}},l=a[t]||a.nature,{base:r,additional:n,extra:i}=l,o=parseInt(e);let c=r;if(o>=600&&(c+=n),o>=1e3&&(c+=i),c.length<o){const e={game:" ê¸°ìˆ ì€ ìš°ë¦¬ ìƒí™œì„ ë”ìš± íŽ¸ë¦¬í•˜ê²Œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.",nature:" ìžì—°ì€ ìš°ë¦¬ ìƒí™œì— ê¸°ì¨ê³¼ ì•„ë¦„ë‹¤ì›€ì„ ê°€ì ¸ë‹¤ì¤ë‹ˆë‹¤.",sports:" ìš´ë™ì€ ê±´ê°•í•œ ìƒí™œì˜ ê¸°ì´ˆê°€ ë©ë‹ˆë‹¤."};c+=(e[t]||e.nature).repeat(Math.ceil((o-c.length)/30))}return c.substring(0,o)}async getStats(){return await this.simulateDelay(),{success:!0,stats:{totalGenerations:42,totalTokens:3580,providerBreakdown:{claude:{count:25,tokens:2100},gemini:{count:17,tokens:1480}},contentTypeBreakdown:{reading:{count:15,tokens:1800},vocabulary:{count:12,tokens:980},questions:{count:10,tokens:600},answers:{count:5,tokens:200}},dailyUsage:{"2025-08-01":{count:8,tokens:720},"2025-07-31":{count:12,tokens:1040},"2025-07-30":{count:10,tokens:850}}}}}};var l=t(493);const r=new class{constructor(e=10,s=6e4){this.maxRequests=e,this.windowMs=s,this.requests=[]}canMakeRequest(){const e=Date.now();return this.requests=this.requests.filter(s=>e-s<this.windowMs),this.requests.length<this.maxRequests&&(this.requests.push(e),!0)}getRemainingTime(){if(0===this.requests.length)return 0;const e=Math.min(...this.requests),s=Date.now();return Math.max(0,this.windowMs-(s-e))}}(10,6e4),n=(e,s,t=null)=>{(new Date).toISOString(),window.location.hostname},i=new class{constructor(){this.providers={openai:{url:"https://api.openai.com/v1/chat/completions",headers:e=>({"Content-Type":"application/json",Authorization:`Bearer ${e}`}),formatRequest:e=>({model:"gpt-3.5-turbo",messages:[{role:"user",content:e}],temperature:.7}),parseResponse:e=>({success:!0,content:e.choices?.[0]?.message?.content||"",metadata:{provider:"openai",model:e.model,tokensUsed:e.usage?.total_tokens||0}})},anthropic:{url:"/api/anthropic",headers:e=>({"Content-Type":"application/json","x-api-key":e,"anthropic-version":"2023-06-01"}),formatRequest:e=>({model:"claude-3-sonnet-20240229",max_tokens:4e3,messages:[{role:"user",content:e}]}),parseResponse:e=>({success:!0,content:e.content?.[0]?.text||"",metadata:{provider:"anthropic",model:e.model,tokensUsed:e.usage?.total_tokens||0}})}}}async generateContent(e){try{if(!(()=>{const e=window.location.hostname;return["localhost","127.0.0.1","wonbyte-pro.vercel.app","wonbyte-pro-git-main-mingukang0719s-projects.vercel.app"].some(s=>e.includes(s))})())throw new Error("í—ˆìš©ë˜ì§€ ì•Šì€ í™˜ê²½ì—ì„œì˜ API í˜¸ì¶œìž…ë‹ˆë‹¤.");if(!r.canMakeRequest()){const e=Math.ceil(r.getRemainingTime()/1e3);throw new Error(`API í˜¸ì¶œ ì œí•œì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ${e}ì´ˆ í›„ì— ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`)}const{provider:t="openai",prompt:a}=e,i=l.v4[t];if(!i)throw new Error(`${t} API í‚¤ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`);const o=this.providers[t];if(!o)throw new Error(`ì§€ì›í•˜ì§€ ì•ŠëŠ” AI ì œê³µìžìž…ë‹ˆë‹¤: ${t}`);const c=await fetch(o.url,{method:"POST",headers:o.headers(i),body:JSON.stringify(o.formatRequest(a))});if(!c.ok){const e=await c.json();throw new Error(e.error?.message||`API í˜¸ì¶œ ì‹¤íŒ¨: ${c.status}`)}const d=await c.json(),m=o.parseResponse(d);return m.content&&"string"==typeof m.content&&(m.content="string"!=typeof(s=m.content)?s:s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/javascript:/gi,"").replace(/on\w+\s*=/gi,"")),n(),m}catch(s){throw console.error("Client AI Service Error:",s),n(e.provider,0,s),s}var s}async generateReadingText(e,s,t,a="openai"){const l=`ë‹¤ìŒ ì¡°ê±´ì— ë§žëŠ” í•œêµ­ì–´ ì½ê¸° ì§€ë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”:\n    \nì£¼ì œ: ${e}\ní•™ë…„ ìˆ˜ì¤€: ${s}\nê¸¸ì´: ì•½ ${t}ìž\n\nì§€ë¬¸ ìž‘ì„± ì‹œ ë‹¤ìŒ ì‚¬í•­ì„ ì§€ì¼œì£¼ì„¸ìš”:\n1. í•´ë‹¹ í•™ë…„ ìˆ˜ì¤€ì— ë§žëŠ” ì–´íœ˜ì™€ ë¬¸ìž¥ êµ¬ì¡° ì‚¬ìš©\n2. êµìœ¡ì ì´ê³  í¥ë¯¸ë¡œìš´ ë‚´ìš©\n3. ëª…í™•í•œ ì£¼ì œì™€ êµ¬ì¡°ë¥¼ ê°€ì§„ ì™„ì„±ëœ ê¸€\n4. í•œêµ­ì–´ ë§žì¶¤ë²•ê³¼ ë¬¸ë²• ì¤€ìˆ˜\n\nì§€ë¬¸ë§Œ ìž‘ì„±í•˜ê³  ë‹¤ë¥¸ ì„¤ëª…ì€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.`,r=await this.generateContent({provider:a,prompt:l});let n=r.content;if("string"==typeof n){n=n.trim();const s=n.split("\n"),t=s[0]?.replace(/^#+ /,"")||`${e} ì´ì•¼ê¸°`,a=s.slice(1).join("\n").trim()||n;r.content={title:t,mainContent:{introduction:a}}}return r}async analyzeReadingLevel(e,s,t="openai"){const a=`ë‹¤ìŒ í…ìŠ¤íŠ¸ì˜ ë¬¸í•´ë ¥ ë‚œì´ë„ë¥¼ ë¶„ì„í•´ì£¼ì„¸ìš”:\n\ní…ìŠ¤íŠ¸: """\n${e}\n"""\n\nëŒ€ìƒ í•™ë…„: ${s}\n\në‹¤ìŒ 5ê°€ì§€ ê¸°ì¤€ìœ¼ë¡œ ê°ê° 1-10ì ìœ¼ë¡œ í‰ê°€í•˜ê³  ê°„ë‹¨í•œ ì„¤ëª…ì„ ì œê³µí•´ì£¼ì„¸ìš”:\n1. í…ìŠ¤íŠ¸ ê¸¸ì´ì™€ êµ¬ì¡° (textLength)\n2. ì–´íœ˜ ë‚œì´ë„ (vocabularyLevel)\n3. ë¬¸ìž¥ ë³µìž¡ë„ (sentenceComplexity)\n4. ë‚´ìš© ìˆ˜ì¤€ (contentLevel)\n5. ë°°ê²½ì§€ì‹ ìš”êµ¬ë„ (backgroundKnowledge)\n\nì‘ë‹µ í˜•ì‹:\n{\n  "textLength": ì ìˆ˜,\n  "vocabularyLevel": ì ìˆ˜,\n  "sentenceComplexity": ì ìˆ˜,\n  "contentLevel": ì ìˆ˜,\n  "backgroundKnowledge": ì ìˆ˜,\n  "totalScore": í‰ê· ì ìˆ˜,\n  "analysis": "ì¢…í•© ë¶„ì„ ì„¤ëª…"\n}`,l=await this.generateContent({provider:t,prompt:a});try{const e=l.content.match(/\{[\s\S]*\}/);if(e){const s=JSON.parse(e[0]);l.content=s}else l.content={textLength:5,vocabularyLevel:5,sentenceComplexity:5,contentLevel:5,backgroundKnowledge:5,totalScore:5,analysis:"ë¬¸í•´ë ¥ ë¶„ì„ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤."}}catch(e){console.error("ë¶„ì„ ê²°ê³¼ íŒŒì‹± ì˜¤ë¥˜:",e)}return l}async extractVocabulary(e,s,t=10,a="openai"){const l=`ë‹¤ìŒ í…ìŠ¤íŠ¸ì—ì„œ ${s} í•™ìƒì´ í•™ìŠµí•´ì•¼ í•  í•µì‹¬ ì–´íœ˜ ${t}ê°œë¥¼ ì¶”ì¶œí•´ì£¼ì„¸ìš”:\n\ní…ìŠ¤íŠ¸: """\n${e}\n"""\n\nê° ì–´íœ˜ì— ëŒ€í•´ ë‹¤ìŒ ì •ë³´ë¥¼ ì œê³µí•´ì£¼ì„¸ìš”:\n- word: ë‹¨ì–´\n- meaning: ì˜ë¯¸ ì„¤ëª… (í•™ë…„ ìˆ˜ì¤€ì— ë§žê²Œ)\n- difficulty: ë‚œì´ë„ (â˜… 1-5ê°œ)\n- example: ì˜ˆë¬¸\n\nJSON ë°°ì—´ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì£¼ì„¸ìš”.`,r=await this.generateContent({provider:a,prompt:l});try{const e=r.content.match(/\[[\s\S]*\]/);if(e){const s=JSON.parse(e[0]);r.content={vocabularyList:s}}else r.content={vocabularyList:[{word:"í•™ìŠµ",meaning:"ë°°ìš°ê³  ìµížˆëŠ” ê²ƒ",difficulty:"â˜…â˜…â˜…",example:"ë§¤ì¼ ê¾¸ì¤€ížˆ í•™ìŠµí•´ì•¼ í•©ë‹ˆë‹¤."}]}}catch(e){console.error("ì–´íœ˜ ì¶”ì¶œ íŒŒì‹± ì˜¤ë¥˜:",e)}return r}async generateProblems(e,s,t,a="openai"){const l=`ë‹¤ìŒ ì§€ë¬¸ì„ ë°”íƒ•ìœ¼ë¡œ ${{vocabulary:"ì–´íœ˜",comprehension:"ë…í•´",inference:"ì¶”ë¡ ",critical:"ë¹„íŒì  ì‚¬ê³ "}[s]||s} ë¬¸ì œë¥¼ ${t}ê°œ ë§Œë“¤ì–´ì£¼ì„¸ìš”:\n\nì§€ë¬¸: """\n${e}\n"""\n\nê° ë¬¸ì œëŠ” ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ìž‘ì„±í•´ì£¼ì„¸ìš”:\n- id: ë¬¸ì œ ë²ˆí˜¸\n- type: "${s}"\n- question: ë¬¸ì œ\n- options: 4ê°œì˜ ì„ íƒì§€ ë°°ì—´\n- answer: ì •ë‹µ ì¸ë±ìŠ¤ (0-3)\n- explanation: í•´ì„¤\n\nJSON ë°°ì—´ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•´ì£¼ì„¸ìš”.`,r=await this.generateContent({provider:a,prompt:l});try{const e=r.content.match(/\[[\s\S]*\]/);if(e){const s=JSON.parse(e[0]);r.content={problems:s}}else r.content={problems:[{id:1,type:s,question:"ì´ ê¸€ì˜ ì£¼ì œëŠ” ë¬´ì—‡ìž…ë‹ˆê¹Œ?",options:["ì„ íƒì§€ 1","ì„ íƒì§€ 2","ì„ íƒì§€ 3","ì„ íƒì§€ 4"],answer:0,explanation:"ì´ ê¸€ì˜ ì£¼ì œë¥¼ íŒŒì•…í•˜ëŠ” ë¬¸ì œìž…ë‹ˆë‹¤."}]}}catch(e){console.error("ë¬¸ì œ ìƒì„± íŒŒì‹± ì˜¤ë¥˜:",e)}return r}},o=new class{constructor(){this.baseURL="https://wonbyte-pro.onrender.com",this.demoService=new a,this.clientAIService=i,this.isDemo=!1,this.useClientAI=!1,console.log("AIService Constructor - FORCED baseURL:",this.baseURL)}async generateContent(e){try{if(this.useClientAI){if("reading"===e.contentType){const s=e.prompt.match(/(.+)ì— ëŒ€í•œ/)?.[1]||"ì£¼ì œ",t=e.contentLength||800;return await this.clientAIService.generateReadingText(s,e.targetAge,t,e.provider)}return await this.clientAIService.generateContent(e)}if(this.isDemo)return await this.demoService.generateContent(e.provider||"claude",e.contentType||"reading",e.prompt,{targetAge:e.targetAge,difficulty:e.difficulty,contentLength:e.contentLength});const s=`${this.baseURL}/api/ai/generate`;console.log("AI Service - Base URL:",this.baseURL),console.log("AI Service - Full URL:",s),console.log("AI Service - Request:",e),console.log("AI Service - Timestamp:",(new Date).toISOString());const t=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(!a.success)throw new Error(a.error||"AI ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");return a}catch(e){throw console.error("AI Service Error:",e),new Error(`AI ì½˜í…ì¸  ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìž ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”. (${e.message})`)}}async analyzeReadingLevel(e,s){try{if(this.useClientAI)return await this.clientAIService.analyzeReadingLevel(e,s);if(this.isDemo)return this.mockAnalyzeReadingLevel(e);const t=await fetch(`${this.baseURL}/api/ai/analyze-text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,grade:s})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(!a.success)throw new Error(a.error||"í…ìŠ¤íŠ¸ ë¶„ì„ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");return a}catch(e){throw console.error("Reading Level Analysis Error:",e),e}}async extractVocabulary(e,s,t=20){try{if(this.useClientAI)return await this.clientAIService.extractVocabulary(e,s,t);if(this.isDemo)return this.mockExtractVocabulary(e,t);const a=await fetch(`${this.baseURL}/api/ai/extract-vocabulary`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,grade:s,count:t})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=await a.json();if(!l.success)throw new Error(l.error||"ì–´íœ˜ ì¶”ì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");return l}catch(e){throw console.error("Vocabulary Extraction Error:",e),new Error(`ì–´íœ˜ ì¶”ì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìž ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”. (${e.message})`)}}async generateReadingProblems(e,s,t,a="elem4"){try{if(this.useClientAI)return await this.clientAIService.generateProblems(e,s,t);if(this.isDemo)return this.mockGenerateProblems(e,s,t);const l=await fetch(`${this.baseURL}/api/ai/generate-problems`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,grade:a,problemTypes:Array.isArray(s)?s:[s],count:t})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const r=await l.json();if(!r.success)throw new Error(r.error||"ë¬¸ì œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");return r}catch(e){throw console.error("Problem Generation Error:",e),new Error(`ë¬¸ì œ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ìž ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”. (${e.message})`)}}mockAnalyzeReadingLevel(e){const s=e.length,t=s/e.split(/[.!?]/).filter(e=>e.trim()).length;return{success:!0,content:{textLength:Math.min(10,Math.round(s/200)),vocabularyLevel:Math.min(10,Math.round(t/5)),sentenceComplexity:Math.min(10,Math.round(t/10)),contentLevel:Math.min(10,7),backgroundKnowledge:Math.min(10,5),totalScore:Math.round((s/200+t/5+t/10+7+5)/5),analysis:"ì´ ì§€ë¬¸ì€ í•´ë‹¹ í•™ë…„ ìˆ˜ì¤€ì— ì í•©í•œ ë‚œì´ë„ë¥¼ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤."}}}mockExtractVocabulary(e,s){const t=["í•™ìŠµ","ì´í•´","ë°œì „","ë…¸ë ¥","ì„±ì·¨","ëª©í‘œ","ê³¼ì •","ê²°ê³¼","ë°©ë²•","ì „ëžµ"];return{success:!0,content:{vocabularyList:t.slice(0,Math.min(s,t.length)).map(e=>({word:e,meaning:`${e}ì˜ ì˜ë¯¸ ì„¤ëª…`,difficulty:"â˜…â˜…â˜…â˜†â˜†",example:`${e}ì„(ë¥¼) ì‚¬ìš©í•œ ì˜ˆë¬¸ìž…ë‹ˆë‹¤.`}))}}}mockGenerateProblems(e,s,t){const a=[];if("vocabulary"===s)for(let e=1;e<=t;e++)a.push({id:e,type:"vocabulary",question:`ë¬¸ì œ ${e}: ë‹¤ìŒ ë‹¨ì–´ì˜ ì˜ë¯¸ë¡œ ê°€ìž¥ ì ì ˆí•œ ê²ƒì€?`,word:"ì˜ˆì‹œë‹¨ì–´",options:["ì˜ë¯¸1","ì˜ë¯¸2","ì˜ë¯¸3","ì˜ë¯¸4"],answer:0,explanation:"ì´ ë‹¨ì–´ëŠ” ì´ëŸ° ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìžˆìŠµë‹ˆë‹¤."});else for(let e=1;e<=t;e++)a.push({id:e,type:"comprehension",question:`ë¬¸ì œ ${e}: ì´ ê¸€ì˜ ë‚´ìš©ê³¼ ì¼ì¹˜í•˜ëŠ” ê²ƒì€?`,options:["ì„ íƒì§€1","ì„ íƒì§€2","ì„ íƒì§€3","ì„ íƒì§€4"],answer:0,explanation:"ì§€ë¬¸ì˜ ì´ ë¶€ë¶„ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."});return{success:!0,content:{problems:a}}}async getProviderStatus(){try{const e=await fetch(`${this.baseURL}/api/ai/status`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(await e.json()).status}catch(e){return console.error("AI Status Error:",e),null}}async generateVocabulary(e,s={}){return this.generateContent({contentType:"vocabulary",prompt:e,...s})}async generateGrammar(e,s={}){return this.generateContent({contentType:"grammar",prompt:e,...s})}async generateReading(e,s={}){return this.generateContent({contentType:"reading",prompt:e,...s})}async generateQuiz(e,s={}){return this.generateContent({contentType:"quiz",prompt:e,...s})}getSamplePrompts(){return{vocabulary:["í•œêµ­ì–´ ì¸ì‚¬ë§ì— ëŒ€í•œ ì–´íœ˜ í•™ìŠµ ìžë£Œë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”","ìŒì‹ ê´€ë ¨ í•œêµ­ì–´ ë‹¨ì–´ë“¤ì„ ì •ë¦¬í•´ì£¼ì„¸ìš”","í•œêµ­ì˜ ì „í†µ ë¬¸í™” ê´€ë ¨ ì–´íœ˜ë¥¼ í•™ìŠµí•  ìˆ˜ ìžˆëŠ” ìžë£Œë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”"],grammar:["í•œêµ­ì–´ ì¡´ëŒ“ë§ê³¼ ë°˜ë§ì˜ ì°¨ì´ë¥¼ ì„¤ëª…í•´ì£¼ì„¸ìš”","í•œêµ­ì–´ ì¡°ì‚¬ 'ì€/ëŠ”'ê³¼ 'ì´/ê°€'ì˜ ì‚¬ìš©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”","í•œêµ­ì–´ ì‹œì œ í‘œí˜„ì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ì„¸ìš”"],reading:["í•œêµ­ì˜ ì‚¬ê³„ì ˆì— ëŒ€í•œ ì½ê¸° ìžë£Œë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”","í•œêµ­ì˜ ì „í†µ ìŒì‹ ì†Œê°œ ê¸€ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”","í•œêµ­ ëŒ€í•™ìƒì˜ ì¼ìƒìƒí™œì— ëŒ€í•œ ê¸€ì„ ì¨ì£¼ì„¸ìš”"],quiz:["í•œêµ­ì–´ ê¸°ì´ˆ ì–´íœ˜ í€´ì¦ˆë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”","í•œêµ­ ë¬¸í™”ì— ëŒ€í•œ ì´í•´ë„ë¥¼ í™•ì¸í•˜ëŠ” í€´ì¦ˆë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”","í•œêµ­ì–´ ë¬¸ë²• ì‹¤ë ¥ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë¬¸ì œë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”"]}}getDifficultyGuide(){return{beginner:{label:"ì´ˆê¸‰",description:"í•œê¸€ì„ ì½ì„ ìˆ˜ ìžˆê³  ê¸°ë³¸ ë‹¨ì–´ 500ê°œ ì •ë„ ì•„ëŠ” ìˆ˜ì¤€",features:["ë¡œë§ˆìž í‘œê¸° í¬í•¨","ì‰¬ìš´ ì–´íœ˜ ì‚¬ìš©","ë‹¨ìˆœí•œ ë¬¸ìž¥ êµ¬ì¡°"]},intermediate:{label:"ì¤‘ê¸‰",description:"ì¼ìƒ ëŒ€í™”ê°€ ê°€ëŠ¥í•˜ê³  ê¸°ë³¸ ë¬¸ë²•ì„ ì•„ëŠ” ìˆ˜ì¤€",features:["ì‹¤ìš©ì ì¸ í‘œí˜„","ë‹¤ì–‘í•œ ë¬¸ë²• í™œìš©","ë¬¸í™”ì  ë§¥ë½ í¬í•¨"]},advanced:{label:"ê³ ê¸‰",description:"ë³µìž¡í•œ ë¬¸ìž¥ì„ ì´í•´í•˜ê³  ë‰˜ì•™ìŠ¤ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìžˆëŠ” ìˆ˜ì¤€",features:["ê³ ê¸‰ ì–´íœ˜","ë³µìž¡í•œ ë¬¸ë²•","ì¶”ìƒì  ê°œë…"]}}}getAgeGuide(){return{child:{label:"ì–´ë¦°ì´",description:"ìž¬ë¯¸ìžˆê³  ì‰¬ìš´ ì˜ˆì‹œ, ê·¸ë¦¼ì´ë‚˜ ê²Œìž„ ìš”ì†Œ í¬í•¨",features:["ë†€ì´ ì¤‘ì‹¬","ì‹œê°ì  ìš”ì†Œ","ë°˜ë³µ í•™ìŠµ"]},teen:{label:"ì²­ì†Œë…„",description:"í•™êµìƒí™œ, ì¹œêµ¬ ê´€ê³„ ë“± ê´€ë ¨ ì˜ˆì‹œ",features:["í•™ê¸‰ ì¹œí™”ì ","ë˜ëž˜ ë¬¸í™”","ì‹¤ìš©ì  íšŒí™”"]},adult:{label:"ì„±ì¸",description:"ì§ìž¥ìƒí™œ, ì‚¬íšŒìƒí™œ ë“± ì‹¤ìš©ì  ì˜ˆì‹œ",features:["ë¹„ì¦ˆë‹ˆìŠ¤ í•œêµ­ì–´","ê³µì‹ì  í‘œí˜„","ì‚¬íšŒ ë¬¸í™”"]},senior:{label:"ì‹œë‹ˆì–´",description:"ì²œì²œížˆ, ìžì„¸ížˆ, ë°˜ë³µ ì„¤ëª… ìœ„ì£¼",features:["ì²´ê³„ì  ì„¤ëª…","ì¶©ë¶„í•œ ì—°ìŠµ","ë°˜ë³µ ê°•í™”"]}}}}}},n={};function i(e){var s=n[e];if(void 0!==s)return s.exports;var t=n[e]={exports:{}};return r[e].call(t.exports,t,t.exports,i),t.exports}i.m=r,e=[],i.O=(s,t,a,l)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,a,l]=e[d],n=!0,o=0;o<t.length;o++)(!1&l||r>=l)&&Object.keys(i.O).every(e=>i.O[e](t[o]))?t.splice(o--,1):(n=!1,l<r&&(r=l));if(n){e.splice(d--,1);var c=a();void 0!==c&&(s=c)}}return s}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[t,a,l]},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var l=Object.create(null);i.r(l);var r={};s=s||[null,t({}),t([]),t(t)];for(var n=2&a&&e;("object"==typeof n||"function"==typeof n)&&!~s.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach(s=>r[s]=()=>e[s]);return r.default=()=>e,i.d(l,r),l},i.d=(e,s)=>{for(var t in s)i.o(s,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce((s,t)=>(i.f[t](e,s),s),[])),i.u=e=>e+".2ee03ff1993f09ed25b2.js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),a={},l="wonbyte-pro:",i.l=(e,s,t,r)=>{if(a[e])a[e].push(s);else{var n,o;if(void 0!==t)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var m=c[d];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==l+t){n=m;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,i.nc&&n.setAttribute("nonce",i.nc),n.setAttribute("data-webpack",l+t),n.src=e),a[e]=[s];var x=(s,t)=>{n.onerror=n.onload=null,clearTimeout(u);var l=a[e];if(delete a[e],n.parentNode&&n.parentNode.removeChild(n),l&&l.forEach(e=>e(t)),s)return s(t)},u=setTimeout(x.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=x.bind(null,n.onerror),n.onload=x.bind(null,n.onload),o&&document.head.appendChild(n)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="/wonbyte-pro/",(()=>{var e={792:0};i.f.j=(s,t)=>{var a=i.o(e,s)?e[s]:void 0;if(0!==a)if(a)t.push(a[2]);else{var l=new Promise((t,l)=>a=e[s]=[t,l]);t.push(a[2]=l);var r=i.p+i.u(s),n=new Error;i.l(r,t=>{if(i.o(e,s)&&(0!==(a=e[s])&&(e[s]=void 0),a)){var l=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;n.message="Loading chunk "+s+" failed.\n("+l+": "+r+")",n.name="ChunkLoadError",n.type=l,n.request=r,a[1](n)}},"chunk-"+s,s)}},i.O.j=s=>0===e[s];var s=(s,t)=>{var a,l,[r,n,o]=t,c=0;if(r.some(s=>0!==e[s])){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(o)var d=o(i)}for(s&&s(t);c<r.length;c++)l=r[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(d)},t=self.webpackChunkwonbyte_pro=self.webpackChunkwonbyte_pro||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var o=i.O(void 0,[96],()=>i(280));o=i.O(o)})();
//# sourceMappingURL=main.35f7d1ec5b8f679d9e47.js.map